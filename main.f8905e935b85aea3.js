(self.webpackChunkwatchlist_angular=self.webpackChunkwatchlist_angular||[]).push([[179],{971:(Vt,go,mo)=>{"use strict";function Pe(e){return"function"==typeof e}function Yo(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Fn=Yo(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Jo(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Jt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Pe(r))try{r()}catch(o){t=o instanceof Fn?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Xo(o)}catch(s){t=t??[],s instanceof Fn?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Fn(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Xo(t);else{if(t instanceof Jt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Jo(n,t)}remove(t){const{_finalizers:n}=this;n&&Jo(n,t),t instanceof Jt&&t._removeParent(this)}}Jt.EMPTY=(()=>{const e=new Jt;return e.closed=!0,e})();const Qo=Jt.EMPTY;function js(e){return e instanceof Jt||e&&"closed"in e&&Pe(e.remove)&&Pe(e.add)&&Pe(e.unsubscribe)}function Xo(e){Pe(e)?e():e.unsubscribe()}const Fi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},yo={setTimeout(e,t,...n){const{delegate:r}=yo;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=yo;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function dr(e){yo.setTimeout(()=>{const{onUnhandledError:t}=Fi;if(!t)throw e;t(e)})}function al(){}const ll=vo("C",void 0,void 0);function vo(e,t,n){return{kind:e,value:t,error:n}}let Ln=null;function _o(e){if(Fi.useDeprecatedSynchronousErrorHandling){const t=!Ln;if(t&&(Ln={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Ln;if(Ln=null,n)throw r}}else e()}class bo extends Jt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,js(t)&&t.add(this)):this.destination=dl}static create(t,n,r){return new Do(t,n,r)}next(t){this.isStopped?es(function cl(e){return vo("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?es(function Tr(e){return vo("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?es(ll,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const wo=Function.prototype.bind;function Bs(e,t){return wo.call(e,t)}class Us{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Zo(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Zo(r)}else Zo(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Zo(n)}}}class Do extends bo{constructor(t,n,r){let i;if(super(),Pe(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Fi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Bs(t.next,o),error:t.error&&Bs(t.error,o),complete:t.complete&&Bs(t.complete,o)}):i=t}this.destination=new Us(i)}}function Zo(e){Fi.useDeprecatedSynchronousErrorHandling?function ul(e){Fi.useDeprecatedSynchronousErrorHandling&&Ln&&(Ln.errorThrown=!0,Ln.error=e)}(e):dr(e)}function es(e,t){const{onStoppedNotification:n}=Fi;n&&yo.setTimeout(()=>n(e,t))}const dl={closed:!0,next:al,error:function sh(e){throw e},complete:al},ts="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kr(e){return e}function z(e){return 0===e.length?Kr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let G=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Ae(e){return e&&e instanceof bo||function Re(e){return e&&Pe(e.next)&&Pe(e.error)&&Pe(e.complete)}(e)&&js(e)}(n)?n:new Do(n,r,i);return _o(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ve(r))((i,o)=>{const s=new Do({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ts](){return this}pipe(...n){return z(n)(this)}toPromise(n){return new(n=ve(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function ve(e){var t;return null!==(t=e??Fi.Promise)&&void 0!==t?t:Promise}const jt=Yo(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let yt=(()=>{class e extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new bn(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jt}next(n){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_o(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Qo:(this.currentObservers=null,o.push(n),new Jt(()=>{this.currentObservers=null,Jo(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new G;return n.source=this,n}}return e.create=(t,n)=>new bn(t,n),e})();class bn extends yt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Qo}}function hi(e){return Pe(e?.lift)}function ct(e){return t=>{if(hi(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(e,t,n,r,i){return new PA(e,t,n,r,i)}class PA extends bo{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function _e(e,t){return ct((n,r)=>{let i=0;n.subscribe(st(r,o=>{r.next(e.call(t,o,i++))}))})}function ns(e){return this instanceof ns?(this.v=e,this):new ns(e)}function RA(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(g,m){o.push([f,h,g,m])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof ns?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}(r[f](h))}catch(g){d(o[0][3],g)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function NA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Cv(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}const lh=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Ev(e){return Pe(e?.then)}function Sv(e){return Pe(e[ts])}function Iv(e){return Symbol.asyncIterator&&Pe(e?.[Symbol.asyncIterator])}function Av(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Mv=function LA(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Tv(e){return Pe(e?.[Mv])}function xv(e){return RA(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield ns(n.read());if(i)return yield ns(void 0);yield yield ns(r)}}finally{n.releaseLock()}})}function Pv(e){return Pe(e?.getReader)}function er(e){if(e instanceof G)return e;if(null!=e){if(Sv(e))return function VA(e){return new G(t=>{const n=e[ts]();if(Pe(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(lh(e))return function jA(e){return new G(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Ev(e))return function BA(e){return new G(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,dr)})}(e);if(Iv(e))return Ov(e);if(Tv(e))return function UA(e){return new G(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Pv(e))return function $A(e){return Ov(xv(e))}(e)}throw Av(e)}function Ov(e){return new G(t=>{(function HA(e,t){var n,r,i,o;return function OA(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=NA(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Li(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function hn(e,t,n=1/0){return Pe(t)?hn((r,i)=>_e((o,s)=>t(r,o,i,s))(er(e(r,i))),n):("number"==typeof t&&(n=t),ct((r,i)=>function GA(e,t,n,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&t.complete()},h=m=>c<r?g(m):l.push(m),g=m=>{o&&t.next(m),c++;let D=!1;er(n(m,u++)).subscribe(st(t,w=>{i?.(w),o?h(w):t.next(w)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<r;){const w=l.shift();s?Li(t,s,()=>g(w)):g(w)}f()}catch(w){t.error(w)}}))};return e.subscribe(st(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,n)))}function $s(e=1/0){return hn(Kr,e)}const pi=new G(e=>e.complete());function kv(e){return e&&Pe(e.schedule)}function ch(e){return e[e.length-1]}function Rv(e){return Pe(ch(e))?e.pop():void 0}function fl(e){return kv(ch(e))?e.pop():void 0}function Nv(e,t=0){return ct((n,r)=>{n.subscribe(st(r,i=>Li(r,e,()=>r.next(i),t),()=>Li(r,e,()=>r.complete(),t),i=>Li(r,e,()=>r.error(i),t)))})}function Fv(e,t=0){return ct((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Lv(e,t){if(!e)throw new Error("Iterable cannot be null");return new G(n=>{Li(n,t,()=>{const r=e[Symbol.asyncIterator]();Li(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function an(e,t){return t?function XA(e,t){if(null!=e){if(Sv(e))return function WA(e,t){return er(e).pipe(Fv(t),Nv(t))}(e,t);if(lh(e))return function YA(e,t){return new G(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Ev(e))return function qA(e,t){return er(e).pipe(Fv(t),Nv(t))}(e,t);if(Iv(e))return Lv(e,t);if(Tv(e))return function JA(e,t){return new G(n=>{let r;return Li(n,t,()=>{r=e[Mv](),Li(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Pe(r?.return)&&r.return()})}(e,t);if(Pv(e))return function QA(e,t){return Lv(xv(e),t)}(e,t)}throw Av(e)}(e,t):er(e)}function Vv(...e){const t=fl(e),n=function KA(e,t){return"number"==typeof ch(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?er(r[0]):$s(n)(an(r,t)):pi}function jv(e={}){const{connector:t=(()=>new yt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},g=()=>{const m=s;h(),m?.unsubscribe()};return ct((m,D)=>{c++,!d&&!u&&f();const w=l=l??t();D.add(()=>{c--,0===c&&!d&&!u&&(a=uh(g,i))}),w.subscribe(D),!s&&c>0&&(s=new Do({next:C=>w.next(C),error:C=>{d=!0,f(),a=uh(h,n,C),w.error(C)},complete:()=>{u=!0,f(),a=uh(h,r),w.complete()}}),er(m).subscribe(s))})(o)}}function uh(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Do({next:()=>{r.unsubscribe(),e()}});return er(t(...n)).subscribe(r)}function wt(e){for(let t in e)if(e[t]===wt)return t;throw Error("Could not find renamed property on target object.")}function dh(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ct(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ct).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function fh(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ZA=wt({__forward_ref__:wt});function Et(e){return e.__forward_ref__=Et,e.toString=function(){return Ct(this())},e}function De(e){return hh(e)?e():e}function hh(e){return"function"==typeof e&&e.hasOwnProperty(ZA)&&e.__forward_ref__===Et}function ph(e){return e&&!!e.\u0275providers}const Bv="https://g.co/ng/security#xss";class K extends Error{constructor(t,n){super(function lu(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function Ne(e){return"string"==typeof e?e:null==e?"":String(e)}function cu(e,t){throw new K(-201,!1)}function xr(e,t){null==e&&function dt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function tr(e){return{providers:e.providers||[],imports:e.imports||[]}}function uu(e){return Uv(e,du)||Uv(e,Hv)}function Uv(e,t){return e.hasOwnProperty(t)?e[t]:null}function $v(e){return e&&(e.hasOwnProperty(gh)||e.hasOwnProperty(lM))?e[gh]:null}const du=wt({\u0275prov:wt}),gh=wt({\u0275inj:wt}),Hv=wt({ngInjectableDef:wt}),lM=wt({ngInjectorDef:wt});var Ce=(()=>((Ce=Ce||{})[Ce.Default=0]="Default",Ce[Ce.Host=1]="Host",Ce[Ce.Self=2]="Self",Ce[Ce.SkipSelf=4]="SkipSelf",Ce[Ce.Optional=8]="Optional",Ce))();let mh;function Pr(e){const t=mh;return mh=e,t}function Gv(e,t,n){const r=uu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ce.Optional?null:void 0!==t?t:void cu(Ct(e))}const St=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),hl={},yh="__NG_DI_FLAG__",fu="ngTempTokenPath",dM=/\n/gm,zv="__source";let pl;function Hs(e){const t=pl;return pl=e,t}function hM(e,t=Ce.Default){if(void 0===pl)throw new K(-203,!1);return null===pl?Gv(e,void 0,t):pl.get(e,t&Ce.Optional?null:void 0,t)}function le(e,t=Ce.Default){return(function cM(){return mh}()||hM)(De(e),t)}function ze(e,t=Ce.Default){return le(e,hu(t))}function hu(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vh(e){const t=[];for(let n=0;n<e.length;n++){const r=De(e[n]);if(Array.isArray(r)){if(0===r.length)throw new K(900,!1);let i,o=Ce.Default;for(let s=0;s<r.length;s++){const a=r[s],l=pM(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(le(i,o))}else t.push(le(r))}return t}function gl(e,t){return e[yh]=t,e.prototype[yh]=t,e}function pM(e){return e[yh]}function Eo(e){return{toString:e}.toString()}var Wr=(()=>((Wr=Wr||{})[Wr.OnPush=0]="OnPush",Wr[Wr.Default=1]="Default",Wr))(),gi=(()=>{return(e=gi||(gi={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",gi;var e})();const Vi={},at=[],pu=wt({\u0275cmp:wt}),_h=wt({\u0275dir:wt}),bh=wt({\u0275pipe:wt}),Wv=wt({\u0275mod:wt}),ji=wt({\u0275fac:wt}),ml=wt({__NG_ELEMENT_ID__:wt});let yM=0;function Vn(e){return Eo(()=>{const n=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Wr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||at,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||gi.Emulated,id:"c"+yM++,styles:e.styles||at,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},o=e.dependencies,s=e.features;return i.inputs=Qv(e.inputs,r),i.outputs=Qv(e.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Yv).filter(Jv):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(jn).filter(Jv):null,i})}function Yv(e){return ft(e)||An(e)}function Jv(e){return null!==e}function hr(e){return Eo(()=>({type:e.type,bootstrap:e.bootstrap||at,declarations:e.declarations||at,imports:e.imports||at,exports:e.exports||at,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Qv(e,t){if(null==e)return Vi;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const Me=Vn;function nr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ft(e){return e[pu]||null}function An(e){return e[_h]||null}function jn(e){return e[bh]||null}function pr(e,t){const n=e[Wv]||null;if(!n&&!0===t)throw new Error(`Type ${Ct(e)} does not have '\u0275mod' property.`);return n}function gr(e){return Array.isArray(e)&&"object"==typeof e[1]}function Yr(e){return Array.isArray(e)&&!0===e[1]}function Ch(e){return 0!=(4&e.flags)}function bl(e){return e.componentOffset>-1}function _u(e){return 1==(1&e.flags)}function Jr(e){return null!==e.template}function _M(e){return 0!=(256&e[2])}function is(e,t){return e.hasOwnProperty(ji)?e[ji]:null}class DM{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Un(){return r_}function r_(e){return e.type.prototype.ngOnChanges&&(e.setInput=EM),CM}function CM(){const e=o_(this),t=e?.current;if(t){const n=e.previous;if(n===Vi)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function EM(e,t,n,r){const i=this.declaredInputs[n],o=o_(e)||function SM(e,t){return e[i_]=t}(e,{previous:Vi,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new DM(l&&l.currentValue,t,a===Vi),e[r]=t}Un.ngInherit=!0;const i_="__ngSimpleChanges__";function o_(e){return e[i_]||null}function wn(e){for(;Array.isArray(e);)e=e[0];return e}function bu(e,t){return wn(t[e])}function mr(e,t){return wn(t[e.index])}function l_(e,t){return e.data[t]}function Ys(e,t){return e[t]}function yr(e,t){const n=t[e];return gr(n)?n:n[0]}function wu(e){return 64==(64&e[2])}function So(e,t){return null==t?null:e[t]}function c_(e){e[18]=0}function Sh(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Fe={lFrame:__(null),bindingsEnabled:!0};function d_(){return Fe.bindingsEnabled}function U(){return Fe.lFrame.lView}function et(){return Fe.lFrame.tView}function Rt(e){return Fe.lFrame.contextLView=e,e[8]}function Nt(e){return Fe.lFrame.contextLView=null,e}function Dn(){let e=f_();for(;null!==e&&64===e.type;)e=e.parent;return e}function f_(){return Fe.lFrame.currentTNode}function yi(e,t){const n=Fe.lFrame;n.currentTNode=e,n.isParent=t}function Ih(){return Fe.lFrame.isParent}function Ah(){Fe.lFrame.isParent=!1}function $n(){const e=Fe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Js(){return Fe.lFrame.bindingIndex++}function $i(e){const t=Fe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function VM(e,t){const n=Fe.lFrame;n.bindingIndex=n.bindingRootIndex=e,Mh(t)}function Mh(e){Fe.lFrame.currentDirectiveIndex=e}function m_(){return Fe.lFrame.currentQueryIndex}function xh(e){Fe.lFrame.currentQueryIndex=e}function BM(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function y_(e,t,n){if(n&Ce.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Ce.Host||(i=BM(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,e=o}const r=Fe.lFrame=v_();return r.currentTNode=t,r.lView=e,!0}function Ph(e){const t=v_(),n=e[1];Fe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function v_(){const e=Fe.lFrame,t=null===e?null:e.child;return null===t?__(e):t}function __(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function b_(){const e=Fe.lFrame;return Fe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const w_=b_;function Oh(){const e=b_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Hn(){return Fe.lFrame.selectedIndex}function os(e){Fe.lFrame.selectedIndex=e}function Bt(){const e=Fe.lFrame;return l_(e.tView,e.selectedIndex)}function Du(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-n,l),c&&((e.viewHooks||(e.viewHooks=[])).push(n,c),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,c)),null!=u&&(e.destroyHooks||(e.destroyHooks=[])).push(n,u)}}function Cu(e,t,n){D_(e,t,3,n)}function Eu(e,t,n,r){(3&e[2])===n&&D_(e,t,n,r)}function kh(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function D_(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[18]+=65536),(a<o||-1==o)&&(YM(e,n,t,l),e[18]=(4294901760&e[18])+l+2),l++}function YM(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Dl{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Nh(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];E_(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function C_(e){return 3===e||4===e||6===e}function E_(e){return 64===e.charCodeAt(0)}function Cl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||S_(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function S_(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function I_(e){return-1!==e}function Su(e){return 32767&e}function Iu(e,t){let n=function ZM(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Fh=!0;function Au(e){const t=Fh;return Fh=e,t}let eT=0;const vi={};function Mu(e,t){const n=T_(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Lh(r.data,e),Lh(t,null),Lh(r.blueprint,null));const i=Vh(e,t),o=e.injectorIndex;if(I_(i)){const s=Su(i),a=Iu(i,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Lh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function T_(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Vh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=F_(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function jh(e,t,n){!function tT(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ml)&&(r=n[ml]),null==r&&(r=n[ml]=eT++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function x_(e,t,n){if(n&Ce.Optional||void 0!==e)return e;cu()}function P_(e,t,n,r){if(n&Ce.Optional&&void 0===r&&(r=null),!(n&(Ce.Self|Ce.Host))){const i=e[9],o=Pr(void 0);try{return i?i.get(t,r,n&Ce.Optional):Gv(t,r,n&Ce.Optional)}finally{Pr(o)}}return x_(r,0,n)}function O_(e,t,n,r=Ce.Default,i){if(null!==e){if(1024&t[2]){const s=function sT(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=k_(o,s,n,r|Ce.Self,vi);if(a!==vi)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(n,vi,r);if(u!==vi)return u}l=F_(s),s=s[15]}o=l}return i}(e,t,n,r,vi);if(s!==vi)return s}const o=k_(e,t,n,r,vi);if(o!==vi)return o}return P_(t,n,r,i)}function k_(e,t,n,r,i){const o=function iT(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ml)?e[ml]:void 0;return"number"==typeof t?t>=0?255&t:oT:t}(n);if("function"==typeof o){if(!y_(t,e,r))return r&Ce.Host?x_(i,0,r):P_(t,n,r,i);try{const s=o(r);if(null!=s||r&Ce.Optional)return s;cu()}finally{w_()}}else if("number"==typeof o){let s=null,a=T_(e,t),l=-1,c=r&Ce.Host?t[16][6]:null;for((-1===a||r&Ce.SkipSelf)&&(l=-1===a?Vh(e,t):t[a+8],-1!==l&&N_(r,!1)?(s=t[1],a=Su(l),t=Iu(l,t)):a=-1);-1!==a;){const u=t[1];if(R_(o,a,u.data)){const d=rT(a,t,n,s,r,c);if(d!==vi)return d}l=t[a+8],-1!==l&&N_(r,t[1].data[a+8]===c)&&R_(o,a,t)?(s=u,a=Su(l),t=Iu(l,t)):a=-1}}return i}function rT(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],u=Tu(a,s,n,null==r?bl(a)&&Fh:r!=s&&0!=(3&a.type),i&Ce.Host&&o===a);return null!==u?ss(t,s,u,a):vi}function Tu(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,u=o>>20,f=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const g=s[h];if(h<l&&n===g||h>=l&&g.type===n)return h}if(i){const h=s[l];if(h&&Jr(h)&&h.type===n)return l}return null}function ss(e,t,n,r){let i=e[n];const o=t.data;if(function JM(e){return e instanceof Dl}(i)){const s=i;s.resolving&&function eM(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new K(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ut(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ne(e)}(o[n]));const a=Au(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Pr(s.injectImpl):null;y_(e,r,Ce.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function qM(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=r_(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==l&&Pr(l),Au(a),s.resolving=!1,w_()}}return i}function R_(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function N_(e,t){return!(e&Ce.Self||e&Ce.Host&&t)}class Xs{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return O_(this._tNode,this._lView,t,hu(r),n)}}function oT(){return new Xs(Dn(),U())}function Cn(e){return Eo(()=>{const t=e.prototype.constructor,n=t[ji]||Bh(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[ji]||Bh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Bh(e){return hh(e)?()=>{const t=Bh(De(e));return t&&t()}:is(e)}function F_(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}const ea="__parameters__";function na(e,t,n){return Eo(()=>{const r=function Uh(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(ea)?l[ea]:Object.defineProperty(l,ea,{value:[]})[ea];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class ce{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=he({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function as(e,t){e.forEach(n=>Array.isArray(n)?as(n,t):t(n))}function V_(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Pu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function vr(e,t,n){let r=ra(e,t);return r>=0?e[1|r]=n:(r=~r,function uT(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Hh(e,t){const n=ra(e,t);if(n>=0)return e[1|n]}function ra(e,t){return function j_(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Al=gl(na("Optional"),8),Ml=gl(na("SkipSelf"),4);var rr=(()=>((rr=rr||{})[rr.Important=1]="Important",rr[rr.DashCase=2]="DashCase",rr))();const Yh=new Map;let OT=0;const Qh="__ngContext__";function xn(e,t){gr(t)?(e[Qh]=t[20],function RT(e){Yh.set(e[20],e)}(t)):e[Qh]=t}function Zh(e,t){return undefined(e,t)}function Ol(e){const t=e[3];return Yr(t)?t[3]:t}function ep(e){return ob(e[13])}function tp(e){return ob(e[4])}function ob(e){for(;null!==e&&!Yr(e);)e=e[4];return e}function oa(e,t,n,r,i){if(null!=r){let o,s=!1;Yr(r)?o=r:gr(r)&&(s=!0,r=r[0]);const a=wn(r);0===e&&null!==n?null==i?db(t,n,a):ls(t,n,a,i||null,!0):1===e&&null!==n?ls(t,n,a,i||null,!0):2===e?function lp(e,t,n){const r=Nu(e,t);r&&function ex(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function rx(e,t,n,r,i){const o=n[7];o!==wn(n)&&oa(t,e,r,o,i);for(let a=10;a<n.length;a++){const l=n[a];kl(l[1],l,e,t,r,o)}}(t,e,o,n,i)}}function rp(e,t,n){return e.createElement(t,n)}function ab(e,t){const n=e[9],r=n.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,Sh(i,-1)),n.splice(r,1)}function ip(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&ab(i,r),t>0&&(e[n-1][4]=r[4]);const o=Pu(e,10+t);!function KT(e,t){kl(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function lb(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&kl(e,t,n,3,null,null),function YT(e){let t=e[13];if(!t)return op(e[1],e);for(;t;){let n=null;if(gr(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)gr(t)&&op(t[1],t),t=t[3];null===t&&(t=e),gr(t)&&op(t[1],t),n=t&&t[4]}t=n}}(t)}}function op(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function ZT(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Dl)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function XT(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&Yr(t[3])){n!==t[3]&&ab(n,t);const r=t[19];null!==r&&r.detachView(e)}!function NT(e){Yh.delete(e[20])}(t)}}function cb(e,t,n){return function ub(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===gi.None||o===gi.Emulated)return null}return mr(r,n)}}(e,t.parent,n)}function ls(e,t,n,r,i){e.insertBefore(t,n,r,i)}function db(e,t,n){e.appendChild(t,n)}function fb(e,t,n,r,i){null!==r?ls(e,t,n,r,i):db(e,t,n)}function Nu(e,t){return e.parentNode(t)}let Vu,dp,ju,gb=function pb(e,t,n){return 40&e.type?mr(e,n):null};function Fu(e,t,n,r){const i=cb(e,r,t),o=t[11],a=function hb(e,t,n){return gb(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)fb(o,i,n[l],a,!1);else fb(o,i,n,a,!1)}function Lu(e,t){if(null!==t){const n=t.type;if(3&n)return mr(t,e);if(4&n)return ap(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Lu(e,r);{const i=e[t.index];return Yr(i)?ap(-1,i):wn(i)}}if(32&n)return Zh(t,e)()||wn(e[t.index]);{const r=yb(e,t);return null!==r?Array.isArray(r)?r[0]:Lu(Ol(e[16]),r):Lu(e,t.next)}}return null}function yb(e,t){return null!==t?e[16][6].projection[t.projection]:null}function ap(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return Lu(r,i)}return t[7]}function cp(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===t&&(a&&xn(wn(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)cp(e,t,n.child,r,i,o,!1),oa(t,e,i,a,o);else if(32&l){const c=Zh(n,r);let u;for(;u=c();)oa(t,e,i,u,o);oa(t,e,i,a,o)}else 16&l?vb(e,t,r,n,i,o):oa(t,e,i,a,o);n=s?n.projectionNext:n.next}}function kl(e,t,n,r,i,o){cp(n,r,e.firstChild,t,i,o,!1)}function vb(e,t,n,r,i,o){const s=n[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)oa(t,e,i,l[c],o);else cp(e,t,l,s[3],i,o,!0)}function _b(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function bb(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Nh(e,t,r),null!==i&&_b(e,t,i),null!==o&&function ox(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function cs(e){return function up(){if(void 0===Vu&&(Vu=null,St.trustedTypes))try{Vu=St.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Vu}()?.createHTML(e)||e}function fp(){if(void 0===ju&&(ju=null,St.trustedTypes))try{ju=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ju}function Db(e){return fp()?.createHTML(e)||e}function Eb(e){return fp()?.createScriptURL(e)||e}class Sb{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bv})`}}function Io(e){return e instanceof Sb?e.changingThisBreaksApplicationSecurity:e}function Rl(e,t){const n=function gx(e){return e instanceof Sb&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Bv})`)}return n===t}class mx{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(cs(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class yx{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=cs(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=cs(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let i=n.length-1;0<i;i--){const s=n.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const _x=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function hp(e){return(e=String(e)).match(_x)?e:"unsafe:"+e}function Hi(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Nl(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Ab=Hi("area,br,col,hr,img,wbr"),Mb=Hi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tb=Hi("rp,rt"),pp=Nl(Ab,Nl(Mb,Hi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nl(Tb,Hi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nl(Tb,Mb)),gp=Hi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xb=Nl(gp,Hi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bx=Hi("script,style,template");class wx{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!pp.hasOwnProperty(n))return this.sanitizedSomething=!0,!bx.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!xb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;gp[a]&&(l=hp(l)),this.buf.push(" ",s,'="',Pb(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();pp.hasOwnProperty(n)&&!Ab.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Pb(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Dx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cx=/([^\#-~ |!])/g;function Pb(e){return e.replace(/&/g,"&amp;").replace(Dx,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Cx,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bu;function mp(e){return"content"in e&&function Sx(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ln=(()=>((ln=ln||{})[ln.NONE=0]="NONE",ln[ln.HTML=1]="HTML",ln[ln.STYLE=2]="STYLE",ln[ln.SCRIPT=3]="SCRIPT",ln[ln.URL=4]="URL",ln[ln.RESOURCE_URL=5]="RESOURCE_URL",ln))();function yp(e){const t=Fl();return t?Db(t.sanitize(ln.HTML,e)||""):Rl(e,"HTML")?Db(Io(e)):function Ex(e,t){let n=null;try{Bu=Bu||function Ib(e){const t=new yx(e);return function vx(){try{return!!(new window.DOMParser).parseFromString(cs(""),"text/html")}catch{return!1}}()?new mx(t):t}(e);let r=t?String(t):"";n=Bu.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Bu.getInertBodyElement(r)}while(r!==o);return cs((new wx).sanitizeChildren(mp(n)||n))}finally{if(n){const r=mp(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(function wb(){return void 0!==dp?dp:typeof document<"u"?document:void 0}(),Ne(e))}function us(e){const t=Fl();return t?t.sanitize(ln.URL,e)||"":Rl(e,"URL")?Io(e):hp(Ne(e))}function Ob(e){const t=Fl();if(t)return Eb(t.sanitize(ln.RESOURCE_URL,e)||"");if(Rl(e,"ResourceURL"))return Eb(Io(e));throw new K(904,!1)}function Fl(){const e=U();return e&&e[12]}const Uu=new ce("ENVIRONMENT_INITIALIZER"),Rb=new ce("INJECTOR",-1),Nb=new ce("INJECTOR_DEF_TYPES");class Fb{get(t,n=hl){if(n===hl){const r=new Error(`NullInjectorError: No provider for ${Ct(t)}!`);throw r.name="NullInjectorError",r}return n}}function Ox(...e){return{\u0275providers:Lb(0,e),\u0275fromNgModule:!0}}function Lb(e,...t){const n=[],r=new Set;let i;return as(t,o=>{const s=o;vp(s,n,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&Vb(i,n),n}function Vb(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];_p(i,o=>{t.push(o)})}}function vp(e,t,n,r){if(!(e=De(e)))return!1;let i=null,o=$v(e);const s=!o&&ft(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=$v(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)vp(c,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{as(o.imports,u=>{vp(u,t,n,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Vb(c,t)}if(!a){const c=is(i)||(()=>new i);t.push({provide:i,useFactory:c,deps:at},{provide:Nb,useValue:i,multi:!0},{provide:Uu,useValue:()=>le(i),multi:!0})}const l=o.providers;null==l||a||_p(l,u=>{t.push(u)})}}return i!==e&&void 0!==e.providers}function _p(e,t){for(let n of e)ph(n)&&(n=n.\u0275providers),Array.isArray(n)?_p(n,t):t(n)}const kx=wt({provide:String,useValue:wt});function bp(e){return null!==e&&"object"==typeof e&&kx in e}function ds(e){return"function"==typeof e}const wp=new ce("Set Injector scope."),$u={},Nx={};let Dp;function Hu(){return void 0===Dp&&(Dp=new Fb),Dp}class _i{}class Ub extends _i{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ep(t,s=>this.processProvider(s)),this.records.set(Rb,sa(void 0,this)),i.has("environment")&&this.records.set(_i,sa(void 0,this));const o=this.records.get(wp);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Nb.multi,at,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Hs(this),r=Pr(void 0);try{return t()}finally{Hs(n),Pr(r)}}get(t,n=hl,r=Ce.Default){this.assertNotDestroyed(),r=hu(r);const i=Hs(this),o=Pr(void 0);try{if(!(r&Ce.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function Bx(e){return"function"==typeof e||"object"==typeof e&&e instanceof ce}(t)&&uu(t);a=l&&this.injectableDefInScope(l)?sa(Cp(t),$u):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&Ce.Self?Hu():this.parent).get(t,n=r&Ce.Optional&&n===hl?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[fu]=s[fu]||[]).unshift(Ct(t)),i)throw s;return function gM(e,t,n,r){const i=e[fu];throw t[zv]&&i.unshift(t[zv]),e.message=function mM(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Ct(t);if(Array.isArray(t))i=t.map(Ct).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ct(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(dM,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[fu]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{Pr(o),Hs(i)}}resolveInjectorInitializers(){const t=Hs(this),n=Pr(void 0);try{const r=this.get(Uu.multi,at,Ce.Self);for(const i of r)i()}finally{Hs(t),Pr(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ct(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(t){let n=ds(t=De(t))?t:De(t&&t.provide);const r=function Lx(e){return bp(e)?sa(void 0,e.useValue):sa($b(e),$u)}(t);if(ds(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=sa(void 0,$u,!0),i.factory=()=>vh(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===$u&&(n.value=Nx,n.value=n.factory()),"object"==typeof n.value&&n.value&&function jx(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=De(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Cp(e){const t=uu(e),n=null!==t?t.factory:is(e);if(null!==n)return n;if(e instanceof ce)throw new K(204,!1);if(e instanceof Function)return function Fx(e){const t=e.length;if(t>0)throw function Il(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new K(204,!1);const n=function sM(e){const t=e&&(e[du]||e[Hv]);if(t){const n=function aM(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new K(204,!1)}function $b(e,t,n){let r;if(ds(e)){const i=De(e);return is(i)||Cp(i)}if(bp(e))r=()=>De(e.useValue);else if(function Bb(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...vh(e.deps||[]));else if(function jb(e){return!(!e||!e.useExisting)}(e))r=()=>le(De(e.useExisting));else{const i=De(e&&(e.useClass||e.provide));if(!function Vx(e){return!!e.deps}(e))return is(i)||Cp(i);r=()=>new i(...vh(e.deps))}return r}function sa(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ep(e,t){for(const n of e)Array.isArray(n)?Ep(n,t):n&&ph(n)?Ep(n.\u0275providers,t):t(n)}class Ux{}class Hb{}class Hx{resolveComponentFactory(t){throw function $x(e){const t=Error(`No component factory found for ${Ct(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Ll=(()=>{class e{}return e.NULL=new Hx,e})();function Gx(){return aa(Dn(),U())}function aa(e,t){return new or(mr(e,t))}let or=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Gx,e})();function zx(e){return e instanceof or?e.nativeElement:e}class zb{}let Gi=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Kx(){const e=U(),n=yr(Dn().index,e);return(gr(n)?n:e)[11]}(),e})(),Wx=(()=>{class e{}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>null}),e})();class Vl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const qx=new Vl("15.1.2"),Sp={};function Ap(e){return e.ngOriginalError}class la{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Ap(t);for(;n&&Ap(n);)n=Ap(n);return n||null}}function zi(e){return e instanceof Function?e():e}function Wb(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const qb="ng-template";function oP(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Wb(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Yb(e){return 4===e.type&&e.value!==qb}function sP(e,t,n){return t===(4!==e.type||n?e.value:qb)}function aP(e,t,n){let r=4;const i=e.attrs||[],o=function uP(e){for(let t=0;t<e.length;t++)if(C_(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!sP(e,l,n)||""===l&&1===t.length){if(Qr(r))return!1;s=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!oP(e.attrs,c,n)){if(Qr(r))return!1;s=!0}continue}const d=lP(8&r?"class":l,i,Yb(e),n);if(-1===d){if(Qr(r))return!1;s=!0;continue}if(""!==c){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==Wb(h,c,0)||2&r&&c!==f){if(Qr(r))return!1;s=!0}}}}else{if(!s&&!Qr(r)&&!Qr(l))return!1;if(s&&Qr(l))continue;s=!1,r=l|1&r}}return Qr(r)||s}function Qr(e){return 0==(1&e)}function lP(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function dP(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Jb(e,t,n=!1){for(let r=0;r<t.length;r++)if(aP(e,t[r],n))return!0;return!1}function Qb(e,t){return e?":not("+t.trim()+")":t}function hP(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Qr(s)&&(t+=Qb(o,i),i=""),r=s,o=o||!Qr(r);n++}return""!==i&&(t+=Qb(o,i)),t}const Le={};function T(e){Xb(et(),U(),Hn()+e,!1)}function Xb(e,t,n,r){if(!r)if(3==(3&t[2])){const o=e.preOrderCheckHooks;null!==o&&Cu(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Eu(t,o,0,n)}os(n)}function nw(e,t=null,n=null,r){const i=rw(e,t,n,r);return i.resolveInjectorInitializers(),i}function rw(e,t=null,n=null,r,i=new Set){const o=[n||at,Ox(e)];return r=r||("object"==typeof e?void 0:Ct(e)),new Ub(o,t||Hu(),r||null,i)}let Xr=(()=>{class e{static create(n,r){if(Array.isArray(n))return nw({name:""},r,n,"");{const i=n.name??"";return nw({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=hl,e.NULL=new Fb,e.\u0275prov=he({token:e,providedIn:"any",factory:()=>le(Rb)}),e.__NG_ELEMENT_ID__=-1,e})();function F(e,t=Ce.Default){const n=U();return null===n?le(e,t):O_(Dn(),n,De(e),t)}function dw(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];xh(n[r]),s.contentQueries(2,t[o],o)}}}function zu(e,t,n,r,i,o,s,a,l,c,u){const d=t.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||e&&1024&e[2])&&(d[2]|=1024),c_(d),d[3]=d[15]=e,d[8]=n,d[10]=s||e&&e[10],d[11]=a||e&&e[11],d[12]=l||e&&e[12]||null,d[9]=c||e&&e[9]||null,d[6]=o,d[20]=function kT(){return OT++}(),d[21]=u,d[16]=2==t.type?e[16]:d,d}function da(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Op(e,t,n,r,i){const o=f_(),s=Ih(),l=e.data[t]=function jP(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(e,t,n,r,i),function LM(){return Fe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function wl(){const e=Fe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return yi(o,!0),o}function jl(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function kp(e,t,n){Ph(t);try{const r=e.viewQuery;null!==r&&Hp(1,r,n);const i=e.template;null!==i&&fw(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&dw(e,t),e.staticViewQueries&&Hp(2,e.viewQuery,n);const o=e.components;null!==o&&function FP(e,t){for(let n=0;n<t.length;n++)iO(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Oh()}}function Ku(e,t,n,r){const i=t[2];if(128!=(128&i)){Ph(t);try{c_(t),function p_(e){return Fe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&fw(e,t,n,2,r);const s=3==(3&i);if(s){const c=e.preOrderCheckHooks;null!==c&&Cu(t,c,null)}else{const c=e.preOrderHooks;null!==c&&Eu(t,c,0,null),kh(t,0)}if(function nO(e){for(let t=ep(e);null!==t;t=tp(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r];512&i[2]||Sh(i[3],1),i[2]|=512}}}(t),function tO(e){for(let t=ep(e);null!==t;t=tp(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];wu(r)&&Ku(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&dw(e,t),s){const c=e.contentCheckHooks;null!==c&&Cu(t,c)}else{const c=e.contentHooks;null!==c&&Eu(t,c,1),kh(t,1)}!function RP(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)os(~i);else{const o=i,s=n[++r],a=n[++r];VM(s,o),a(2,t[o])}}}finally{os(-1)}}(e,t);const a=e.components;null!==a&&function NP(e,t){for(let n=0;n<t.length;n++)rO(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Hp(2,l,r),s){const c=e.viewCheckHooks;null!==c&&Cu(t,c)}else{const c=e.viewHooks;null!==c&&Eu(t,c,2),kh(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Sh(t[3],-1))}finally{Oh()}}}function fw(e,t,n,r,i){const o=Hn(),s=2&r;try{os(-1),s&&t.length>22&&Xb(e,t,22,!1),n(r,i)}finally{os(o)}}function Rp(e,t,n){if(Ch(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function Np(e,t,n){d_()&&(function zP(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;bl(n)&&function XP(e,t,n){const r=mr(t,e),i=hw(n),o=e[10],s=Wu(e,zu(e,i,null,n.onPush?32:16,r,t,o,o.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Mu(n,t),xn(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],c=ss(t,e,a,n);xn(c,t),null!==s&&ZP(0,a-i,c,l,0,s),Jr(l)&&(yr(n.index,t)[8]=ss(t,e,a,n))}}(e,t,n,mr(n,t)),64==(64&n.flags)&&_w(e,t,n))}function Fp(e,t,n=mr){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function hw(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Lp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Lp(e,t,n,r,i,o,s,a,l,c){const u=22+r,d=u+i,f=function LP(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Le);return n}(u,d),h="function"==typeof c?c():c;return f[1]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function pw(e,t,n,r){const i=ww(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Dw(e).push(r,i.length-1))}function gw(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?mw(n,t,i,o):r.hasOwnProperty(i)&&mw(n,t,r[i],o)}return n}function mw(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function _r(e,t,n,r,i,o,s,a){const l=mr(t,n);let u,c=t.inputs;!a&&null!=c&&(u=c[r])?(Gp(e,n,u,r,i),bl(t)&&yw(n,t.index)):3&t.type&&(r=function UP(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}function yw(e,t){const n=yr(t,e);16&n[2]||(n[2]|=32)}function Vp(e,t,n,r){let i=!1;if(d_()){const o=null===r?null:{"":-1},s=function WP(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Jb(t,s.selectors,!1))if(r||(r=[]),Jr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),jp(e,t,a.length)}else r.unshift(s),jp(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let a,l;null===s?a=l=null:[a,l]=s,null!==a&&(i=!0,vw(e,t,n,a,o,l)),o&&function qP(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new K(-301,!1);r.push(t[i],o)}}}(n,r,o)}return n.mergedAttrs=Cl(n.mergedAttrs,n.attrs),i}function vw(e,t,n,r,i,o){for(let c=0;c<r.length;c++)jh(Mu(n,t),e,r[c].type);!function JP(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=jl(e,t,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=Cl(n.mergedAttrs,u.hostAttrs),QP(e,n,t,l,u),YP(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function BP(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<i;u++){const d=o[u],f=n?n.get(d):null,g=f?f.outputs:null;l=gw(d.inputs,u,l,f?f.inputs:null),c=gw(d.outputs,u,c,g);const m=null===l||null===s||Yb(t)?null:eO(l,u,s);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,o)}function _w(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function jM(){return Fe.lFrame.currentDirectiveIndex}();try{os(o);for(let a=r;a<i;a++){const l=e.data[a],c=t[a];Mh(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&KP(l,c)}}finally{os(-1),Mh(s)}}function KP(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function jp(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function YP(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Jr(t)&&(n[""]=e)}}function QP(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=is(i.type)),s=new Dl(o,Jr(i),F);e.blueprint[r]=s,n[r]=s,function HP(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function GP(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,jl(e,n,i.hostVars,Le),i)}function bi(e,t,n,r,i,o){const s=mr(e,t);!function Bp(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?Ne(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[11],s,o,e.value,n,r,i)}function ZP(e,t,n,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(n,d,c,u):n[u]=d}}}function eO(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function bw(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function rO(e,t){const n=yr(t,e);if(wu(n)){const r=n[1];48&n[2]?Ku(r,n,r.template,n[8]):n[5]>0&&Up(n)}}function Up(e){for(let r=ep(e);null!==r;r=tp(r))for(let i=10;i<r.length;i++){const o=r[i];if(wu(o))if(512&o[2]){const s=o[1];Ku(s,o,s.template,o[8])}else o[5]>0&&Up(o)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=yr(n[r],e);wu(i)&&i[5]>0&&Up(i)}}function iO(e,t){const n=yr(t,e),r=n[1];(function oO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),kp(r,n,n[8])}function Wu(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function $p(e){for(;e;){e[2]|=32;const t=Ol(e);if(_M(e)&&!t)return e;e=t}return null}function qu(e,t,n,r=!0){const i=t[10];i.begin&&i.begin();try{Ku(e,t,e.template,n)}catch(s){throw r&&Ew(t,s),s}finally{i.end&&i.end()}}function Hp(e,t,n){xh(0),t(e,n)}function ww(e){return e[7]||(e[7]=[])}function Dw(e){return e.cleanup||(e.cleanup=[])}function Ew(e,t){const n=e[9],r=n?n.get(la,null):null;r&&r.handleError(t)}function Gp(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=t[s],c=e.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Yu(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=fh(i,a):2==o&&(r=fh(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Ju(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(wn(o)),Yr(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Ju(l[1],l,c,r)}const s=n.type;if(8&s)Ju(e,t,n.child,r);else if(32&s){const a=Zh(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=yb(t,n);if(Array.isArray(a))r.push(...a);else{const l=Ol(t[16]);Ju(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Bl{get rootNodes(){const t=this._lView,n=t[1];return Ju(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Yr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(ip(t,r),Pu(n,r))}this._attachedToViewContainer=!1}lb(this._lView[1],this._lView)}onDestroy(t){pw(this._lView[1],this._lView,null,t)}markForCheck(){$p(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){qu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qT(e,t){kl(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=t}}class sO extends Bl{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;qu(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Sw extends Ll{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ft(t);return new Ul(n,this.ngModule)}}function Iw(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class lO{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=hu(r);const i=this.injector.get(t,Sp,r);return i!==Sp||n===Sp?i:this.parentInjector.get(t,n,r)}}class Ul extends Hb{get inputs(){return Iw(this.componentDef.inputs)}get outputs(){return Iw(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function pP(e){return e.map(hP).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof _i?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new lO(t,o):t,a=s.get(zb,null);if(null===a)throw new K(407,!1);const l=s.get(Wx,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function VP(e,t,n){return e.selectRootElement(t,n===gi.ShadowDom)}(c,r,this.componentDef.encapsulation):rp(c,u,function aO(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),f=this.componentDef.onPush?288:272,h=Lp(0,null,null,1,0,null,null,null,null,null),g=zu(null,h,null,f,null,null,a,c,l,s,null);let m,D;Ph(g);try{const w=this.componentDef;let C,b=null;w.findHostDirectiveDefs?(C=[],b=new Map,w.findHostDirectiveDefs(w,C,b),C.push(w)):C=[w];const k=function uO(e,t){const n=e[1];return e[22]=t,da(n,22,2,"#host",null)}(g,d),P=function dO(e,t,n,r,i,o,s,a){const l=i[1];!function fO(e,t,n,r){for(const i of e)t.mergedAttrs=Cl(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Yu(t,t.mergedAttrs,!0),null!==n&&bb(r,n,t))}(r,e,t,s);const c=o.createRenderer(t,n),u=zu(i,hw(n),null,n.onPush?32:16,i[e.index],e,o,c,a||null,null,null);return l.firstCreatePass&&jp(l,e,r.length-1),Wu(i,u),i[e.index]=u}(k,d,w,C,g,a,c);D=l_(h,22),d&&function pO(e,t,n,r){if(r)Nh(e,n,["ng-version",qx.full]);else{const{attrs:i,classes:o}=function gP(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Qr(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Nh(e,n,i),o&&o.length>0&&_b(e,n,o.join(" "))}}(c,w,d,r),void 0!==n&&function gO(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(D,this.ngContentSelectors,n),m=function hO(e,t,n,r,i,o){const s=Dn(),a=i[1],l=mr(s,i);vw(a,i,s,n,null,r);for(let u=0;u<n.length;u++)xn(ss(i,a,s.directiveStart+u,s),i);_w(a,i,s),l&&xn(l,i);const c=ss(i,a,s.directiveStart+s.componentOffset,s);if(e[8]=i[8]=c,null!==o)for(const u of o)u(c,t);return Rp(a,s,e),c}(P,w,C,b,g,[mO]),kp(h,g,null)}finally{Oh()}return new cO(this.componentType,m,aa(D,g),g,D)}}class cO extends Ux{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new sO(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;Gp(o[1],o,i,t,n),yw(o,this._tNode.index)}}get injector(){return new Xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function mO(){const e=Dn();Du(U()[1],e)}function gt(e){let t=function Aw(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Jr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new K(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=zp(e.inputs),s.declaredInputs=zp(e.declaredInputs),s.outputs=zp(e.outputs);const a=i.hostBindings;a&&bO(e,a);const l=i.viewQuery,c=i.contentQueries;if(l&&vO(e,l),c&&_O(e,c),dh(e.inputs,i.inputs),dh(e.declaredInputs,i.declaredInputs),dh(e.outputs,i.outputs),Jr(i)&&i.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===gt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function yO(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Cl(i.hostAttrs,n=Cl(n,i.hostAttrs))}}(r)}function zp(e){return e===Vi?{}:e===at?[]:e}function vO(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function _O(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function bO(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let Qu=null;function fs(){if(!Qu){const e=St.Symbol;if(e&&e.iterator)Qu=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Qu=r)}}}return Qu}function Xu(e){return!!Kp(e)&&(Array.isArray(e)||!(e instanceof Map)&&fs()in e)}function Kp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function wi(e,t,n){return e[t]=n}function Pn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Gn(e,t,n,r){const i=U();return Pn(i,Js(),t)&&(et(),bi(Bt(),i,e,t,n,r)),Gn}function ha(e,t,n,r){return Pn(e,Js(),n)?t+Ne(n)+r:Le}function W(e,t,n,r,i,o,s,a){const l=U(),c=et(),u=e+22,d=c.firstCreatePass?function xO(e,t,n,r,i,o,s,a,l){const c=t.consts,u=da(t,e,4,s||null,So(c,a));Vp(t,n,u,So(c,l)),Du(t,u);const d=u.tViews=Lp(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,o,s):c.data[u];yi(d,!1);const f=l[11].createComment("");Fu(c,l,f,d),xn(f,l),Wu(l,l[u]=bw(f,l,f,d)),_u(d)&&Np(c,l,d),null!=s&&Fp(l,d,a)}function Wi(e){return Ys(function FM(){return Fe.lFrame.contextLView}(),22+e)}function R(e,t,n){const r=U();return Pn(r,Js(),t)&&_r(et(),Bt(),r,e,t,r[11],n,!1),R}function Wp(e,t,n,r,i){const s=i?"class":"style";Gp(e,n,t.inputs[s],s,r)}function I(e,t,n,r){const i=U(),o=et(),s=22+e,a=i[11],l=i[s]=rp(a,t,function WM(){return Fe.lFrame.currentNamespace}()),c=o.firstCreatePass?function OO(e,t,n,r,i,o,s){const a=t.consts,c=da(t,e,2,i,So(a,o));return Vp(t,n,c,So(a,s)),null!==c.attrs&&Yu(c,c.attrs,!1),null!==c.mergedAttrs&&Yu(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,0,t,n,r):o.data[s];return yi(c,!0),bb(a,l,c),32!=(32&c.flags)&&Fu(o,i,l,c),0===function PM(){return Fe.lFrame.elementDepthCount}()&&xn(l,i),function OM(){Fe.lFrame.elementDepthCount++}(),_u(c)&&(Np(o,i,c),Rp(o,c,i)),null!==r&&Fp(i,c),I}function A(){let e=Dn();Ih()?Ah():(e=e.parent,yi(e,!1));const t=e;!function kM(){Fe.lFrame.elementDepthCount--}();const n=et();return n.firstCreatePass&&(Du(n,e),Ch(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function QM(e){return 0!=(8&e.flags)}(t)&&Wp(n,t,U(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function XM(e){return 0!=(16&e.flags)}(t)&&Wp(n,t,U(),t.stylesWithoutHost,!1),A}function Oe(e,t,n,r){return I(e,t,n,r),A(),Oe}function Xt(e,t,n){const r=U(),i=et(),o=e+22,s=i.firstCreatePass?function kO(e,t,n,r,i){const o=t.consts,s=So(o,r),a=da(t,e,8,"ng-container",s);return null!==s&&Yu(a,s,!0),Vp(t,n,a,So(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];yi(s,!0);const a=r[o]=r[11].createComment("");return Fu(i,r,a,s),xn(a,r),_u(s)&&(Np(i,r,s),Rp(i,s,r)),null!=n&&Fp(r,s),Xt}function Zt(){let e=Dn();const t=et();return Ih()?Ah():(e=e.parent,yi(e,!1)),t.firstCreatePass&&(Du(t,e),Ch(e)&&t.queries.elementEnd(e)),Zt}function ed(e,t,n){return Xt(e,t,n),Zt(),ed}function _n(){return U()}function Hl(e){return!!e&&"function"==typeof e.then}function Bw(e){return!!e&&"function"==typeof e.subscribe}const qp=Bw;function ae(e,t,n,r){const i=U(),o=et(),s=Dn();return function $w(e,t,n,r,i,o,s){const a=_u(r),c=e.firstCreatePass&&Dw(e),u=t[8],d=ww(t);let f=!0;if(3&r.type||s){const m=mr(r,t),D=s?s(m):m,w=d.length,C=s?k=>s(wn(k[r.index])):r.index;let b=null;if(!s&&a&&(b=function RO(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,f=!1;else{o=Gw(r,t,u,o,!1);const k=n.listen(D,i,o);d.push(o,k),c&&c.push(i,C,w,w+1)}}else o=Gw(r,t,u,o,!1);const h=r.outputs;let g;if(f&&null!==h&&(g=h[i])){const m=g.length;if(m)for(let D=0;D<m;D+=2){const P=t[g[D]][g[D+1]].subscribe(o),O=d.length;d.push(o,P),c&&c.push(i,r.index,O,-(O+1))}}}(o,i,i[11],s,e,t,r),ae}function Hw(e,t,n,r){try{return!1!==n(r)}catch(i){return Ew(e,i),!1}}function Gw(e,t,n,r,i){return function o(s){if(s===Function)return r;$p(e.componentOffset>-1?yr(e.index,t):t);let l=Hw(t,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=Hw(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Y(e=1){return function UM(e){return(Fe.lFrame.contextLView=function $M(e,t){for(;e>0;)t=t[15],e--;return t}(e,Fe.lFrame.contextLView))[8]}(e)}function Zr(e,t,n){return wa(e,"",t,"",n),Zr}function wa(e,t,n,r,i){const o=U(),s=ha(o,t,n,r);return s!==Le&&_r(et(),Bt(),o,e,s,o[11],i,!1),wa}function td(e,t){return e<<17|t<<2}function Ao(e){return e>>17&32767}function Yp(e){return 2|e}function ps(e){return(131068&e)>>2}function Jp(e,t){return-131069&e|t<<2}function Qp(e){return 1|e}function Zw(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?Ao(o):ps(o),l=!1;for(;0!==a&&(!1===l||s);){const u=e[a+1];HO(e[a],t)&&(l=!0,e[a+1]=r?Qp(u):Yp(u)),a=r?Ao(u):ps(u)}l&&(e[n+1]=r?Yp(o):Qp(o))}function HO(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ra(e,t)>=0}const gn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eD(e){return e.substring(gn.key,gn.keyEnd)}function tD(e,t){const n=gn.textEnd;return n===t?-1:(t=gn.keyEnd=function WO(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,gn.key=t,n),Da(e,t,n))}function Da(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Ca(e,t){return function ei(e,t,n,r){const i=U(),o=et(),s=$i(2);o.firstUpdatePass&&lD(o,e,s,r),t!==Le&&Pn(i,s,t)&&uD(o,o.data[Hn()],i,i[11],e,i[s+1]=function ik(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ct(Io(e)))),e}(t,n),r,s)}(e,t,null,!0),Ca}function Ci(e,t){for(let n=function zO(e){return function rD(e){gn.key=0,gn.keyEnd=0,gn.value=0,gn.valueEnd=0,gn.textEnd=e.length}(e),tD(e,Da(e,0,gn.textEnd))}(t);n>=0;n=tD(t,n))vr(e,eD(t),!0)}function aD(e,t){return t>=e.expandoStartIndex}function lD(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Hn()],s=aD(e,n);fD(o,r)&&null===t&&!s&&(t=!1),t=function XO(e,t,n,r){const i=function Th(e){const t=Fe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Gl(n=Xp(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Xp(i,e,t,n,r),null===o){let l=function ZO(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ps(r))return e[Ao(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=Xp(null,e,t,l[1],r),l=Gl(l,t.attrs,r),function ek(e,t,n,r){e[Ao(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else o=function tk(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Gl(r,e[o].hostAttrs,n);return Gl(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function UO(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Ao(s),l=ps(s);e[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||ra(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const f=Ao(e[a+1]);e[r+1]=td(f,a),0!==f&&(e[f+1]=Jp(e[f+1],r)),e[a+1]=function jO(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=td(a,0),0!==a&&(e[a+1]=Jp(e[a+1],r)),a=r;else e[r+1]=td(l,0),0===a?a=r:e[l+1]=Jp(e[l+1],r),l=r;c&&(e[r+1]=Yp(e[r+1])),Zw(e,u,r,!0),Zw(e,u,r,!1),function $O(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&ra(o,t)>=0&&(n[r+1]=Qp(n[r+1]))}(t,u,e,r,o),s=td(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function Xp(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Gl(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Gl(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),vr(e,s,!!n||t[++o]))}return void 0===e?null:e}function uD(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],u=function BO(e){return 1==(1&e)}(c)?dD(l,t,n,i,ps(c),s):void 0;nd(u)||(nd(o)||function VO(e){return 2==(2&e)}(c)&&(o=dD(l,null,n,i,a,s)),function ix(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:rr.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=rr.Important),e.setStyle(n,r,i,o))}}(r,s,bu(Hn(),n),i,o))}function dD(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=n[i+1];f===Le&&(f=d?at:void 0);let h=d?Hh(f,r):u===r?f:void 0;if(c&&!nd(h)&&(h=Hh(l,r)),nd(h)&&(a=h,s))return a;const g=e[i+1];i=s?Ao(g):ps(g)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Hh(l,r))}return a}function nd(e){return void 0!==e}function fD(e,t){return 0!=(e.flags&(t?8:16))}function L(e,t=""){const n=U(),r=et(),i=e+22,o=r.firstCreatePass?da(r,i,1,t,null):r.data[i],s=n[i]=function np(e,t){return e.createText(t)}(n[11],t);Fu(r,n,s,o),yi(o,!1)}function Ke(e,t,n){const r=U(),i=ha(r,e,t,n);return i!==Le&&function Ki(e,t,n){const r=bu(t,e);!function sb(e,t,n){e.setValue(t,n)}(e[11],r,n)}(r,Hn(),i),Ke}function DD(e,t,n){!function ti(e,t,n,r){const i=et(),o=$i(2);i.firstUpdatePass&&lD(i,null,o,r);const s=U();if(n!==Le&&Pn(s,o,n)){const a=i.data[Hn()];if(fD(a,r)&&!aD(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=fh(l,n||"")),Wp(i,a,s,n,r)}else!function rk(e,t,n,r,i,o,s,a){i===Le&&(i=at);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const f=l<i.length?i[l+1]:void 0,h=c<o.length?o[c+1]:void 0;let m,g=null;u===d?(l+=2,c+=2,f!==h&&(g=d,m=h)):null===d||null!==u&&u<d?(l+=2,g=u):(c+=2,g=d,m=h),null!==g&&uD(e,t,n,r,g,m,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function nk(e,t,n){if(null==n||""===n)return at;const r=[],i=Io(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(vr,Ci,ha(U(),e,t,n),!0)}const gs=void 0;var Ck=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dk(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ea={};function zn(e){const t=function Ek(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=ND(t);if(n)return n;const r=t.split("-")[0];if(n=ND(r),n)return n;if("en"===r)return Ck;throw new K(701,!1)}function ND(e){return e in Ea||(Ea[e]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[e]),Ea[e]}var ee=(()=>((ee=ee||{})[ee.LocaleId=0]="LocaleId",ee[ee.DayPeriodsFormat=1]="DayPeriodsFormat",ee[ee.DayPeriodsStandalone=2]="DayPeriodsStandalone",ee[ee.DaysFormat=3]="DaysFormat",ee[ee.DaysStandalone=4]="DaysStandalone",ee[ee.MonthsFormat=5]="MonthsFormat",ee[ee.MonthsStandalone=6]="MonthsStandalone",ee[ee.Eras=7]="Eras",ee[ee.FirstDayOfWeek=8]="FirstDayOfWeek",ee[ee.WeekendRange=9]="WeekendRange",ee[ee.DateFormat=10]="DateFormat",ee[ee.TimeFormat=11]="TimeFormat",ee[ee.DateTimeFormat=12]="DateTimeFormat",ee[ee.NumberSymbols=13]="NumberSymbols",ee[ee.NumberFormats=14]="NumberFormats",ee[ee.CurrencyCode=15]="CurrencyCode",ee[ee.CurrencySymbol=16]="CurrencySymbol",ee[ee.CurrencyName=17]="CurrencyName",ee[ee.Currencies=18]="Currencies",ee[ee.Directionality=19]="Directionality",ee[ee.PluralCase=20]="PluralCase",ee[ee.ExtraData=21]="ExtraData",ee))();const Sa="en-US";let FD=Sa;function tg(e,t,n,r,i){if(e=De(e),Array.isArray(e))for(let o=0;o<e.length;o++)tg(e[o],t,n,r,i);else{const o=et(),s=U();let a=ds(e)?e:De(e.provide),l=$b(e);const c=Dn(),u=1048575&c.providerIndexes,d=c.directiveStart,f=c.providerIndexes>>20;if(ds(e)||!e.multi){const h=new Dl(l,i,F),g=rg(a,t,i?u:u+f,d);-1===g?(jh(Mu(c,s),o,a),ng(o,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{const h=rg(a,t,u+f,d),g=rg(a,t,u,u+f),D=g>=0&&n[g];if(i&&!D||!i&&!(h>=0&&n[h])){jh(Mu(c,s),o,a);const w=function wR(e,t,n,r,i){const o=new Dl(e,n,F);return o.multi=[],o.index=t,o.componentProviders=0,aC(o,i,r&&!n),o}(i?bR:_R,n.length,i,r,l);!i&&D&&(n[g].providerFactory=w),ng(o,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),s.push(w)}else ng(o,e,h>-1?h:g,aC(n[i?g:h],l,!i&&r));!i&&r&&D&&n[g].componentProviders++}}}function ng(e,t,n,r){const i=ds(t),o=function Rx(e){return!!e.useClass}(t);if(i||o){const l=(o?De(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function aC(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function rg(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function _R(e,t,n,r){return ig(this.multi,[])}function bR(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ss(n,n[1],this.providerFactory.index,r);o=a.slice(0,s),ig(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ig(i,o);return o}function ig(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ft(e,t=[]){return n=>{n.providersResolver=(r,i)=>function vR(e,t,n){const r=et();if(r.firstCreatePass){const i=Jr(e);tg(n,r.data,r.blueprint,i,!0),tg(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Ia{}class lC{}class cC extends Ia{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sw(this);const r=pr(t);this._bootstrapComponents=zi(r.bootstrap),this._r3Injector=rw(t,n,[{provide:Ia,useValue:this},{provide:Ll,useValue:this.componentFactoryResolver}],Ct(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class og extends lC{constructor(t){super(),this.moduleType=t}create(t){return new cC(this.moduleType,t)}}class CR extends Ia{constructor(t,n,r){super(),this.componentFactoryResolver=new Sw(this),this.instance=null;const i=new Ub([...t,{provide:Ia,useValue:this},{provide:Ll,useValue:this.componentFactoryResolver}],n||Hu(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ad(e,t,n=null){return new CR(e,t,n).injector}let ER=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Lb(0,n.type),i=r.length>0?ad([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=he({token:e,providedIn:"environment",factory:()=>new e(le(_i))}),e})();function sg(e){e.getStandaloneInjector=t=>t.get(ER).getOrCreateStandaloneInjector(e)}function ld(e,t,n){const r=$n()+e,i=U();return i[r]===Le?wi(i,r,n?t.call(n):t()):function $l(e,t){return e[t]}(i,r)}function Mo(e,t,n,r){return mC(U(),$n(),e,t,n,r)}function Jl(e,t){const n=e[t];return n===Le?void 0:n}function mC(e,t,n,r,i,o){const s=t+n;return Pn(e,s,i)?wi(e,s+1,o?r.call(o,i):r(i)):Jl(e,s+1)}function yC(e,t,n,r,i,o,s){const a=t+n;return function hs(e,t,n,r){const i=Pn(e,t,n);return Pn(e,t+1,r)||i}(e,a,i,o)?wi(e,a+2,s?r.call(s,i,o):r(i,o)):Jl(e,a+2)}function qi(e,t){const n=et();let r;const i=e+22;n.firstCreatePass?(r=function UR(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=is(r.type)),s=Pr(F);try{const a=Au(!1),l=o();return Au(a),function PO(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,U(),i,l),l}finally{Pr(s)}}function Ql(e,t,n){const r=e+22,i=U(),o=Ys(i,r);return Zl(i,r)?mC(i,$n(),t,o.transform,n,o):o.transform(n)}function Xl(e,t,n,r){const i=e+22,o=U(),s=Ys(o,i);return Zl(o,i)?yC(o,$n(),t,s.transform,n,r,s):s.transform(n,r)}function Zl(e,t){return e[1].data[t].pure}function lg(e){return t=>{setTimeout(e,void 0,t)}}const ht=class zR extends yt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=lg(o),i&&(i=lg(i)),s&&(s=lg(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Jt&&t.add(a),a}};function KR(){return this._results[fs()]()}class cg{get changes(){return this._changes||(this._changes=new ht)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=fs(),r=cg.prototype;r[n]||(r[n]=KR)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function kr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function lT(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Yi=(()=>{class e{}return e.__NG_ELEMENT_ID__=YR,e})();const WR=Yi,qR=class extends WR{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,i=zu(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),kp(r,i,t),new Bl(i)}};function YR(){return cd(Dn(),U())}function cd(e,t){return 4&e.type?new qR(t,e,aa(e,t)):null}let ni=(()=>{class e{}return e.__NG_ELEMENT_ID__=JR,e})();function JR(){return CC(Dn(),U())}const QR=ni,wC=class extends QR{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Xs(this._hostTNode,this._hostLView)}get parentInjector(){const t=Vh(this._hostTNode,this._hostLView);if(I_(t)){const n=Iu(t,this._hostLView),r=Su(t);return new Xs(n[1].data[r+8],n)}return new Xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=DC(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=t.createEmbeddedView(n||{},o);return this.insert(s,i),s}createComponent(t,n,r,i,o){const s=t&&!function Sl(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?t:new Ul(ft(t)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const f=(s?c:this.parentInjector).get(_i,null);f&&(o=f)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(t,n){const r=t._lView,i=r[1];if(function xM(e){return Yr(e[3])}(r)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=r[3],f=new wC(d,d[6],d[3]);f.detach(f.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function JT(e,t,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],V_(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function QT(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=64}(i,r,s,o);const a=ap(o,s),l=r[11],c=Nu(l,s[7]);return null!==c&&function WT(e,t,n,r,i,o){r[0]=i,r[6]=t,kl(e,r,n,1,i,o)}(i,s[6],l,r,c,a),t.attachToViewContainerRef(),V_(ug(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=DC(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=ip(this._lContainer,n);r&&(Pu(ug(this._lContainer),n),lb(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=ip(this._lContainer,n);return r&&null!=Pu(ug(this._lContainer),n)?new Bl(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function DC(e){return e[8]}function ug(e){return e[8]||(e[8]=[])}function CC(e,t){let n;const r=t[e.index];if(Yr(r))n=r;else{let i;if(8&e.type)i=wn(r);else{const o=t[11];i=o.createComment("");const s=mr(e,t);ls(o,Nu(o,s),i,function tx(e,t){return e.nextSibling(t)}(o,s),!1)}t[e.index]=n=bw(r,t,i,e),Wu(t,n)}return new wC(n,e,t)}class dg{constructor(t){this.queryList=t,this.matches=null}clone(){return new dg(this.queryList)}setDirty(){this.queryList.setDirty()}}class fg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new fg(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==TC(t,n).matches&&this.queries[n].setDirty()}}class EC{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class hg{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new hg(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class pg{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new pg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,XR(n,o)),this.matchTNodeWithReadOption(t,n,Tu(n,t,o,!1,!1))}else r===Yi?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Tu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===or||i===ni||i===Yi&&4&n.type)this.addMatch(n.index,-2);else{const o=Tu(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function XR(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function eN(e,t,n,r){return-1===n?function ZR(e,t){return 11&e.type?aa(e,t):4&e.type?cd(e,t):null}(t,e):-2===n?function tN(e,t,n){return n===or?aa(t,e):n===Yi?cd(t,e):n===ni?CC(t,e):void 0}(e,t,r):ss(e,e[1],n,t)}function SC(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:eN(t,o[c],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function gg(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=SC(e,t,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=10;d<u.length;d++){const f=u[d];f[17]===f[3]&&gg(f[1],f,c,r)}if(null!==u[9]){const d=u[9];for(let f=0;f<d.length;f++){const h=d[f];gg(h[1],h,c,r)}}}}}return r}function br(e){const t=U(),n=et(),r=m_();xh(r+1);const i=TC(n,r);if(e.dirty&&function TM(e){return 4==(4&e[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?gg(n,t,r,[]):SC(n,t,i,r);e.reset(o,zx),e.notifyOnChanges()}return!0}return!1}function Nr(e,t,n){const r=et();r.firstCreatePass&&(MC(r,new EC(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),AC(r,U(),t)}function wr(){return function nN(e,t){return e[19].queries[t].queryList}(U(),m_())}function AC(e,t,n){const r=new cg(4==(4&n));pw(e,t,r,r.destroy),null===t[19]&&(t[19]=new fg),t[19].queries.push(new dg(r))}function MC(e,t,n){null===e.queries&&(e.queries=new hg),e.queries.track(new pg(t,n))}function TC(e,t){return e.queries.getByIndex(t)}function ms(e,t){return cd(e,t)}function dd(...e){}const fd=new ce("Application Initializer");let hd=(()=>{class e{constructor(n){this.appInits=n,this.resolve=dd,this.reject=dd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Hl(o))n.push(o);else if(qp(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(le(fd,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const tc=new ce("AppId",{providedIn:"root",factory:function qC(){return`${bg()}${bg()}${bg()}`}});function bg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const YC=new ce("Platform Initializer"),wg=new ce("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),JC=new ce("appBootstrapListener");let CN=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Ji=new ce("LocaleId",{providedIn:"root",factory:()=>ze(Ji,Ce.Optional|Ce.SkipSelf)||function EN(){return typeof $localize<"u"&&$localize.locale||Sa}()});class IN{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let QC=(()=>{class e{compileModuleSync(n){return new og(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=zi(pr(n).declarations).reduce((s,a)=>{const l=ft(a);return l&&s.push(new Ul(l)),s},[]);return new IN(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const TN=(()=>Promise.resolve(0))();function Dg(e){typeof Zone>"u"?TN.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class en{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ht(!1),this.onMicrotaskEmpty=new ht(!1),this.onStable=new ht(!1),this.onError=new ht(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function xN(){let e=St.requestAnimationFrame,t=St.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function kN(e){const t=()=>{!function ON(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(St,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Eg(e),e.isCheckStableRunning=!0,Cg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Eg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return e0(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),t0(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return e0(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),t0(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Eg(e),Cg(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!en.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(en.isInAngularZone())throw new K(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,PN,dd,dd);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const PN={};function Cg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Eg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function e0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function t0(e){e._nesting--,Cg(e)}class RN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ht,this.onMicrotaskEmpty=new ht,this.onStable=new ht,this.onError=new ht}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const n0=new ce(""),pd=new ce("");let Ag,Sg=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ag||(function NN(e){Ag=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{en.assertNotInAngularZone(),Dg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(le(en),le(Ig),le(pd))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Ig=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Ag?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),To=null;const r0=new ce("AllowMultipleToken"),Mg=new ce("PlatformDestroyListeners");class o0{constructor(t,n){this.name=t,this.token=n}}function a0(e,t,n=[]){const r=`Platform: ${t}`,i=new ce(r);return(o=[])=>{let s=Tg();if(!s||s.injector.get(r0,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function VN(e){if(To&&!To.get(r0,!1))throw new K(400,!1);To=e;const t=e.get(c0);(function s0(e){const t=e.get(YC,null);t&&t.forEach(n=>n())})(e)}(function l0(e=[],t){return Xr.create({name:t,providers:[{provide:wp,useValue:"platform"},{provide:Mg,useValue:new Set([()=>To=null])},...e]})}(a,r))}return function BN(e){const t=Tg();if(!t)throw new K(401,!1);return t}()}}function Tg(){return To?.get(c0)??null}let c0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function d0(e,t){let n;return n="noop"===e?new RN:("zone.js"===e?void 0:e)||new en(t),n}(r?.ngZone,function u0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:en,useValue:i}];return i.run(()=>{const s=Xr.create({providers:o,parent:this.injector,name:n.moduleType.name}),a=n.create(s),l=a.injector.get(la,null);if(!l)throw new K(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{md(this._modules,a),c.unsubscribe()})}),function f0(e,t,n){try{const r=n();return Hl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(hd);return c.runInitializers(),c.donePromise.then(()=>(function LD(e){xr(e,"Expected localeId to be defined"),"string"==typeof e&&(FD=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ji,Sa)||Sa),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=h0({},r);return function FN(e,t,n){const r=new og(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(gd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new K(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Mg,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(le(Xr))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function h0(e,t){return Array.isArray(t)?t.reduce(h0,e):{...e,...t}}let gd=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new G(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new G(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{en.assertNotInAngularZone(),Dg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{en.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Vv(o,s.pipe(jv()))}bootstrap(n,r){const i=n instanceof Hb;if(!this._injector.get(hd).done)throw!i&&function Gs(e){const t=ft(e)||An(e)||jn(e);return null!==t&&t.standalone}(n),new K(405,false);let s;s=i?n:this._injector.get(Ll).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function LN(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Ia),c=s.create(Xr.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(n0,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),md(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;md(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(JC,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>md(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new K(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(le(en),le(_i),le(la))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function md(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let nc=(()=>{class e{}return e.__NG_ELEMENT_ID__=$N,e})();function $N(e){return function HN(e,t,n){if(bl(e)&&!n){const r=yr(e.index,t);return new Bl(r,r)}return 47&e.type?new Bl(t[16],t):null}(Dn(),U(),16==(16&e))}class v0{constructor(){}supports(t){return Xu(t)}create(t){return new YN(t)}}const qN=(e,t)=>t;class YN{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||qN}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<b0(r,i,o)?n:r,a=b0(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<o.length?o[f]:o[f]=0,g=h+f;u<=g&&g<c&&(o[f]=h+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Xu(t))throw new K(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function AO(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[fs()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new JN(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new _0),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class JN{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class _0{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new QN,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function b0(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class w0{constructor(){}supports(t){return t instanceof Map||Kp(t)}create(){return new XN}}class XN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Kp(t)))throw new K(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new ZN(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class ZN{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function D0(){return new _d([new v0])}let _d=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||D0()),deps:[[e,new Ml,new Al]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new K(901,!1)}}return e.\u0275prov=he({token:e,providedIn:"root",factory:D0}),e})();function C0(){return new rc([new w0])}let rc=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||C0()),deps:[[e,new Ml,new Al]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new K(901,!1)}}return e.\u0275prov=he({token:e,providedIn:"root",factory:C0}),e})();const nF=a0(null,"core",[]);let rF=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(le(gd))},e.\u0275mod=hr({type:e}),e.\u0275inj=tr({}),e})();function Ta(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Rg=null;function Ei(){return Rg}class sF{}const Wn=new ce("DocumentToken");let Ng=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:function(){return function aF(){return le(E0)}()},providedIn:"platform"}),e})();const lF=new ce("Location Initialized");let E0=(()=>{class e extends Ng{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ei().getBaseHref(this._doc)}onPopState(n){const r=Ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ei().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){S0()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){S0()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(le(Wn))},e.\u0275prov=he({token:e,factory:function(){return function cF(){return new E0(le(Wn))}()},providedIn:"platform"}),e})();function S0(){return!!window.history.pushState}function Fg(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function I0(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Xi(e){return e&&"?"!==e[0]?"?"+e:e}let xo=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:function(){return ze(M0)},providedIn:"root"}),e})();const A0=new ce("appBaseHref");let M0=(()=>{class e extends xo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ze(Wn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Fg(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Xi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Xi(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Xi(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(le(Ng),le(A0,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),T0=(()=>{class e extends xo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Fg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Xi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Xi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(le(Ng),le(A0,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Lg=(()=>{class e{constructor(n){this._subject=new ht,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function fF(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(I0(x0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Xi(r))}normalize(n){return e.stripTrailingSlash(function dF(e,t){return e&&new RegExp(`^${e}([/;?#]|$)`).test(t)?t.substring(e.length):t}(this._basePath,x0(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=Xi,e.joinWithSlash=Fg,e.stripTrailingSlash=I0,e.\u0275fac=function(n){return new(n||e)(le(xo))},e.\u0275prov=he({token:e,factory:function(){return function uF(){return new Lg(le(xo))}()},providedIn:"root"}),e})();function x0(e){return e.replace(/\/index.html$/,"")}var sr=(()=>((sr=sr||{})[sr.Decimal=0]="Decimal",sr[sr.Percent=1]="Percent",sr[sr.Currency=2]="Currency",sr[sr.Scientific=3]="Scientific",sr))(),cn=(()=>((cn=cn||{})[cn.Zero=0]="Zero",cn[cn.One=1]="One",cn[cn.Two=2]="Two",cn[cn.Few=3]="Few",cn[cn.Many=4]="Many",cn[cn.Other=5]="Other",cn))(),be=(()=>((be=be||{})[be.Decimal=0]="Decimal",be[be.Group=1]="Group",be[be.List=2]="List",be[be.PercentSign=3]="PercentSign",be[be.PlusSign=4]="PlusSign",be[be.MinusSign=5]="MinusSign",be[be.Exponential=6]="Exponential",be[be.SuperscriptingExponent=7]="SuperscriptingExponent",be[be.PerMille=8]="PerMille",be[be.Infinity=9]="Infinity",be[be.NaN=10]="NaN",be[be.TimeSeparator=11]="TimeSeparator",be[be.CurrencyDecimal=12]="CurrencyDecimal",be[be.CurrencyGroup=13]="CurrencyGroup",be))();function Fr(e,t){const n=zn(e),r=n[ee.NumberSymbols][t];if(typeof r>"u"){if(t===be.CurrencyDecimal)return n[ee.NumberSymbols][be.Decimal];if(t===be.CurrencyGroup)return n[ee.NumberSymbols][be.Group]}return r}const _F=function RD(e){return zn(e)[ee.PluralCase]},VF=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function zg(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}let Kg=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:function(n){let r=null;return n?r=new n:(i=le(Ji),r=new qF(i)),r;var i},providedIn:"root"}),e})();let qF=(()=>{class e extends Kg{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(_F(r||this.locale)(n)){case cn.Zero:return"zero";case cn.One:return"one";case cn.Two:return"two";case cn.Few:return"few";case cn.Many:return"many";default:return"other"}}}return e.\u0275fac=function(n){return new(n||e)(le(Ji))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function j0(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}const Wg=/\s+/,B0=[];let U0=(()=>{class e{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=B0,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Wg):B0}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Wg):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Wg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(n){return new(n||e)(F(_d),F(rc),F(or),F(Gi))},e.\u0275dir=Me({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class JF{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vs=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new JF(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),G0(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{G0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(F(ni),F(Yi),F(_d))},e.\u0275dir=Me({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function G0(e,t){e.context.$implicit=t.item}let Si=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new XF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){z0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){z0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(F(ni),F(Yi))},e.\u0275dir=Me({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class XF{constructor(){this.$implicit=null,this.ngIf=null}}function z0(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ct(t)}'.`)}let W0=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=r.createEmbeddedView(i,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(n){return new(n||e)(F(ni))},e.\u0275dir=Me({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Un]}),e})();function oi(e,t){return new K(2100,!1)}class rL{createSubscription(t,n){return t.subscribe({next:n,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class iL{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const oL=new iL,sL=new rL;let Td=(()=>{class e{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Hl(n))return oL;if(Bw(n))return sL;throw oi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return e.\u0275fac=function(n){return new(n||e)(F(nc,16))},e.\u0275pipe=nr({name:"async",type:e,pure:!1,standalone:!0}),e})();const gL=/#/g;let Jg=(()=>{class e{constructor(n){this._localization=n}transform(n,r,i){if(null==n)return"";if("object"!=typeof r||null===r)throw oi();return r[function V0(e,t,n,r){let i=`=${e}`;if(t.indexOf(i)>-1||(i=n.getPluralCategory(e,r),t.indexOf(i)>-1))return i;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}(n,Object.keys(r),this._localization,i)].replace(gL,n.toString())}}return e.\u0275fac=function(n){return new(n||e)(F(Kg,16))},e.\u0275pipe=nr({name:"i18nPlural",type:e,pure:!0,standalone:!0}),e})(),Y0=(()=>{class e{constructor(n){this._locale=n}transform(n,r,i){if(!function Qg(e){return!(null==e||""===e||e!=e)}(n))return null;i=i||this._locale;try{return function GF(e,t,n){return function Hg(e,t,n,r,i,o,s=!1){let a="",l=!1;if(isFinite(e)){let c=function KF(e){let r,i,o,s,a,t=Math.abs(e)+"",n=0;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;"0"===t.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>22&&(r=r.splice(0,21),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(e);s&&(c=function zF(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(o){const C=o.match(VF);if(null===C)throw new Error(`${o} is not a valid digit info`);const b=C[1],k=C[3],P=C[5];null!=b&&(u=zg(b)),null!=k&&(d=zg(k)),null!=P?f=zg(P):null!=k&&d>f&&(f=d)}!function WF(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=0!==o;const c=t+e.integerLen,u=r.reduceRight(function(d,f,h,g){return g[h]=(f+=d)<10?f:f-10,l&&(0===g[h]&&h>=c?g.pop():l=!1),f>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}(c,d,f);let h=c.digits,g=c.integerLen;const m=c.exponent;let D=[];for(l=h.every(C=>!C);g<u;g++)h.unshift(0);for(;g<0;g++)h.unshift(0);g>0?D=h.splice(g,h.length):(D=h,h=[0]);const w=[];for(h.length>=t.lgSize&&w.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)w.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&w.unshift(h.join("")),a=w.join(Fr(n,r)),D.length&&(a+=Fr(n,i)+D.join("")),m&&(a+=Fr(n,be.Exponential)+"+"+m)}else a=Fr(n,be.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(e,function Gg(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";n.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?n.minFrac=n.maxFrac=u+1:"#"===d?n.maxFrac=u+1:n.posSuf+=d}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf("#");n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function Vg(e,t){return zn(e)[ee.NumberFormats][t]}(t,sr.Decimal),Fr(t,be.MinusSign)),t,be.Group,be.Decimal,n)}(function Xg(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(n),i,r)}catch(o){throw oi()}}}return e.\u0275fac=function(n){return new(n||e)(F(Ji,16))},e.\u0275pipe=nr({name:"number",type:e,pure:!0,standalone:!0}),e})();let DL=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=hr({type:e}),e.\u0275inj=tr({}),e})();let IL=(()=>{class e{}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>new AL(le(Wn),window)}),e})();class AL{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function ML(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Q0(this.window.history)||Q0(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Q0(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class X0{}class t2 extends sF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class tm extends t2{static makeCurrent(){!function oF(e){Rg||(Rg=e)}(new tm)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function n2(){return ac=ac||document.querySelector("base"),ac?ac.getAttribute("href"):null}();return null==n?null:function r2(e){Pd=Pd||document.createElement("a"),Pd.setAttribute("href",e);const t=Pd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){ac=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return j0(document.cookie,t)}}let Pd,ac=null;const i1=new ce("TRANSITION_ID"),o2=[{provide:fd,useFactory:function i2(e,t,n){return()=>{n.get(hd).donePromise.then(()=>{const r=Ei(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[i1,Wn,Xr],multi:!0}];let a2=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Od=new ce("EventManagerPlugins");let kd=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(le(Od),le(en))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class o1{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Ei().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let s1=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),lc=(()=>{class e extends s1{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(a1),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(a1))}}return e.\u0275fac=function(n){return new(n||e)(le(Wn))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function a1(e){Ei().remove(e)}const nm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rm=/%COMP%/g;function im(e,t){return t.flat(100).map(n=>n.replace(rm,e))}function u1(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let om=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new sm(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case gi.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new h2(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case gi.ShadowDom:return new p2(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=im(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(le(kd),le(lc),le(tc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class sm{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(nm[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(f1(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(f1(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=nm[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=nm[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(rr.DashCase|rr.Important)?t.style.setProperty(n,r,i&rr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&rr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,u1(r)):this.eventManager.addEventListener(t,n,u1(r))}}function f1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class h2 extends sm{constructor(t,n,r,i){super(t),this.component=r;const o=im(i+"-"+r.id,r.styles);n.addStyles(o),this.contentAttr=function u2(e){return"_ngcontent-%COMP%".replace(rm,e)}(i+"-"+r.id),this.hostAttr=function d2(e){return"_nghost-%COMP%".replace(rm,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class p2 extends sm{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=im(i.id,i.styles);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let g2=(()=>{class e extends o1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(le(Wn))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const h1=["alt","control","meta","shift"],m2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let v2=(()=>{class e extends o1{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ei().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),h1.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=m2[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),h1.forEach(s=>{s!==i&&(0,y2[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(le(Wn))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const D2=a0(nF,"browser",[{provide:wg,useValue:"browser"},{provide:YC,useValue:function _2(){tm.makeCurrent()},multi:!0},{provide:Wn,useFactory:function w2(){return function cx(e){dp=e}(document),document},deps:[]}]),m1=new ce(""),y1=[{provide:pd,useClass:class s2{addToWindow(t){St.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},St.getAllAngularTestabilities=()=>t.getAllTestabilities(),St.getAllAngularRootElements=()=>t.getAllRootElements(),St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(r=>{const i=St.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Ei().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:n0,useClass:Sg,deps:[en,Ig,pd]},{provide:Sg,useClass:Sg,deps:[en,Ig,pd]}],v1=[{provide:wp,useValue:"root"},{provide:la,useFactory:function b2(){return new la},deps:[]},{provide:Od,useClass:g2,multi:!0,deps:[Wn,en,wg]},{provide:Od,useClass:v2,multi:!0,deps:[Wn]},{provide:om,useClass:om,deps:[kd,lc,tc]},{provide:zb,useExisting:om},{provide:s1,useExisting:lc},{provide:lc,useClass:lc,deps:[Wn]},{provide:kd,useClass:kd,deps:[Od,en]},{provide:X0,useClass:a2,deps:[]},[]];let C2=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:tc,useValue:n.appId},{provide:i1,useExisting:tc},o2]}}}return e.\u0275fac=function(n){return new(n||e)(le(m1,12))},e.\u0275mod=hr({type:e}),e.\u0275inj=tr({providers:[...v1,...y1],imports:[DL,rF]}),e})(),Rd=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(le(Wn))},e.\u0275prov=he({token:e,factory:function(n){let r=null;return r=n?new n:function S2(){return new Rd(le(Wn))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:k2}=Array,{getPrototypeOf:R2,prototype:N2,keys:F2}=Object;function w1(e){if(1===e.length){const t=e[0];if(k2(t))return{args:t,keys:null};if(function L2(e){return e&&"object"==typeof e&&R2(e)===N2}(t)){const n=F2(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:V2}=Array;function cm(e){return _e(t=>function j2(e,t){return V2(t)?e(...t):e(t)}(e,t))}function D1(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}let C1=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(F(Gi),F(or))},e.\u0275dir=Me({type:e}),e})(),_s=(()=>{class e extends C1{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Cn(e)))(r||e)}}(),e.\u0275dir=Me({type:e,features:[gt]}),e})();const Ii=new ce("NgValueAccessor"),U2={provide:Ii,useExisting:Et(()=>Nd),multi:!0};let Nd=(()=>{class e extends _s{writeValue(n){this.setProperty("checked",n)}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Cn(e)))(r||e)}}(),e.\u0275dir=Me({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){1&n&&ae("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[Ft([U2]),gt]}),e})();const $2={provide:Ii,useExisting:Et(()=>xa),multi:!0},G2=new ce("CompositionEventMode");let xa=(()=>{class e extends C1{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function H2(){const e=Ei()?Ei().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(F(Gi),F(or),F(G2,8))},e.\u0275dir=Me({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ae("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ft([$2]),gt]}),e})();function Oo(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function E1(e){return null!=e&&"number"==typeof e.length}const On=new ce("NgValidators"),ko=new ce("NgAsyncValidators"),K2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class W2{static min(t){return function S1(e){return t=>{if(Oo(t.value)||Oo(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function I1(e){return t=>{if(Oo(t.value)||Oo(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function A1(e){return Oo(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function M1(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function T1(e){return Oo(e.value)||K2.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function x1(e){return t=>Oo(t.value)||!E1(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function P1(e){return t=>E1(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function O1(e){if(!e)return Fd;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Oo(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return V1(t)}static composeAsync(t){return j1(t)}}function Fd(e){return null}function k1(e){return null!=e}function R1(e){return Hl(e)?an(e):e}function N1(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function F1(e,t){return t.map(n=>n(e))}function L1(e){return e.map(t=>function q2(e){return!e.validate}(t)?t:n=>t.validate(n))}function V1(e){if(!e)return null;const t=e.filter(k1);return 0==t.length?null:function(n){return N1(F1(n,t))}}function um(e){return null!=e?V1(L1(e)):null}function j1(e){if(!e)return null;const t=e.filter(k1);return 0==t.length?null:function(n){return function B2(...e){const t=Rv(e),{args:n,keys:r}=w1(e),i=new G(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;er(n[u]).subscribe(st(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?D1(r,a):a),o.complete())}))}});return t?i.pipe(cm(t)):i}(F1(n,t).map(R1)).pipe(_e(N1))}}function dm(e){return null!=e?j1(L1(e)):null}function B1(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function U1(e){return e._rawValidators}function $1(e){return e._rawAsyncValidators}function fm(e){return e?Array.isArray(e)?e:[e]:[]}function Ld(e,t){return Array.isArray(e)?e.includes(t):e===t}function H1(e,t){const n=fm(t);return fm(e).forEach(i=>{Ld(n,i)||n.push(i)}),n}function G1(e,t){return fm(t).filter(n=>!Ld(e,n))}class z1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=um(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class qn extends z1{get formDirective(){return null}get path(){return null}}class Ro extends z1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class K1{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pa=(()=>{class e extends K1{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(F(Ro,2))},e.\u0275dir=Me({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Ca("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[gt]}),e})(),Vd=(()=>{class e extends K1{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(F(qn,10))},e.\u0275dir=Me({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Ca("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[gt]}),e})();const cc="VALID",Bd="INVALID",Oa="PENDING",uc="DISABLED";function mm(e){return(Ud(e)?e.validators:e)||null}function ym(e,t){return(Ud(t)?t.asyncValidators:e)||null}function Ud(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function q1(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new K(1e3,"");if(!r[n])throw new K(1001,"")}function Y1(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new K(1002,"")})}class vm{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===cc}get invalid(){return this.status===Bd}get pending(){return this.status==Oa}get disabled(){return this.status===uc}get enabled(){return this.status!==uc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(H1(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(H1(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(G1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(G1(t,this._rawAsyncValidators))}hasValidator(t){return Ld(this._rawValidators,t)}hasAsyncValidator(t){return Ld(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Oa,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=uc,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=cc,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cc||this.status===Oa)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uc:cc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Oa,this._hasOwnPendingAsyncValidator=!0;const n=R1(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?uc:this.errors?Bd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oa)?Oa:this._anyControlsHaveStatus(Bd)?Bd:cc}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ud(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function tV(e){return Array.isArray(e)?um(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function nV(e){return Array.isArray(e)?dm(e):e||null}(this._rawAsyncValidators)}}class dc extends vm{constructor(t,n,r){super(mm(n),ym(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Y1(this,0,t),Object.keys(t).forEach(r=>{q1(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const ka=new ce("CallSetDisabledState",{providedIn:"root",factory:()=>$d}),$d="always";function Hd(e,t){return[...t.path,e]}function fc(e,t,n=$d){_m(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function oV(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&J1(e,t)})}(e,t),function aV(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function sV(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&J1(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function iV(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Gd(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Kd(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function zd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function _m(e,t){const n=U1(e);null!==t.validator?e.setValidators(B1(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=$1(e);null!==t.asyncValidator?e.setAsyncValidators(B1(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();zd(t._rawValidators,i),zd(t._rawAsyncValidators,i)}function Kd(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=U1(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=$1(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return zd(t._rawValidators,r),zd(t._rawAsyncValidators,r),n}function J1(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Q1(e,t){_m(e,t)}function wm(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function X1(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Dm(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===xa?n=o:function uV(e){return Object.getPrototypeOf(e.constructor)===_s}(o)?r=o:i=o}),i||r||n||null}const fV={provide:qn,useExisting:Et(()=>Wd)},hc=(()=>Promise.resolve())();let Wd=(()=>{class e extends qn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ht,this.form=new dc({},um(n),dm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){hc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),fc(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){hc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){hc.then(()=>{const r=this._findContainer(n.path),i=new dc({});Q1(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){hc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){hc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,X1(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return e.\u0275fac=function(n){return new(n||e)(F(On,10),F(ko,10),F(ka,8))},e.\u0275dir=Me({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&ae("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ft([fV]),gt]}),e})();function Z1(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function eE(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const bs=class extends vm{constructor(t=null,n,r){super(mm(n),ym(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ud(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=eE(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Z1(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Z1(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){eE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let tE=(()=>{class e extends qn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Hd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Cn(e)))(r||e)}}(),e.\u0275dir=Me({type:e,features:[gt]}),e})();const gV={provide:Ro,useExisting:Et(()=>Cm)},rE=(()=>Promise.resolve())();let Cm=(()=>{class e extends Ro{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new bs,this._registered=!1,this.update=new ht,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Dm(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),wm(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){rE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Ta(r);rE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Hd(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(F(qn,9),F(On,10),F(ko,10),F(Ii,10),F(nc,8),F(ka,8))},e.\u0275dir=Me({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ft([gV]),gt,Un]}),e})(),qd=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Me({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),oE=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=hr({type:e}),e.\u0275inj=tr({}),e})();const Em=new ce("NgModelWithFormControlWarning"),bV={provide:Ro,useExisting:Et(()=>Yd)};let Yd=(()=>{class e extends Ro{set isDisabled(n){}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new ht,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Dm(0,i)}ngOnChanges(n){if(this._isControlChanged(n)){const r=n.form.previousValue;r&&Gd(r,this,!1),fc(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}wm(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Gd(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(F(On,10),F(ko,10),F(Ii,10),F(Em,8),F(ka,8))},e.\u0275dir=Me({type:e,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ft([bV]),gt,Un]}),e})();const wV={provide:qn,useExisting:Et(()=>pc)};let pc=(()=>{class e extends qn{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ht,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return fc(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Gd(n.control||null,n,!1),function dV(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,X1(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Gd(r||null,n),(e=>e instanceof bs)(i)&&(fc(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);Q1(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function lV(e,t){return Kd(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_m(this.form,this),this._oldForm&&Kd(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(n){return new(n||e)(F(On,10),F(ko,10),F(ka,8))},e.\u0275dir=Me({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&ae("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ft([wV]),gt,Un]}),e})();const DV={provide:qn,useExisting:Et(()=>Sm)};let Sm=(()=>{class e extends tE{constructor(n,r,i){super(),this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){lE(this._parent)}}return e.\u0275fac=function(n){return new(n||e)(F(qn,13),F(On,10),F(ko,10))},e.\u0275dir=Me({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Ft([DV]),gt]}),e})();const CV={provide:qn,useExisting:Et(()=>Jd)};let Jd=(()=>{class e extends qn{constructor(n,r,i){super(),this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Hd(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){lE(this._parent)}}return e.\u0275fac=function(n){return new(n||e)(F(qn,13),F(On,10),F(ko,10))},e.\u0275dir=Me({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Ft([CV]),gt]}),e})();function lE(e){return!(e instanceof Sm||e instanceof pc||e instanceof Jd)}const EV={provide:Ro,useExisting:Et(()=>Qd)};let Qd=(()=>{class e extends Ro{set isDisabled(n){}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new ht,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Dm(0,o)}ngOnChanges(n){this._added||this._setUpControl(),wm(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Hd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(F(qn,13),F(On,10),F(ko,10),F(Ii,10),F(Em,8))},e.\u0275dir=Me({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ft([EV]),gt,Un]}),e})();const SV={provide:Ii,useExisting:Et(()=>Xd),multi:!0};function cE(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Xd=(()=>{class e extends _s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=cE(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function IV(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Cn(e)))(r||e)}}(),e.\u0275dir=Me({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&ae("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ft([SV]),gt]}),e})(),uE=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(cE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(F(or),F(Gi),F(Xd,9))},e.\u0275dir=Me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const AV={provide:Ii,useExisting:Et(()=>Im),multi:!0};function dE(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Im=(()=>{class e extends _s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function MV(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Cn(e)))(r||e)}}(),e.\u0275dir=Me({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&ae("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ft([AV]),gt]}),e})(),fE=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(dE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(dE(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(n){return new(n||e)(F(or),F(Gi),F(Im,9))},e.\u0275dir=Me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),DE=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=hr({type:e}),e.\u0275inj=tr({imports:[oE]}),e})();class CE extends vm{constructor(t,n,r){super(mm(n),ym(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){Y1(this,0,t),t.forEach((r,i)=>{q1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}let LV=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ka,useValue:n.callSetDisabledState??$d}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=hr({type:e}),e.\u0275inj=tr({imports:[DE]}),e})(),EE=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Em,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ka,useValue:n.callSetDisabledState??$d}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=hr({type:e}),e.\u0275inj=tr({imports:[DE]}),e})();function ne(...e){return an(e,fl(e))}class Vr extends yt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const gc=Yo(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Zd(...e){const t=fl(e),n=Rv(e),{args:r,keys:i}=w1(e);if(0===r.length)return an([],t);const o=new G(function VV(e,t,n=Kr){return r=>{SE(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)SE(t,()=>{const c=an(e[l],t);let u=!1;c.subscribe(st(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>D1(i,s):Kr));return n?o.pipe(cm(n)):o}function SE(e,t,n){e?Li(n,e,t):t()}function Mm(...e){return function jV(){return $s(1)}()(an(e,fl(e)))}function IE(e){return new G(t=>{er(e()).subscribe(t)})}function mc(e,t){const n=Pe(e)?e:()=>e,r=i=>i.error(n());return new G(t?i=>t.schedule(r,0,i):r)}function Tm(){return ct((e,t)=>{let n=null;e._refCount++;const r=st(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class AE extends G{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hi(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Jt;const n=this.getSubject();t.add(this.source.subscribe(st(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Jt.EMPTY)}return t}refCount(){return Tm()(this)}}function jr(e,t){return ct((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(st(r,l=>{i?.unsubscribe();let c=0;const u=o++;er(e(l,u)).subscribe(i=st(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function yc(e){return e<=0?()=>pi:ct((t,n)=>{let r=0;t.subscribe(st(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function xm(...e){const t=fl(e);return ct((n,r)=>{(t?Mm(e,n,t):Mm(e,n)).subscribe(r)})}function Ai(e,t){return ct((n,r)=>{let i=0;n.subscribe(st(r,o=>e.call(t,o,i++)&&r.next(o)))})}function ef(e){return ct((t,n)=>{let r=!1;t.subscribe(st(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function ME(e=BV){return ct((t,n)=>{let r=!1;t.subscribe(st(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function BV(){return new gc}function No(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ai((i,o)=>e(i,o,r)):Kr,yc(1),n?ef(t):ME(()=>new gc))}function Fo(e,t){return Pe(t)?hn(e,t,1):hn(e,1)}function Wt(e,t,n){const r=Pe(e)||t||n?{next:e,error:t,complete:n}:e;return r?ct((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(st(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Kr}function Yn(e){return ct((t,n)=>{let o,r=null,i=!1;r=t.subscribe(st(n,void 0,void 0,s=>{o=er(e(s,Yn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function UV(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(st(s,u=>{const d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function TE(e,t){return ct(UV(e,t,arguments.length>=2,!0))}function Pm(e){return e<=0?()=>pi:ct((t,n)=>{let r=[];t.subscribe(st(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function xE(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ai((i,o)=>e(i,o,r)):Kr,Pm(1),n?ef(t):ME(()=>new gc))}function Om(e){return ct((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const je="primary",vc=Symbol("RouteTitle");class GV{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ra(e){return new GV(e)}function zV(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Mi(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!PE(e[i],t[i]))return!1;return!0}function PE(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function OE(e){return Array.prototype.concat.apply([],e)}function kE(e){return e.length>0?e[e.length-1]:null}function En(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Lo(e){return qp(e)?e:Hl(e)?an(Promise.resolve(e)):ne(e)}const tf=!1,WV={exact:function FE(e,t,n){if(!Cs(e.segments,t.segments)||!nf(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!FE(e.children[r],t.children[r],n))return!1;return!0},subset:LE},RE={exact:function qV(e,t){return Mi(e,t)},subset:function YV(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>PE(e[n],t[n]))},ignored:()=>!0};function NE(e,t,n){return WV[n.paths](e.root,t.root,n.matrixParams)&&RE[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function LE(e,t,n){return VE(e,t,t.segments,n)}function VE(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Cs(i,n)||t.hasChildren()||!nf(i,n,r))}if(e.segments.length===n.length){if(!Cs(e.segments,n)||!nf(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!LE(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Cs(e.segments,i)&&nf(e.segments,i,r)&&e.children[je])&&VE(e.children[je],t,o,r)}}function nf(e,t,n){return t.every((r,i)=>RE[n](e[i].parameters,r.parameters))}class Ds{constructor(t=new We([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ra(this.queryParams)),this._queryParamMap}toString(){return XV.serialize(this)}}class We{constructor(t,n){this.segments=t,this.children=n,this.parent=null,En(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rf(this)}}class _c{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ra(this.parameters)),this._parameterMap}toString(){return UE(this)}}function Cs(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let bc=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:function(){return new km},providedIn:"root"}),e})();class km{parse(t){const n=new aj(t);return new Ds(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${wc(t.root,!0)}`,r=function tj(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${sf(n)}=${sf(i)}`).join("&"):`${sf(n)}=${sf(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function ZV(e){return encodeURI(e)}(t.fragment)}`:""}`}}const XV=new km;function rf(e){return e.segments.map(t=>UE(t)).join("/")}function wc(e,t){if(!e.hasChildren())return rf(e);if(t){const n=e.children[je]?wc(e.children[je],!1):"",r=[];return En(e.children,(i,o)=>{o!==je&&r.push(`${o}:${wc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function QV(e,t){let n=[];return En(e.children,(r,i)=>{i===je&&(n=n.concat(t(r,i)))}),En(e.children,(r,i)=>{i!==je&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===je?[wc(e.children[je],!1)]:[`${i}:${wc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[je]?`${rf(e)}/${n[0]}`:`${rf(e)}/(${n.join("//")})`}}function jE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sf(e){return jE(e).replace(/%3B/gi,";")}function Rm(e){return jE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function af(e){return decodeURIComponent(e)}function BE(e){return af(e.replace(/\+/g,"%20"))}function UE(e){return`${Rm(e.path)}${function ej(e){return Object.keys(e).map(t=>`;${Rm(t)}=${Rm(e[t])}`).join("")}(e.parameters)}`}const nj=/^[^\/()?;=#]+/;function lf(e){const t=e.match(nj);return t?t[0]:""}const rj=/^[^=?&#]+/,oj=/^[^&#]+/;class aj{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[je]=new We(t,n)),r}parseSegment(){const t=lf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new K(4009,tf);return this.capture(t),new _c(af(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=lf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=lf(this.remaining);i&&(r=i,this.capture(r))}t[af(n)]=af(r)}parseQueryParam(t){const n=function ij(e){const t=e.match(rj);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function sj(e){const t=e.match(oj);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=BE(n),o=BE(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new K(4010,tf);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=je);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[je]:new We([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new K(4011,tf)}}function Nm(e){return e.segments.length>0?new We([],{[je]:e}):e}function cf(e){const t={};for(const r of Object.keys(e.children)){const o=cf(e.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function lj(e){if(1===e.numberOfChildren&&e.children[je]){const t=e.children[je];return new We(e.segments.concat(t.segments),t.children)}return e}(new We(e.segments,t))}function Es(e){return e instanceof Ds}function dj(e,t,n,r,i){if(0===n.length)return Na(t.root,t.root,t.root,r,i);const o=function GE(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new HE(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return En(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new HE(n,t,r)}(n);return o.toRoot()?Na(t.root,t.root,new We([],{}),r,i):function s(l){const c=function hj(e,t,n,r){if(e.isAbsolute)return new Fa(t.root,!0,0);if(-1===r)return new Fa(n,n===t.root,0);return function zE(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Fa(r,!1,i-o)}(n,r+(Dc(e.commands[0])?0:1),e.numberOfDoubleDots)}(o,t,e.snapshot?._urlSegment,l),u=c.processChildren?La(c.segmentGroup,c.index,o.commands):Lm(c.segmentGroup,c.index,o.commands);return Na(t.root,c.segmentGroup,u,r,i)}(e.snapshot?._lastPathIndex)}function Dc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Cc(e){return"object"==typeof e&&null!=e&&e.outlets}function Na(e,t,n,r,i){let s,o={};r&&En(r,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=e===t?n:$E(e,t,n);const a=Nm(cf(s));return new Ds(a,o,i)}function $E(e,t,n){const r={};return En(e.children,(i,o)=>{r[o]=i===t?n:$E(i,t,n)}),new We(e.segments,r)}class HE{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Dc(r[0]))throw new K(4003,!1);const i=r.find(Cc);if(i&&i!==kE(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fa{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function Lm(e,t,n){if(e||(e=new We([],{})),0===e.segments.length&&e.hasChildren())return La(e,t,n);const r=function gj(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(Cc(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!WE(l,c,s))return o;r+=2}else{if(!WE(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new We(e.segments.slice(0,r.pathIndex),{});return o.children[je]=new We(e.segments.slice(r.pathIndex),e.children),La(o,0,i)}return r.match&&0===i.length?new We(e.segments,{}):r.match&&!e.hasChildren()?Vm(e,t,n):r.match?La(e,0,i):Vm(e,t,n)}function La(e,t,n){if(0===n.length)return new We(e.segments,{});{const r=function pj(e){return Cc(e[0])?e[0].outlets:{[je]:e}}(n),i={};return!r[je]&&e.children[je]&&1===e.numberOfChildren&&0===e.children[je].segments.length?La(e.children[je],t,n):(En(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Lm(e.children[s],t,o))}),En(e.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new We(e.segments,i))}}function Vm(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Cc(o)){const l=mj(o.outlets);return new We(r,l)}if(0===i&&Dc(n[0])){r.push(new _c(e.segments[t].path,KE(n[0]))),i++;continue}const s=Cc(o)?o.outlets[je]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Dc(a)?(r.push(new _c(s,KE(a))),i+=2):(r.push(new _c(s,{})),i++)}return new We(r,{})}function mj(e){const t={};return En(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=Vm(new We([],{}),0,n))}),t}function KE(e){const t={};return En(e,(n,r)=>t[r]=`${n}`),t}function WE(e,t,n){return e==n.path&&Mi(t,n.parameters)}const Ec="imperative";class Ti{constructor(t,n){this.id=t,this.url=n}}class Sc extends Ti{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ss extends Ti{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uf extends Ti{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qE extends Ti{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class YE extends Ti{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yj extends Ti{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vj extends Ti{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _j extends Ti{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bj extends Ti{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wj extends Ti{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dj{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cj{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ej{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sj{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ij{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aj{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JE{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Tj=(()=>{class e{createUrlTree(n,r,i,o,s,a){return dj(n||r.root,i,o,s,a)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),xj=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:function(t){return Tj.\u0275fac(t)},providedIn:"root"}),e})();class QE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=jm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=jm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Bm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Bm(t,this._root).map(n=>n.value)}}function jm(e,t){if(e===t.value)return t;for(const n of t.children){const r=jm(e,n);if(r)return r}return null}function Bm(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Bm(e,n);if(r.length)return r.unshift(t),r}return[]}class eo{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Va(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class XE extends QE{constructor(t,n){super(t),this.snapshot=n,Um(this,t)}toString(){return this.snapshot.toString()}}function ZE(e,t){const n=function Pj(e,t){const s=new df([],{},{},"",{},je,t,null,e.root,-1,{});return new tS("",new eo(s,[]))}(e,t),r=new Vr([new _c("",{})]),i=new Vr({}),o=new Vr({}),s=new Vr({}),a=new Vr(""),l=new Vo(r,i,s,a,o,je,t,n.root);return l.snapshot=n.root,new XE(new eo(l,[]),n)}class Vo{constructor(t,n,r,i,o,s,a,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(_e(c=>c[vc]))??ne(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(t=>Ra(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(t=>Ra(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eS(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Oj(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class df{get title(){return this.data?.[vc]}constructor(t,n,r,i,o,s,a,l,c,u,d){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ra(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ra(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tS extends QE{constructor(t,n){super(n),this.url=t,Um(this,n)}toString(){return nS(this._root)}}function Um(e,t){t.value._routerState=e,t.children.forEach(n=>Um(e,n))}function nS(e){const t=e.children.length>0?` { ${e.children.map(nS).join(", ")} } `:"";return`${e.value}${t}`}function $m(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Mi(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Mi(t.params,n.params)||e.params.next(n.params),function KV(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Mi(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Mi(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Hm(e,t){const n=Mi(e.params,t.params)&&function JV(e,t){return Cs(e,t)&&e.every((n,r)=>Mi(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Hm(e.parent,t.parent))}function Ic(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function Rj(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ic(e,r,i);return Ic(e,r)})}(e,t,n);return new eo(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ic(e,a)),s}}const r=function Nj(e){return new Vo(new Vr(e.url),new Vr(e.params),new Vr(e.queryParams),new Vr(e.fragment),new Vr(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Ic(e,o));return new eo(r,i)}}const Gm="ngNavigationCancelingError";function rS(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Es(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=iS(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function iS(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Gm]=!0,r.cancellationCode=t,n&&(r.url=n),r}function oS(e){return sS(e)&&Es(e.url)}function sS(e){return e&&e[Gm]}class Fj{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ac,this.attachRef=null}}let Ac=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Fj,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ff=!1;let zm=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=je,this.activateEvents=new ht,this.deactivateEvents=new ht,this.attachEvents=new ht,this.detachEvents=new ht,this.parentContexts=ze(Ac),this.location=ze(ni),this.changeDetector=ze(nc),this.environmentInjector=ze(_i)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,ff);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,ff);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,ff);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new K(4013,ff);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Lj(n,a,i.injector);if(r&&function Vj(e){return!!e.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Me({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Un]}),e})();class Lj{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Vo?this.route:t===Ac?this.childContexts:this.parent.get(t,n)}}let Km=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Vn({type:e,selectors:[["ng-component"]],standalone:!0,features:[sg],decls:1,vars:0,template:function(n,r){1&n&&Oe(0,"router-outlet")},dependencies:[zm],encapsulation:2}),e})();function aS(e,t){return e.providers&&!e._injector&&(e._injector=ad(e.providers,t,`Route: ${e.path}`)),e._injector??t}function qm(e){const t=e.children&&e.children.map(qm),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==je&&(n.component=Km),n}function Br(e){return e.outlet||je}function lS(e,t){const n=e.filter(r=>Br(r)===t);return n.push(...e.filter(r=>Br(r)!==t)),n}function Mc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class Hj{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),$m(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Va(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),En(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Va(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Va(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=Va(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Aj(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Sj(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if($m(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$m(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Mc(i.snapshot),l=a?.get(Ll)??null;s.attachRef=null,s.route=i,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class cS{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class hf{constructor(t,n){this.component=t,this.route=n}}function Gj(e,t,n){const r=e._root;return Tc(r,t?t._root:null,n,[r.value])}function ja(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function oM(e){return null!==uu(e)}(e)?t.get(e):e:r}function Tc(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Va(t);return e.children.forEach(s=>{(function Kj(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Wj(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Cs(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Cs(e.url,t.url)||!Mi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hm(e,t)||!Mi(e.queryParams,t.queryParams);default:return!Hm(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new cS(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Tc(e,t,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hf(a.outlet.component,s))}else s&&xc(t,a,i),i.canActivateChecks.push(new cS(r)),Tc(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),En(o,(s,a)=>xc(s,n.getContext(a),i)),i}function xc(e,t,n){const r=Va(e),i=e.value;En(r,(o,s)=>{xc(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new hf(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Pc(e){return"function"==typeof e}function Ym(e){return e instanceof gc||"EmptyError"===e?.name}const pf=Symbol("INITIAL_VALUE");function Ba(){return jr(e=>Zd(e.map(t=>t.pipe(yc(1),xm(pf)))).pipe(_e(t=>{for(const n of t)if(!0!==n){if(n===pf)return pf;if(!1===n||n instanceof Ds)return n}return!0}),Ai(t=>t!==pf),yc(1)))}function uS(e){return function te(...e){return z(e)}(Wt(t=>{if(Es(t))throw rS(0,t)}),_e(t=>!0===t))}const Jm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dS(e,t,n,r,i){const o=Qm(e,t,n);return o.matched?function uB(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?ne(i.map(s=>{const a=ja(s,e);return Lo(function Zj(e){return e&&Pc(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(Ba(),uS()):ne(!0)}(r=aS(t,r),t,n).pipe(_e(s=>!0===s?o:{...Jm})):ne(o)}function Qm(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Jm}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||zV)(n,e,t);if(!i)return{...Jm};const o={};En(i.posParams,(a,l)=>{o[l]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function gf(e,t,n,r){if(n.length>0&&function hB(e,t,n){return n.some(r=>mf(e,t,r)&&Br(r)!==je)}(e,n,r)){const o=new We(t,function fB(e,t,n,r){const i={};i[je]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&Br(o)!==je){const s=new We([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,i[Br(o)]=s}return i}(e,t,r,new We(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function pB(e,t,n){return n.some(r=>mf(e,t,r))}(e,n,r)){const o=new We(e.segments,function dB(e,t,n,r,i){const o={};for(const s of r)if(mf(e,n,s)&&!i[Br(s)]){const a=new We([],{});a._sourceSegment=e,a._segmentIndexShift=t.length,o[Br(s)]=a}return{...i,...o}}(e,t,n,r,e.children));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const i=new We(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function mf(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function fS(e,t,n,r){return!!(Br(e)===r||r!==je&&mf(t,n,e))&&("**"===e.path||Qm(t,e,n).matched)}function hS(e,t,n){return 0===t.length&&!e.children[n]}const yf=!1;class vf{constructor(t){this.segmentGroup=t||null}}class pS{constructor(t){this.urlTree=t}}function Oc(e){return mc(new vf(e))}function gS(e){return mc(new pS(e))}class vB{constructor(t,n,r,i,o){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=gf(this.urlTree.root,[],[],this.config).segmentGroup,n=new We(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,je).pipe(_e(o=>this.createUrlTree(cf(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yn(o=>{if(o instanceof pS)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof vf?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,je).pipe(_e(i=>this.createUrlTree(cf(i),t.queryParams,t.fragment))).pipe(Yn(i=>{throw i instanceof vf?this.noMatchError(i):i}))}noMatchError(t){return new K(4002,yf)}createUrlTree(t,n,r){const i=Nm(t);return new Ds(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(_e(o=>new We([],o))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return an(i).pipe(Fo(o=>{const s=r.children[o],a=lS(n,o);return this.expandSegmentGroup(t,a,s,o).pipe(_e(l=>({segment:l,outlet:o})))}),TE((o,s)=>(o[s.outlet]=s.segment,o),{}),xE())}expandSegment(t,n,r,i,o,s){return an(r).pipe(Fo(a=>this.expandSegmentAgainstRoute(t,n,r,a,i,o,s).pipe(Yn(c=>{if(c instanceof vf)return ne(null);throw c}))),No(a=>!!a),Yn((a,l)=>{if(Ym(a))return hS(n,i,o)?ne(new We([],{})):Oc(n);throw a}))}expandSegmentAgainstRoute(t,n,r,i,o,s,a){return fS(i,n,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s):Oc(n):Oc(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gS(o):this.lineralizeSegments(r,o).pipe(hn(s=>{const a=new We(s,{});return this.expandSegment(t,a,n,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Qm(n,i,o);if(!a)return Oc(n);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?gS(d):this.lineralizeSegments(i,d).pipe(hn(f=>this.expandSegment(t,n,r,f.concat(c),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){return"**"===r.path?(t=aS(r,t),r.loadChildren?(r._loadedRoutes?ne({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(_e(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new We(i,{})))):ne(new We(i,{}))):dS(n,r,i,t).pipe(jr(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(t=r._injector??t,r,i).pipe(hn(u=>{const d=u.injector??t,f=u.routes,{segmentGroup:h,slicedSegments:g}=gf(n,a,l,f),m=new We(h.segments,h.children);if(0===g.length&&m.hasChildren())return this.expandChildren(d,f,m).pipe(_e(b=>new We(a,b)));if(0===f.length&&0===g.length)return ne(new We(a,{}));const D=Br(r)===o;return this.expandSegment(d,m,f,g,D?je:o,!0).pipe(_e(C=>new We(a.concat(C.segments),C.children)))})):Oc(n)))}getChildConfig(t,n,r){return n.children?ne({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):function cB(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?ne(!0):ne(i.map(s=>{const a=ja(s,e);return Lo(function Yj(e){return e&&Pc(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(Ba(),uS())}(t,n,r).pipe(hn(i=>i?this.configLoader.loadChildren(t,n).pipe(Wt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function mB(e){return mc(iS(yf,3))}())):ne({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ne(r);if(i.numberOfChildren>1||!i.children[je])return mc(new K(4e3,yf));i=i.children[je]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Ds(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return En(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return En(n.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,r,i)}),new We(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new K(4001,yf);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}class bB{}class CB{constructor(t,n,r,i,o,s,a){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const t=gf(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,je).pipe(_e(n=>{if(null===n)return null;const r=new df([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},je,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new eo(r,n),o=new tS(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const n=t.value,r=eS(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i)}processChildren(t,n,r){return an(Object.keys(r.children)).pipe(Fo(i=>{const o=r.children[i],s=lS(n,i);return this.processSegmentGroup(t,s,o,i)}),TE((i,o)=>i&&o?(i.push(...o),i):null),function $V(e,t=!1){return ct((n,r)=>{let i=0;n.subscribe(st(r,o=>{const s=e(o,i++);(s||t)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),ef(null),xE(),_e(i=>{if(null===i)return null;const o=yS(i);return function EB(e){e.sort((t,n)=>t.value.outlet===je?-1:n.value.outlet===je?1:t.value.outlet.localeCompare(n.value.outlet))}(o),o}))}processSegment(t,n,r,i,o){return an(n).pipe(Fo(s=>this.processSegmentAgainstRoute(s._injector??t,s,r,i,o)),No(s=>!!s),Yn(s=>{if(Ym(s))return hS(r,i,o)?ne([]):ne(null);throw s}))}processSegmentAgainstRoute(t,n,r,i,o){if(n.redirectTo||!fS(n,r,i,o))return ne(null);let s;if("**"===n.path){const a=i.length>0?kE(i).parameters:{},l=_S(r)+i.length;s=ne({snapshot:new df(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bS(n),Br(n),n.component??n._loadedComponent??null,n,vS(r),l,wS(n)),consumedSegments:[],remainingSegments:[]})}else s=dS(r,n,i,t).pipe(_e(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=_S(r)+l.length;return{snapshot:new df(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bS(n),Br(n),n.component??n._loadedComponent??null,n,vS(r),d,wS(n)),consumedSegments:l,remainingSegments:c}}));return s.pipe(jr(a=>{if(null===a)return ne(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;t=n._injector??t;const d=n._loadedInjector??t,f=function SB(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:h,slicedSegments:g}=gf(r,c,u,f.filter(D=>void 0===D.redirectTo));if(0===g.length&&h.hasChildren())return this.processChildren(d,f,h).pipe(_e(D=>null===D?null:[new eo(l,D)]));if(0===f.length&&0===g.length)return ne([new eo(l,[])]);const m=Br(n)===o;return this.processSegment(d,f,h,g,m?je:o).pipe(_e(D=>null===D?null:[new eo(l,D)]))}))}}function IB(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function yS(e){const t=[],n=new Set;for(const r of e){if(!IB(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=yS(r.children);t.push(new eo(r.value,i))}return t.filter(r=>!n.has(r))}function vS(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function _S(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function bS(e){return e.data||{}}function wS(e){return e.resolve||{}}function DS(e){return"string"==typeof e.title||null===e.title}function Xm(e){return jr(t=>{const n=e(t);return n?an(n).pipe(_e(()=>t)):ne(t)})}const Ua=new ce("ROUTES");let Zm=(()=>{class e{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Lo(n.loadComponent()).pipe(_e(ES),Wt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Om(()=>{this.componentLoaders.delete(n)})),i=new AE(r,()=>new yt).pipe(Tm());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(_e(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(n).injector,c=OE(l.get(Ua,[],Ce.Self|Ce.Optional)));return{routes:c.map(qm),injector:l}}),Om(()=>{this.childrenLoaders.delete(r)})),s=new AE(o,()=>new yt).pipe(Tm());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return Lo(n()).pipe(_e(ES),hn(i=>i instanceof lC||Array.isArray(i)?ne(i):an(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(n){return new(n||e)(le(Xr),le(QC))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ES(e){return function NB(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let bf=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new yt,this.configLoader=ze(Zm),this.environmentInjector=ze(_i),this.urlSerializer=ze(bc),this.rootContexts=ze(Ac),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Cj(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Dj(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Vr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ec,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ai(r=>0!==r.id),_e(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),jr(r=>{let i=!1,o=!1;return ne(r).pipe(Wt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),jr(s=>{const a=n.browserUrlTree.toString(),l=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const u="";return this.events.next(new qE(s.id,n.serializeUrl(r.rawUrl),u,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),pi}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return SS(s.source)&&(n.browserUrlTree=s.extractedUrl),ne(s).pipe(jr(u=>{const d=this.transitions?.getValue();return this.events.next(new Sc(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?pi:Promise.resolve(u)}),function _B(e,t,n,r){return jr(i=>function yB(e,t,n,r,i){return new vB(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(_e(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Wt(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},r.urlAfterRedirects=u.urlAfterRedirects}),function MB(e,t,n,r,i){return hn(o=>function DB(e,t,n,r,i,o,s="emptyOnly"){return new CB(e,t,n,r,i,s,o).recognize().pipe(jr(a=>null===a?function wB(e){return new G(t=>t.error(e))}(new bB):ne(a)))}(e,t,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(_e(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Wt(u=>{if(r.targetSnapshot=u.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!u.extras.skipLocationChange){const f=n.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);n.setBrowserUrl(f,u)}n.browserUrlTree=u.urlAfterRedirects}const d=new yj(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:u,extractedUrl:d,source:f,restoredState:h,extras:g}=s,m=new Sc(u,this.urlSerializer.serialize(d),f,h);this.events.next(m);const D=ZE(d,this.rootComponentType).snapshot;return ne(r={...s,targetSnapshot:D,urlAfterRedirects:d,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new qE(s.id,n.serializeUrl(r.extractedUrl),u,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),pi}}),Wt(s=>{const a=new vj(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),_e(s=>r={...s,guards:Gj(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function tB(e,t){return hn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ne({...n,guardsResult:!0}):function nB(e,t,n,r){return an(e).pipe(hn(i=>function lB(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ne(o.map(a=>{const l=Mc(t)??i,c=ja(a,l);return Lo(function Xj(e){return e&&Pc(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):l.runInContext(()=>c(e,t,n,r))).pipe(No())})).pipe(Ba()):ne(!0)}(i.component,i.route,n,t,r)),No(i=>!0!==i,!0))}(s,r,i,e).pipe(hn(a=>a&&function qj(e){return"boolean"==typeof e}(a)?function rB(e,t,n,r){return an(t).pipe(Fo(i=>Mm(function oB(e,t){return null!==e&&t&&t(new Ej(e)),ne(!0)}(i.route.parent,r),function iB(e,t){return null!==e&&t&&t(new Ij(e)),ne(!0)}(i.route,r),function aB(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function zj(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>IE(()=>ne(s.guards.map(l=>{const c=Mc(s.node)??n,u=ja(l,c);return Lo(function Qj(e){return e&&Pc(e.canActivateChild)}(u)?u.canActivateChild(r,e):c.runInContext(()=>u(r,e))).pipe(No())})).pipe(Ba())));return ne(o).pipe(Ba())}(e,i.path,n),function sB(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ne(!0);const i=r.map(o=>IE(()=>{const s=Mc(t)??n,a=ja(o,s);return Lo(function Jj(e){return e&&Pc(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(No())}));return ne(i).pipe(Ba())}(e,i.route,n))),No(i=>!0!==i,!0))}(r,o,e,t):ne(a)),_e(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Wt(s=>{if(r.guardsResult=s.guardsResult,Es(s.guardsResult))throw rS(0,s.guardsResult);const a=new _j(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ai(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Xm(s=>{if(s.guards.canActivateChecks.length)return ne(s).pipe(Wt(a=>{const l=new bj(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),jr(a=>{let l=!1;return ne(a).pipe(function TB(e,t){return hn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let o=0;return an(i).pipe(Fo(s=>function xB(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!DS(i)&&(o[vc]=i.title),function PB(e,t,n,r){const i=function OB(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return ne({});const o={};return an(i).pipe(hn(s=>function kB(e,t,n,r){const i=Mc(t)??r,o=ja(e,i);return Lo(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(No(),Wt(a=>{o[s]=a}))),Pm(1),function HV(e){return _e(()=>e)}(o),Yn(s=>Ym(s)?pi:mc(s)))}(o,e,t,r).pipe(_e(s=>(e._resolvedData=s,e.data=eS(e,n).resolve,i&&DS(i)&&(e.data[vc]=i.title),null)))}(s.route,r,e,t)),Wt(()=>o++),Pm(1),hn(s=>o===i.length?ne(n):pi))})}(n.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Wt(a=>{const l=new wj(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Xm(s=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Wt(u=>{l.component=u}),_e(()=>{})));for(const u of l.children)c.push(...a(u));return c};return Zd(a(s.targetSnapshot.root)).pipe(ef(),yc(1))}),Xm(()=>this.afterPreactivation()),_e(s=>{const a=function kj(e,t,n){const r=Ic(e,t._root,n?n._root:void 0);return new XE(r,t)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Wt(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((e,t,n)=>_e(r=>(new Hj(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s)),Wt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Ss(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Om(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Yn(s=>{if(o=!0,sS(s)){oS(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new uf(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),oS(s)){const l=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||SS(r.source)};n.scheduleNavigation(l,Ec,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new YE(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(l){r.reject(l)}}return pi}))}))}cancelNavigationTransition(n,r,i){const o=new uf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function SS(e){return e!==Ec}let IS=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===je);return r}getResolvedTitleForRoute(n){return n.data[vc]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:function(){return ze(FB)},providedIn:"root"}),e})(),FB=(()=>{class e extends IS{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(le(Rd))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),LB=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:function(){return ze(jB)},providedIn:"root"}),e})();class VB{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let jB=(()=>{class e extends VB{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Cn(e)))(r||e)}}(),e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const wf=new ce("",{providedIn:"root",factory:()=>({})});let UB=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:function(){return ze($B)},providedIn:"root"}),e})(),$B=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function HB(e){throw e}function GB(e,t,n){return t.parse("/")}const zB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ze(CN),this.isNgZoneEnabled=!1,this.options=ze(wf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||HB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||GB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ze(UB),this.routeReuseStrategy=ze(LB),this.urlCreationStrategy=ze(xj),this.titleStrategy=ze(IS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=OE(ze(Ua,{optional:!0})??[]),this.navigationTransitions=ze(bf),this.urlSerializer=ze(bc),this.location=ze(Lg),this.isNgZoneEnabled=ze(en)instanceof en&&en.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ds,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ZE(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ec,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(qm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Es(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ec,null,r)}navigate(n,r={skipLocationChange:!1}){return function WB(e){for(let t=0;t<e.length;t++){if(null==e[t])throw new K(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...zB}:!1===r?{...KB}:r,Es(n))return NE(this.currentUrlTree,n,i);const o=this.parseUrl(n);return NE(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f}),u="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Is=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new yt;const l=s.nativeElement.tagName;this.isAnchorElement="A"===l||"AREA"===l,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Ss&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Ta(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Ta(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Ta(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function kb(e,t,n){return function xx(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Ob:us}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(n){return new(n||e)(F(kn),F(Vo),function xu(e){return function nT(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(C_(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(Dn(),e)}("tabindex"),F(Gi),F(or),F(xo))},e.\u0275dir=Me({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&ae("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&Gn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Un]}),e})(),MS=(()=>{class e{get isActive(){return this._isActive}constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ht,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof Ss&&this.update()})}ngAfterContentInit(){ne(this.links.changes,ne(null)).pipe($s()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=an(n).pipe($s()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function qB(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return e.\u0275fac=function(n){return new(n||e)(F(kn),F(or),F(Gi),F(nc),F(Is,8))},e.\u0275dir=Me({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&function IC(e,t,n,r){const i=et();if(i.firstCreatePass){const o=Dn();MC(i,new EC(t,n,r),o.index),function rN(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}AC(i,U(),n)}(i,Is,5),2&n){let o;br(o=wr())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Un]}),e})();class TS{}let YB=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ai(n=>n instanceof Ss),Fo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=ad(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return an(i).pipe($s())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ne(null);const o=i.pipe(hn(s=>null===s?ne(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?an([o,this.loader.loadComponent(r)]).pipe($s()):o})}}return e.\u0275fac=function(n){return new(n||e)(le(kn),le(QC),le(_i),le(TS),le(Zm))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ey=new ce("");let xS=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Sc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ss&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof JE&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new JE(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function uw(){throw new Error("invalid")}()},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function As(e,t){return{\u0275kind:e,\u0275providers:t}}function OS(){const e=ze(Xr);return t=>{const n=e.get(gd);if(t!==n.components[0])return;const r=e.get(kn),i=e.get(kS);1===e.get(ny)&&r.initialNavigation(),e.get(RS,null,Ce.Optional)?.setUpPreloading(),e.get(ey,null,Ce.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const kS=new ce("",{factory:()=>new yt}),ny=new ce("",{providedIn:"root",factory:()=>1});const RS=new ce("");function e3(e){return As(0,[{provide:RS,useExisting:YB},{provide:TS,useExisting:e}])}const NS=new ce("ROUTER_FORROOT_GUARD"),t3=[Lg,{provide:bc,useClass:km},kn,Ac,{provide:Vo,useFactory:function PS(e){return e.routerState.root},deps:[kn]},Zm,[]];function n3(){return new o0("Router",kn)}let FS=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[t3,[],{provide:Ua,multi:!0,useValue:n},{provide:NS,useFactory:s3,deps:[[kn,new Al,new Ml]]},{provide:wf,useValue:r||{}},r?.useHash?{provide:xo,useClass:T0}:{provide:xo,useClass:M0},{provide:ey,useFactory:()=>{const e=ze(IL),t=ze(en),n=ze(wf),r=ze(bf),i=ze(bc);return n.scrollOffset&&e.setOffset(n.scrollOffset),new xS(i,r,e,t,n)}},r?.preloadingStrategy?e3(r.preloadingStrategy).\u0275providers:[],{provide:o0,multi:!0,useFactory:n3},r?.initialNavigation?a3(r):[],[{provide:LS,useFactory:OS},{provide:JC,multi:!0,useExisting:LS}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Ua,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(le(NS,8))},e.\u0275mod=hr({type:e}),e.\u0275inj=tr({imports:[Km]}),e})();function s3(e){return"guarded"}function a3(e){return["disabled"===e.initialNavigation?As(3,[{provide:fd,multi:!0,useFactory:()=>{const t=ze(kn);return()=>{t.setUpLocationChangeListener()}}},{provide:ny,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?As(2,[{provide:ny,useValue:0},{provide:fd,multi:!0,deps:[Xr],useFactory:t=>{const n=t.get(lF,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const o=t.get(kn),s=t.get(kS);(function r(i){t.get(kn).events.pipe(Ai(s=>s instanceof Ss||s instanceof uf||s instanceof YE),_e(s=>s instanceof Ss||s instanceof uf&&(0===s.code||1===s.code)&&null),Ai(s=>null!==s),yc(1)).subscribe(()=>{i()})})(()=>{i(!0)}),t.get(bf).afterPreactivation=()=>(i(!0),s.closed?ne(void 0):s),o.initialNavigation()}))}}]).\u0275providers:[]]}const LS=new ce("");function VS(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function xt(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(l){VS(o,r,i,s,a,"next",l)}function a(l){VS(o,r,i,s,a,"throw",l)}s(void 0)})}}function jS(e,t){const n="object"==typeof t;return new Promise((r,i)=>{const o=new Do({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(t.defaultValue):i(new gc)}});e.subscribe(o)})}function to(e){return Array.isArray?Array.isArray(e):"[object Array]"===$S(e)}function xi(e){return"string"==typeof e}function BS(e){return"number"==typeof e}function US(e){return"object"==typeof e}function Dr(e){return null!=e}function ry(e){return!e.trim().length}function $S(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const HS=Object.prototype.hasOwnProperty;class _3{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let i=GS(r);n+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function GS(e){let t=null,n=null,r=null,i=1,o=null;if(xi(e)||to(e))r=e,t=zS(e),n=iy(e);else{if(!HS.call(e,"name"))throw new Error("Missing name property in key");const s=e.name;if(r=s,HS.call(e,"weight")&&(i=e.weight,i<=0))throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(s));t=zS(s),n=iy(s),o=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:o}}function zS(e){return to(e)?e:e.split(".")}function iy(e){return to(e)?e.join("."):e}var ke={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function b3(e,t){let n=[],r=!1;const i=(o,s,a)=>{if(Dr(o))if(s[a]){const c=o[s[a]];if(!Dr(c))return;if(a===s.length-1&&(xi(c)||BS(c)||function f3(e){return!0===e||!1===e||function h3(e){return US(e)&&null!==e}(e)&&"[object Boolean]"==$S(e)}(c)))n.push(function d3(e){return null==e?"":function u3(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(c));else if(to(c)){r=!0;for(let u=0,d=c.length;u<d;u+=1)i(c[u],s,a+1)}else s.length&&i(c,s,a+1)}else n.push(o)};return i(e,xi(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const w3=/[^ ]+/g;class oy{constructor({getFn:t=ke.getFn,fieldNormWeight:n=ke.fieldNormWeight}={}){this.norm=function D3(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(i){const o=i.match(w3).length;if(n.has(o))return n.get(o);const s=1/Math.pow(o,.5*e),a=parseFloat(Math.round(s*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,xi(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();xi(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Dr(t)||ry(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((i,o)=>{let s=i.getFn?i.getFn(t):this.getFn(t,i.path);if(Dr(s))if(to(s)){let a=[];const l=[{nestedArrIndex:-1,value:s}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(Dr(u))if(xi(u)&&!ry(u)){let d={v:u,i:c,n:this.norm.get(u)};a.push(d)}else to(u)&&u.forEach((d,f)=>{l.push({nestedArrIndex:f,value:d})})}r.$[o]=a}else if(xi(s)&&!ry(s)){let a={v:s,n:this.norm.get(s)};r.$[o]=a}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function KS(e,t,{getFn:n=ke.getFn,fieldNormWeight:r=ke.fieldNormWeight}={}){const i=new oy({getFn:n,fieldNormWeight:r});return i.setKeys(e.map(GS)),i.setSources(t),i.create(),i}function C3(e,{getFn:t=ke.getFn,fieldNormWeight:n=ke.fieldNormWeight}={}){const{keys:r,records:i}=e,o=new oy({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o}function Df(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:i=ke.distance,ignoreLocation:o=ke.ignoreLocation}={}){const s=t/e.length;if(o)return s;const a=Math.abs(r-n);return i?s+a/i:a?1:s}function I3(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}class WS{constructor(t,{location:n=ke.location,threshold:r=ke.threshold,distance:i=ke.distance,includeMatches:o=ke.includeMatches,findAllMatches:s=ke.findAllMatches,minMatchCharLength:a=ke.minMatchCharLength,isCaseSensitive:l=ke.isCaseSensitive,ignoreLocation:c=ke.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(f,h)=>{this.chunks.push({pattern:f,alphabet:I3(f),startIndex:h})},d=this.pattern.length;if(d>32){let f=0;const h=d%32,g=d-h;for(;f<g;)u(this.pattern.substr(f,32),f),f+=32;if(h){const m=d-32;u(this.pattern.substr(m),m)}}else u(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let g={isMatch:!0,score:0};return r&&(g.indices=[[0,t.length-1]]),g}const{location:i,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,ignoreLocation:c}=this.options;let u=[],d=0,f=!1;this.chunks.forEach(({pattern:g,alphabet:m,startIndex:D})=>{const{isMatch:w,score:C,indices:b}=function S3(e,t,n,{location:r=ke.location,distance:i=ke.distance,threshold:o=ke.threshold,findAllMatches:s=ke.findAllMatches,minMatchCharLength:a=ke.minMatchCharLength,includeMatches:l=ke.includeMatches,ignoreLocation:c=ke.ignoreLocation}={}){if(t.length>32)throw new Error("Pattern length exceeds max of 32.");const u=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let h=o,g=f;const m=a>1||l,D=m?Array(d):[];let w;for(;(w=e.indexOf(t,g))>-1;){let j=Df(t,{currentLocation:w,expectedLocation:f,distance:i,ignoreLocation:c});if(h=Math.min(j,h),g=w+u,m){let oe=0;for(;oe<u;)D[w+oe]=1,oe+=1}}g=-1;let C=[],b=1,k=u+d;const P=1<<u-1;for(let j=0;j<u;j+=1){let oe=0,S=k;for(;oe<S;)Df(t,{errors:j,currentLocation:f+S,expectedLocation:f,distance:i,ignoreLocation:c})<=h?oe=S:k=S,S=Math.floor((k-oe)/2+oe);k=S;let _=Math.max(1,f-S+1),V=s?d:Math.min(f+S,d)+u,x=Array(V+2);x[V+1]=(1<<j)-1;for(let Z=V;Z>=_;Z-=1){let $e=Z-1,tt=n[e.charAt($e)];if(m&&(D[$e]=+!!tt),x[Z]=(x[Z+1]<<1|1)&tt,j&&(x[Z]|=(C[Z+1]|C[Z])<<1|1|C[Z+1]),x[Z]&P&&(b=Df(t,{errors:j,currentLocation:$e,expectedLocation:f,distance:i,ignoreLocation:c}),b<=h)){if(h=b,g=$e,g<=f)break;_=Math.max(1,2*f-g)}}if(Df(t,{errors:j+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:c})>h)break;C=x}const O={isMatch:g>=0,score:Math.max(.001,b)};if(m){const j=function E3(e=[],t=ke.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let s=e.length;o<s;o+=1){let a=e[o];a&&-1===r?r=o:!a&&-1!==r&&(i=o-1,i-r+1>=t&&n.push([r,i]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}(D,a);j.length?l&&(O.indices=j):O.isMatch=!1}return O}(t,g,m,{location:i+D,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,includeMatches:r,ignoreLocation:c});w&&(f=!0),d+=C,w&&b&&(u=[...u,...b])});let h={isMatch:f,score:f?d/this.chunks.length:1};return f&&r&&(h.indices=u),h}}class jo{constructor(t){this.pattern=t}static isMultiMatch(t){return qS(t,this.multiRegex)}static isSingleMatch(t){return qS(t,this.singleRegex)}search(){}}function qS(e,t){const n=e.match(t);return n?n[1]:null}class YS extends jo{constructor(t,{location:n=ke.location,threshold:r=ke.threshold,distance:i=ke.distance,includeMatches:o=ke.includeMatches,findAllMatches:s=ke.findAllMatches,minMatchCharLength:a=ke.minMatchCharLength,isCaseSensitive:l=ke.isCaseSensitive,ignoreLocation:c=ke.ignoreLocation}={}){super(t),this._bitapSearch=new WS(t,{location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class JS extends jo{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r,n=0;const i=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,i.push([r,n-1]);const s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}}const sy=[class A3 extends jo{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}},JS,class T3 extends jo{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}},class x3 extends jo{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}},class O3 extends jo{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}},class P3 extends jo{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class M3 extends jo{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=-1===t.indexOf(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}},YS],QS=sy.length,k3=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,F3=new Set([YS.type,JS.type]),ay=[];function ly(e,t){for(let n=0,r=ay.length;n<r;n+=1){let i=ay[n];if(i.condition(e,t))return new i(e,t)}return new WS(e,t)}const uy=e=>!(!e.$and&&!e.$or),XS=e=>({$and:Object.keys(e).map(t=>({[t]:e[t]}))});function ZS(e,t,{auto:n=!0}={}){const r=i=>{let o=Object.keys(i);const s=(e=>!!e.$path)(i);if(!s&&o.length>1&&!uy(i))return r(XS(i));if((e=>!to(e)&&US(e)&&!uy(e))(i)){const l=s?i.$path:o[0],c=s?i.$val:i[l];if(!xi(c))throw new Error((e=>`Invalid value for key ${e}`)(l));const u={keyId:iy(l),pattern:c};return n&&(u.searcher=ly(c,t)),u}let a={children:[],operator:o[0]};return o.forEach(l=>{const c=i[l];to(c)&&c.forEach(u=>{a.children.push(r(u))})}),a};return uy(e)||(e=XS(e)),r(e)}function $3(e,t){const n=e.matches;t.matches=[],Dr(n)&&n.forEach(r=>{if(!Dr(r.indices)||!r.indices.length)return;const{indices:i,value:o}=r;let s={indices:i,value:o};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),t.matches.push(s)})}function H3(e,t){t.score=e.score}let dy=(()=>{class e{constructor(n,r={},i){this.options={...ke,...r},this._keyStore=new _3(this.options.keys),this.setCollection(n,i)}setCollection(n,r){if(this._docs=n,r&&!(r instanceof oy))throw new Error("Incorrect 'index' type");this._myIndex=r||KS(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(n){Dr(n)&&(this._docs.push(n),this._myIndex.add(n))}remove(n=(()=>!1)){const r=[];for(let i=0,o=this._docs.length;i<o;i+=1){const s=this._docs[i];n(s,i)&&(this.removeAt(i),i-=1,o-=1,r.push(s))}return r}removeAt(n){this._docs.splice(n,1),this._myIndex.removeAt(n)}getIndex(){return this._myIndex}search(n,{limit:r=-1}={}){const{includeMatches:i,includeScore:o,shouldSort:s,sortFn:a,ignoreFieldNorm:l}=this.options;let c=xi(n)?xi(this._docs[0])?this._searchStringList(n):this._searchObjectList(n):this._searchLogical(n);return function U3(e,{ignoreFieldNorm:t=ke.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:o,score:s})=>{const a=i?i.weight:null;r*=Math.pow(0===s&&a?Number.EPSILON:s,(a||1)*(t?1:o))}),n.score=r})}(c,{ignoreFieldNorm:l}),s&&c.sort(a),BS(r)&&r>-1&&(c=c.slice(0,r)),function G3(e,t,{includeMatches:n=ke.includeMatches,includeScore:r=ke.includeScore}={}){const i=[];return n&&i.push($3),r&&i.push(H3),e.map(o=>{const{idx:s}=o,a={item:t[s],refIndex:s};return i.length&&i.forEach(l=>{l(o,a)}),a})}(c,this._docs,{includeMatches:i,includeScore:o})}_searchStringList(n){const r=ly(n,this.options),{records:i}=this._myIndex,o=[];return i.forEach(({v:s,i:a,n:l})=>{if(!Dr(s))return;const{isMatch:c,score:u,indices:d}=r.searchIn(s);c&&o.push({item:s,idx:a,matches:[{score:u,value:s,norm:l,indices:d}]})}),o}_searchLogical(n){const r=ZS(n,this.options),i=(l,c,u)=>{if(!l.children){const{keyId:f,searcher:h}=l,g=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:h});return g&&g.length?[{idx:u,item:c,matches:g}]:[]}const d=[];for(let f=0,h=l.children.length;f<h;f+=1){const m=i(l.children[f],c,u);if(m.length)d.push(...m);else if("$and"===l.operator)return[]}return d},s={},a=[];return this._myIndex.records.forEach(({$:l,i:c})=>{if(Dr(l)){let u=i(r,l,c);u.length&&(s[c]||(s[c]={idx:c,item:l,matches:[]},a.push(s[c])),u.forEach(({matches:d})=>{s[c].matches.push(...d)}))}}),a}_searchObjectList(n){const r=ly(n,this.options),{keys:i,records:o}=this._myIndex,s=[];return o.forEach(({$:a,i:l})=>{if(!Dr(a))return;let c=[];i.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:a[d],searcher:r}))}),c.length&&s.push({idx:l,item:a,matches:c})}),s}_findMatches({key:n,value:r,searcher:i}){if(!Dr(r))return[];let o=[];if(to(r))r.forEach(({v:s,i:a,n:l})=>{if(!Dr(s))return;const{isMatch:c,score:u,indices:d}=i.searchIn(s);c&&o.push({score:u,key:n,value:s,idx:a,norm:l,indices:d})});else{const{v:s,n:a}=r,{isMatch:l,score:c,indices:u}=i.searchIn(s);l&&o.push({score:c,key:n,value:s,norm:a,indices:u})}return o}}return e.version="6.6.2",e.createIndex=KS,e.parseIndex=C3,e.config=ke,e})();dy.parseQuery=ZS,function V3(...e){ay.push(...e)}(class L3{constructor(t,{isCaseSensitive:n=ke.isCaseSensitive,includeMatches:r=ke.includeMatches,minMatchCharLength:i=ke.minMatchCharLength,ignoreLocation:o=ke.ignoreLocation,findAllMatches:s=ke.findAllMatches,location:a=ke.location,threshold:l=ke.threshold,distance:c=ke.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:a,threshold:l,distance:c},this.pattern=n?t:t.toLowerCase(),this.query=function N3(e,t={}){return e.split("|").map(n=>{let r=n.trim().split(k3).filter(o=>o&&!!o.trim()),i=[];for(let o=0,s=r.length;o<s;o+=1){const a=r[o];let l=!1,c=-1;for(;!l&&++c<QS;){const u=sy[c];let d=u.isMultiMatch(a);d&&(i.push(new u(d,t)),l=!0)}if(!l)for(c=-1;++c<QS;){const u=sy[c];let d=u.isSingleMatch(a);if(d){i.push(new u(d,t));break}}}return i})}(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;t=i?t:t.toLowerCase();let o=0,s=[],a=0;for(let l=0,c=n.length;l<c;l+=1){const u=n[l];s.length=0,o=0;for(let d=0,f=u.length;d<f;d+=1){const h=u[d],{isMatch:g,indices:m,score:D}=h.search(t);if(!g){a=0,o=0,s.length=0;break}o+=1,a+=D,r&&(F3.has(h.constructor.type)?s=[...s,...m]:s.push(m))}if(o){let d={isMatch:!0,score:a/o};return r&&(d.indices=s),d}}return{isMatch:!1,score:1}}});const Pt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dn=Object.keys,Rn=Array.isArray;function Jn(e,t){return"object"!=typeof t||dn(t).forEach(function(n){e[n]=t[n]}),e}typeof Promise>"u"||Pt.Promise||(Pt.Promise=Promise);const Rc=Object.getPrototypeOf,z3={}.hasOwnProperty;function Cr(e,t){return z3.call(e,t)}function Ha(e,t){"function"==typeof t&&(t=t(Rc(e))),(typeof Reflect>"u"?dn:Reflect.ownKeys)(t).forEach(n=>{no(e,n,t[n])})}const eI=Object.defineProperty;function no(e,t,n,r){eI(e,t,Jn(n&&Cr(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ga(e){return{from:function(t){return e.prototype=Object.create(t.prototype),no(e.prototype,"constructor",e),{extend:Ha.bind(null,e.prototype)}}}}const K3=Object.getOwnPropertyDescriptor;function fy(e,t){let n;return K3(e,t)||(n=Rc(e))&&fy(n,t)}const W3=[].slice;function Ef(e,t,n){return W3.call(e,t,n)}function tI(e,t){return t(e)}function Nc(e){if(!e)throw new Error("Assertion Failed")}function nI(e){Pt.setImmediate?setImmediate(e):setTimeout(e,0)}function rI(e,t){return e.reduce((n,r,i)=>{var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function ro(e,t){if(Cr(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=ro(e,t[r]);n.push(o)}return n}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return void 0===a?void 0:ro(a,t.substr(s+1))}}function si(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){Nc("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)si(e,t[r],n[r])}else{var o=t.indexOf(".");if(-1!==o){var s=t.substr(0,o),a=t.substr(o+1);if(""===a)void 0===n?Rn(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var l=e[s];l&&Cr(e,s)||(l=e[s]={}),si(l,a,n)}}else void 0===n?Rn(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function iI(e){var t={};for(var n in e)Cr(e,n)&&(t[n]=e[n]);return t}const q3=[].concat;function oI(e){return q3.apply([],e)}const sI="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(oI([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>Pt[e]),Y3=sI.map(e=>Pt[e]);rI(sI,e=>[e,!0]);let Bo=null;function Fc(e){Bo=typeof WeakMap<"u"&&new WeakMap;const t=hy(e);return Bo=null,t}function hy(e){if(!e||"object"!=typeof e)return e;let t=Bo&&Bo.get(e);if(t)return t;if(Rn(e)){t=[],Bo&&Bo.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(hy(e[n]))}else if(Y3.indexOf(e.constructor)>=0)t=e;else{const o=Rc(e);for(var i in t=o===Object.prototype?{}:Object.create(o),Bo&&Bo.set(e,t),e)Cr(e,i)&&(t[i]=hy(e[i]))}return t}const{toString:J3}={};function py(e){return J3.call(e).slice(8,-1)}const gy=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Q3="symbol"==typeof gy?function(e){var t;return null!=e&&(t=e[gy])&&t.apply(e)}:function(){return null},za={};function io(e){var t,n,r,i;if(1===arguments.length){if(Rn(e))return e.slice();if(this===za&&"string"==typeof e)return[e];if(i=Q3(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const my=typeof Symbol<"u"?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var Pi=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function aI(e,t){Pi=e,lI=t}var lI=()=>!0;const X3=!new Error("").stack;function Ts(){if(X3)try{throw new Error}catch(e){return e}return new Error}function yy(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(lI).map(r=>"\n"+r).join("")):""}var cI=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],vy=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(cI),Z3={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ka(e,t){this._e=Ts(),this.name=e,this.message=t}function uI(e,t){return e+". Errors: "+Object.keys(t).map(n=>t[n].toString()).filter((n,r,i)=>i.indexOf(n)===r).join("\n")}function Sf(e,t,n,r){this._e=Ts(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=uI(e,t)}function Lc(e,t){this._e=Ts(),this.name="BulkError",this.failures=Object.keys(t).map(n=>t[n]),this.failuresByPos=t,this.message=uI(e,t)}Ga(Ka).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+yy(this._e,2))}},toString:function(){return this.name+": "+this.message}}),Ga(Sf).from(Ka),Ga(Lc).from(Ka);var _y=vy.reduce((e,t)=>(e[t]=t+"Error",e),{});const eU=Ka;var Te=vy.reduce((e,t)=>{var n=t+"Error";function r(i,o){this._e=Ts(),this.name=n,i?"string"==typeof i?(this.message=`${i}${o?"\n "+o:""}`,this.inner=o||null):"object"==typeof i&&(this.message=`${i.name} ${i.message}`,this.inner=i):(this.message=Z3[t]||n,this.inner=null)}return Ga(r).from(eU),e[t]=r,e},{});Te.Syntax=SyntaxError,Te.Type=TypeError,Te.Range=RangeError;var dI=cI.reduce((e,t)=>(e[t+"Error"]=Te[t],e),{}),If=vy.reduce((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Te[t]),e),{});function Dt(){}function Vc(e){return e}function tU(e,t){return null==e||e===Vc?t:function(n){return t(e(n))}}function xs(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function nU(e,t){return e===Dt?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?xs(r,this.onsuccess):r),i&&(this.onerror=this.onerror?xs(i,this.onerror):i),void 0!==o?o:n}}function rU(e,t){return e===Dt?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?xs(n,this.onsuccess):n),r&&(this.onerror=this.onerror?xs(r,this.onerror):r)}}function iU(e,t){return e===Dt?t:function(n){var r=e.apply(this,arguments);Jn(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?xs(i,this.onsuccess):i),o&&(this.onerror=this.onerror?xs(o,this.onerror):o),void 0===r?void 0===s?void 0:s:Jn(r,s)}}function oU(e,t){return e===Dt?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function by(e,t){return e===Dt?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}If.ModifyError=Sf,If.DexieError=Ka,If.BulkError=Lc;var jc={};const[wy,Af,Dy]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,Rc(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Rc(t),e]})(),fI=Af&&Af.then,Mf=wy&&wy.constructor,Cy=!!Dy;var Ey=!1,sU=Dy?()=>{Dy.then(Of)}:Pt.setImmediate?setImmediate.bind(null,Of):Pt.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Of(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Of,0)},Bc=function(e,t){Uc.push([e,t]),Tf&&(sU(),Tf=!1)},Sy=!0,Tf=!0,Ps=[],xf=[],Iy=null,Ay=Vc,Wa={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:wI,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{wI(e[0],e[1])}catch{}})}},me=Wa,Uc=[],Os=0,Pf=[];function se(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Dt,this._lib=!1;var t=this._PSD=me;if(Pi&&(this._stackHolder=Ts(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==jc)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ty(this,this._value))}this._state=null,this._value=null,++t.ref,pI(this,e)}const My={get:function(){var e=me,t=Nf;function n(r,i){var o=!e.global&&(e!==me||t!==Nf);const s=o&&!oo();var a=new se((l,c)=>{xy(this,new hI(Lf(r,e,o,s),Lf(i,e,o,s),l,c,e))});return Pi&&yI(a,this),a}return n.prototype=jc,n},set:function(e){no(this,"then",e&&e.prototype===jc?My:{get:function(){return e},set:My.set})}};function hI(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function pI(e,t){try{t(n=>{if(null===e._state){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&$c();n&&"function"==typeof n.then?pI(e,(i,o)=>{n instanceof se?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,gI(e)),r&&Hc()}},Ty.bind(null,e))}catch(n){Ty(e,n)}}function Ty(e,t){if(xf.push(t),null===e._state){var n=e._lib&&$c();t=Ay(t),e._state=!1,e._value=t,Pi&&null!==t&&"object"==typeof t&&!t._promise&&function(r,i,o){try{(()=>{var r=fy(t,"stack");t._promise=e,no(t,"stack",{get:()=>Ey?r&&(r.get?r.get.apply(t):r.value):e.stack})}).apply(null,void 0)}catch(s){}}(),r=e,Ps.some(i=>i._value===r._value)||Ps.push(r),gI(e),n&&Hc()}var r}function gI(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)xy(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===Os&&(++Os,Bc(()=>{0==--Os&&Py()},[]))}function xy(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Os,Bc(aU,[n,e,t])}else e._listeners.push(t)}function aU(e,t,n){try{Iy=t;var r,i=t._value;t._state?r=e(i):(xf.length&&(xf=[]),r=e(i),-1===xf.indexOf(i)&&function(o){for(var s=Ps.length;s;)if(Ps[--s]._value===o._value)return void Ps.splice(s,1)}(t)),n.resolve(r)}catch(o){n.reject(o)}finally{Iy=null,0==--Os&&Py(),--n.psd.ref||n.psd.finalize()}}function mI(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var i,o,s=e._value;null!=s?(i=s.name||"Error",o=s.message||s,r=yy(s,0)):(i=s,o=""),t.push(i+(o?": "+o:"")+r)}return Pi&&((r=yy(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&mI(e._prev,t,n)),t}function yI(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function Of(){$c()&&Hc()}function $c(){var e=Sy;return Sy=!1,Tf=!1,e}function Hc(){var e,t,n;do{for(;Uc.length>0;)for(e=Uc,Uc=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Uc.length>0);Sy=!0,Tf=!0}function Py(){var e=Ps;Ps=[],e.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var t=Pf.slice(0),n=t.length;n;)t[--n]()}function kf(e){return new se(jc,!1,e)}function Lt(e,t){var n=me;return function(){var r=$c(),i=me;try{return $o(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{$o(i,!1),r&&Hc()}}}Ha(se.prototype,{then:My,_then:function(e,t){xy(this,new hI(null,null,e,t,me))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return this.then(null,"function"==typeof t?r=>r instanceof t?n(r):kf(r):r=>r&&r.name===t?n(r):kf(r))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),kf(t)))},stack:{get:function(){if(this._stack)return this._stack;try{Ey=!0;var e=mI(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{Ey=!1}}},timeout:function(e,t){return e<1/0?new se((n,r)=>{var i=setTimeout(()=>r(new Te.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,i))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&no(se.prototype,Symbol.toStringTag,"Dexie.Promise"),Wa.env=vI(),Ha(se,{all:function(){var e=io.apply(null,arguments).map(Ff);return new se(function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((i,o)=>se.resolve(i).then(s=>{e[o]=s,--r||t(e)},n))})},resolve:e=>{if(e instanceof se)return e;if(e&&"function"==typeof e.then)return new se((n,r)=>{e.then(n,r)});var t=new se(jc,!0,e);return yI(t,Iy),t},reject:kf,race:function(){var e=io.apply(null,arguments).map(Ff);return new se((t,n)=>{e.map(r=>se.resolve(r).then(t,n))})},PSD:{get:()=>me,set:e=>me=e},totalEchoes:{get:()=>Nf},newPSD:Uo,usePSD:Ya,scheduler:{get:()=>Bc,set:e=>{Bc=e}},rejectionMapper:{get:()=>Ay,set:e=>{Ay=e}},follow:(e,t)=>new se((n,r)=>Uo((i,o)=>{var s=me;s.unhandleds=[],s.onunhandled=o,s.finalize=xs(function(){var a;a=()=>{0===this.unhandleds.length?i():o(this.unhandleds[0])},Pf.push(function l(){a(),Pf.splice(Pf.indexOf(l),1)}),++Os,Bc(()=>{0==--Os&&Py()},[])},s.finalize),e()},t,n,r))}),Mf&&(Mf.allSettled&&no(se,"allSettled",function(){const e=io.apply(null,arguments).map(Ff);return new se(t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach((i,o)=>se.resolve(i).then(s=>r[o]={status:"fulfilled",value:s},s=>r[o]={status:"rejected",reason:s}).then(()=>--n||t(r)))})}),Mf.any&&typeof AggregateError<"u"&&no(se,"any",function(){const e=io.apply(null,arguments).map(Ff);return new se((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const i=new Array(r);e.forEach((o,s)=>se.resolve(o).then(a=>t(a),a=>{i[s]=a,--r||n(new AggregateError(i))}))})}));const Nn={awaits:0,echoes:0,id:0};var lU=0,Rf=[],Oy=0,Nf=0,cU=0;function Uo(e,t,n,r){var i=me,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++cU;var s=Wa.env;o.env=Cy?{Promise:se,PromiseProp:{value:se,configurable:!0,writable:!0},all:se.all,race:se.race,allSettled:se.allSettled,any:se.any,resolve:se.resolve,reject:se.reject,nthen:bI(s.nthen,o),gthen:bI(s.gthen,o)}:{},t&&Jn(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Ya(o,e,n,r);return 0===o.ref&&o.finalize(),a}function qa(){return Nn.id||(Nn.id=++lU),++Nn.awaits,Nn.echoes+=100,Nn.id}function oo(){return!!Nn.awaits&&(0==--Nn.awaits&&(Nn.id=0),Nn.echoes=100*Nn.awaits,!0)}function Ff(e){return Nn.echoes&&e&&e.constructor===Mf?(qa(),e.then(t=>(oo(),t),t=>(oo(),vn(t)))):e}function uU(e){++Nf,Nn.echoes&&0!=--Nn.echoes||(Nn.echoes=Nn.id=0),Rf.push(me),$o(e,!0)}function dU(){var e=Rf[Rf.length-1];Rf.pop(),$o(e,!1)}function $o(e,t){var n=me;if((t?!Nn.echoes||Oy++&&e===me:!Oy||--Oy&&e===me)||_I(t?uU.bind(null,e):dU),e!==me&&(me=e,n===Wa&&(Wa.env=vI()),Cy)){var r=Wa.env.Promise,i=e.env;Af.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(Pt,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function vI(){var e=Pt.Promise;return Cy?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Pt,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Af.then,gthen:e.prototype.then}:{}}function Ya(e,t,n,r,i){var o=me;try{return $o(e,!0),t(n,r,i)}finally{$o(o,!1)}}function _I(e){fI.call(wy,e)}function Lf(e,t,n,r){return"function"!=typeof e?e:function(){var i=me;n&&qa(),$o(t,!0);try{return e.apply(this,arguments)}finally{$o(i,!1),r&&_I(oo)}}}function bI(e,t){return function(n,r){return e.call(this,Lf(n,t),Lf(r,t))}}function wI(e,t){var n;try{n=t.onuncatched(e)}catch{}if(!1!==n)try{var r,i={promise:t,reason:e};if(Pt.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),Jn(r,i)):Pt.CustomEvent&&Jn(r=new CustomEvent("unhandledrejection",{detail:i}),i),r&&Pt.dispatchEvent&&(dispatchEvent(r),!Pt.PromiseRejectionEvent&&Pt.onunhandledrejection))try{Pt.onunhandledrejection(r)}catch{}Pi&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}-1===(""+fI).indexOf("[native code]")&&(qa=oo=Dt);var vn=se.reject;function ky(e,t,n,r){if(e.idbdb&&(e._state.openComplete||me.letThrough||e._vip)){var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===_y.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>ky(e,t,n,r))):vn(o)}return i._promise(t,(o,s)=>Uo(()=>(me.trans=i,r(o,s,i)))).then(o=>i._completion.then(()=>o))}if(e._state.openComplete)return vn(new Te.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return vn(new Te.DatabaseClosed);e.open().catch(Dt)}return e._state.dbReadyPromise.then(()=>ky(e,t,n,r))}const ks=String.fromCharCode(65535),so="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Gc=[],Vf=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),fU=Vf,hU=Vf,DI=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function Rs(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const CI={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function jf(e){return"string"!=typeof e||/\./.test(e)?t=>t:t=>(void 0===t[e]&&e in t&&delete(t=Fc(t))[e],t)}class pU{_trans(t,n,r){const i=this._tx||me.trans,o=this.name;function s(l,c,u){if(!u.schema[o])throw new Te.NotFound("Table "+o+" not part of transaction");return n(u.idbtrans,u)}const a=$c();try{return i&&i.db===this.db?i===me.trans?i._promise(t,s,r):Uo(()=>i._promise(t,s,r),{trans:i,transless:me.transless||me}):ky(this.db,t,[this.name],s)}finally{a&&Hc()}}get(t,n){return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:t}).then(i=>this.hook.reading.fire(i))).then(n)}where(t){if("string"==typeof t)return new this.db.WhereClause(this,t);if(Rn(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);const n=dn(t);if(1===n.length)return this.where(n[0]).equals(t[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(c=>c.compound&&n.every(u=>c.keyPath.indexOf(u)>=0)&&c.keyPath.every(u=>n.indexOf(u)>=0))[0];if(r&&this.db._maxKey!==ks)return this.where(r.name).equals(r.keyPath.map(c=>t[c]));!r&&Pi&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function s(c,u){try{return 0===o.cmp(c,u)}catch{return!1}}const[a,l]=n.reduce(([c,u],d)=>{const f=i[d],h=t[d];return[c||f,c||!f?Rs(u,f&&f.multi?g=>{const m=ro(g,d);return Rn(m)&&m.some(D=>s(h,D))}:g=>s(h,ro(g,d))):u]},[null,null]);return a?this.where(a.name).equals(t[a.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,Rn(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;const n=r=>{if(!r)return r;const i=Object.create(t.prototype);for(var o in r)if(Cr(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t}defineClass(){return this.mapToClass(function(t){Jn(this,t)})}add(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=jf(i)(t)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"add",keys:null!=n?[n]:null,values:[o]})).then(s=>s.numFailures?se.reject(s.failures[0]):s.lastResult).then(s=>{if(i)try{si(t,i,s)}catch{}return s})}update(t,n){if("object"!=typeof t||Rn(t))return this.where(":id").equals(t).modify(n);{const r=ro(t,this.schema.primKey.keyPath);if(void 0===r)return vn(new Te.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof n?dn(n).forEach(i=>{si(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(t,n){const{auto:r,keyPath:i}=this.schema.primKey;let o=t;return i&&r&&(o=jf(i)(t)),this._trans("readwrite",s=>this.core.mutate({trans:s,type:"put",values:[o],keys:null!=n?[n]:null})).then(s=>s.numFailures?se.reject(s.failures[0]):s.lastResult).then(s=>{if(i)try{si(t,i,s)}catch{}return s})}delete(t){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[t]})).then(n=>n.numFailures?se.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:CI})).then(t=>t.numFailures?se.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",n=>this.core.getMany({keys:t,trans:n}).then(r=>r.map(i=>this.hook.reading.fire(i))))}bulkAdd(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new Te.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Te.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let u=l&&a?t.map(jf(l)):t;return this.core.mutate({trans:s,type:"add",keys:i,values:u,wantResults:o}).then(({numFailures:d,results:f,lastResult:h,failures:g})=>{if(0===d)return o?f:h;throw new Lc(`${this.name}.bulkAdd(): ${d} of ${c} operations failed`,g)})})}bulkPut(t,n,r){const i=Array.isArray(n)?n:void 0,o=(r=r||(i?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",s=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&i)throw new Te.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==t.length)throw new Te.InvalidArgument("Arguments objects and keys must have the same length");const c=t.length;let u=l&&a?t.map(jf(l)):t;return this.core.mutate({trans:s,type:"put",keys:i,values:u,wantResults:o}).then(({numFailures:d,results:f,lastResult:h,failures:g})=>{if(0===d)return o?f:h;throw new Lc(`${this.name}.bulkPut(): ${d} of ${c} operations failed`,g)})})}bulkDelete(t){const n=t.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:t})).then(({numFailures:r,lastResult:i,failures:o})=>{if(0===r)return i;throw new Lc(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,o)})}}function zc(e){var t={},n=function(a,l){if(l){for(var c=arguments.length,u=new Array(c-1);--c;)u[c-1]=arguments[c];return t[a].subscribe.apply(null,u),e}if("string"==typeof a)return t[a]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(a,l,c){if("object"==typeof a)return s(a);l||(l=oU),c||(c=Dt);var u={subscribers:[],fire:c,subscribe:function(d){-1===u.subscribers.indexOf(d)&&(u.subscribers.push(d),u.fire=l(u.fire,d))},unsubscribe:function(d){u.subscribers=u.subscribers.filter(function(f){return f!==d}),u.fire=u.subscribers.reduce(l,c)}};return t[a]=n[a]=u,u}function s(a){dn(a).forEach(function(l){var c=a[l];if(Rn(c))o(l,a[l][0],a[l][1]);else{if("asap"!==c)throw new Te.InvalidArgument("Invalid event config");var u=o(l,Vc,function(){for(var d=arguments.length,f=new Array(d);d--;)f[d]=arguments[d];u.subscribers.forEach(function(h){nI(function(){h.apply(null,f)})})})}})}}function Kc(e,t){return Ga(t).from({prototype:e}),t}function Ja(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ry(e,t){e.filter=Rs(e.filter,t)}function Ny(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Rs(r(),t()):t,e.justLimit=n&&!r}function Bf(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Te.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function EI(e,t,n){const r=Bf(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Uf(e,t,n,r){const i=e.replayFilter?Rs(e.filter,e.replayFilter()):e.filter;if(e.or){const o={},s=(a,l,c)=>{if(!i||i(l,c,f=>l.stop(f),f=>l.fail(f))){var u=l.primaryKey,d=""+u;"[object ArrayBuffer]"===d&&(d=""+new Uint8Array(u)),Cr(o,d)||(o[d]=!0,t(a,l,c))}};return Promise.all([e.or._iterate(s,n),SI(EI(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return SI(EI(e,r,n),Rs(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function SI(e,t,n,r){var i=Lt(r?(o,s,a)=>n(r(o),s,a):n);return e.then(o=>{if(o)return o.start(()=>{var s=()=>o.continue();t&&!t(o,a=>s=a,a=>{o.stop(a),s=Dt},a=>{o.fail(a),s=Dt})||i(o.value,o,a=>s=a),s()})})}function Qn(e,t){try{const n=II(e),r=II(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(i,o){const s=i.length,a=o.length,l=s<a?s:a;for(let c=0;c<l;++c)if(i[c]!==o[c])return i[c]<o[c]?-1:1;return s===a?0:s<a?-1:1}(AI(e),AI(t));case"Array":return function(i,o){const s=i.length,a=o.length,l=s<a?s:a;for(let c=0;c<l;++c){const u=Qn(i[c],o[c]);if(0!==u)return u}return s===a?0:s<a?-1:1}(e,t)}}catch{}return NaN}function II(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=py(e);return"ArrayBuffer"===n?"binary":n}function AI(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class gU{_read(t,n){var r=this._ctx;return r.error?r.table._trans(null,vn.bind(null,r.error)):r.table._trans("readonly",t).then(n)}_write(t){var n=this._ctx;return n.error?n.table._trans(null,vn.bind(null,n.error)):n.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var n=this._ctx;n.algorithm=Rs(n.algorithm,t)}_iterate(t,n){return Uf(this._ctx,t,n,this._ctx.table.core)}clone(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&Jn(r,t),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(t){var n=this._ctx;return this._read(r=>Uf(n,t,r,n.table.core))}count(t){return this._read(n=>{const r=this._ctx,i=r.table.core;if(Ja(r,!0))return i.count({trans:n,query:{index:Bf(r,i.schema),range:r.range}}).then(s=>Math.min(s,r.limit));var o=0;return Uf(r,()=>(++o,!1),n,i).then(()=>o)}).then(t)}sortBy(t,n){const r=t.split(".").reverse(),i=r[0],o=r.length-1;function s(c,u){return u?s(c[r[u]],u-1):c[i]}var a="next"===this._ctx.dir?1:-1;function l(c,u){var d=s(c,o),f=s(u,o);return d<f?-a:d>f?a:0}return this.toArray(function(c){return c.sort(l)}).then(n)}toArray(t){return this._read(n=>{var r=this._ctx;if("next"===r.dir&&Ja(r,!0)&&r.limit>0){const{valueMapper:i}=r,o=Bf(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:o,range:r.range}}).then(({result:s})=>i?s.map(i):s)}{const i=[];return Uf(r,o=>i.push(o),n,r.table.core).then(()=>i)}},t)}offset(t){var n=this._ctx;return t<=0||(n.offset+=t,Ja(n)?Ny(n,()=>{var r=t;return(i,o)=>0===r||(1===r?(--r,!1):(o(()=>{i.advance(r),r=0}),!1))}):Ny(n,()=>{var r=t;return()=>--r<0})),this}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Ny(this._ctx,()=>{var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this}until(t,n){return Ry(this._ctx,function(r,i,o){return!t(r.value)||(i(o),n)}),this}first(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){var n;return Ry(this._ctx,function(i){return t(i.value)}),(n=this._ctx).isMatch=Rs(n.isMatch,t),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})}keys(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)}primaryKeys(t){var n=this._ctx;if("next"===n.dir&&Ja(n,!0)&&n.limit>0)return this._read(i=>{var o=Bf(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:i})=>i).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(n){return n[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Ry(this._ctx,function(i){var o=i.primaryKey.toString(),s=Cr(r,o);return r[o]=!0,!s}),this}modify(t){var n=this._ctx;return this._write(r=>{var i;if("function"==typeof t)i=t;else{var o=dn(t),s=o.length;i=function(m){for(var D=!1,w=0;w<s;++w){var C=o[w],b=t[C];ro(m,C)!==b&&(si(m,C,b),D=!0)}return D}}const a=n.table.core,{outbound:l,extractKey:c}=a.schema.primaryKey,u=this.db._options.modifyChunkSize||200,d=[];let f=0;const h=[],g=(m,D)=>{const{failures:w,numFailures:C}=D;f+=m-C;for(let b of dn(w))d.push(w[b])};return this.clone().primaryKeys().then(m=>{const D=w=>{const C=Math.min(u,m.length-w);return a.getMany({trans:r,keys:m.slice(w,w+C),cache:"immutable"}).then(b=>{const k=[],P=[],O=l?[]:null,j=[];for(let S=0;S<C;++S){const _=b[S],V={value:Fc(_),primKey:m[w+S]};!1!==i.call(V,V.value,V)&&(null==V.value?j.push(m[w+S]):l||0===Qn(c(_),c(V.value))?(P.push(V.value),l&&O.push(m[w+S])):(j.push(m[w+S]),k.push(V.value)))}const oe=Ja(n)&&n.limit===1/0&&("function"!=typeof t||t===Fy)&&{index:n.index,range:n.range};return Promise.resolve(k.length>0&&a.mutate({trans:r,type:"add",values:k}).then(S=>{for(let _ in S.failures)j.splice(parseInt(_),1);g(k.length,S)})).then(()=>(P.length>0||oe&&"object"==typeof t)&&a.mutate({trans:r,type:"put",keys:O,values:P,criteria:oe,changeSpec:"function"!=typeof t&&t}).then(S=>g(P.length,S))).then(()=>(j.length>0||oe&&t===Fy)&&a.mutate({trans:r,type:"delete",keys:j,criteria:oe}).then(S=>g(j.length,S))).then(()=>m.length>w+C&&D(w+u))})};return D(0).then(()=>{if(d.length>0)throw new Sf("Error modifying one or more objects",d,f,h);return m.length})})})}delete(){var t=this._ctx,n=t.range;return Ja(t)&&(t.isPrimKey&&!hU||3===n.type)?this._write(r=>{const{primaryKey:i}=t.table.core.schema,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(s=>t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(({failures:a,numFailures:u})=>{if(u)throw new Sf("Could not delete some values",Object.keys(a).map(d=>a[d]),s-u);return s-u}))}):this.modify(Fy)}}const Fy=(e,t)=>t.value=null;function mU(e,t){return e<t?-1:e===t?0:1}function yU(e,t){return e>t?-1:e===t?0:1}function Er(e,t,n){var r=e instanceof TI?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Qa(e){return new e.Collection(e,()=>MI("")).limit(0)}function vU(e,t,n,r,i,o){for(var s=Math.min(e.length,r.length),a=-1,l=0;l<s;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[l],c)<0&&(a=l)}return s<r.length&&"next"===o?e+n.substr(e.length):s<e.length&&"prev"===o?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function $f(e,t,n,r){var i,o,s,a,l,c,u,d=n.length;if(!n.every(m=>"string"==typeof m))return Er(e,"String expected.");function f(m){i="next"===m?C=>C.toUpperCase():C=>C.toLowerCase(),o="next"===m?C=>C.toLowerCase():C=>C.toUpperCase(),s="next"===m?mU:yU;var D=n.map(function(w){return{lower:o(w),upper:i(w)}}).sort(function(w,C){return s(w.lower,C.lower)});a=D.map(function(w){return w.upper}),l=D.map(function(w){return w.lower}),c=m,u="next"===m?"":r}f("next");var h=new e.Collection(e,()=>Ho(a[0],l[d-1]+r));h._ondirectionchange=function(m){f(m)};var g=0;return h._addAlgorithm(function(m,D,w){var C=m.key;if("string"!=typeof C)return!1;var b=o(C);if(t(b,l,g))return!0;for(var k=null,P=g;P<d;++P){var O=vU(C,b,a[P],l[P],s,c);null===O&&null===k?g=P+1:(null===k||s(k,O)>0)&&(k=O)}return D(null!==k?function(){m.continue(k+u)}:w),!1}),h}function Ho(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function MI(e){return{type:1,lower:e,upper:e}}class TI{get Collection(){return this._ctx.table.db.Collection}between(t,n,r,i){r=!1!==r,i=!0===i;try{return this._cmp(t,n)>0||0===this._cmp(t,n)&&(r||i)&&(!r||!i)?Qa(this):new this.Collection(this,()=>Ho(t,n,!r,!i))}catch{return Er(this,so)}}equals(t){return null==t?Er(this,so):new this.Collection(this,()=>MI(t))}above(t){return null==t?Er(this,so):new this.Collection(this,()=>Ho(t,void 0,!0))}aboveOrEqual(t){return null==t?Er(this,so):new this.Collection(this,()=>Ho(t,void 0,!1))}below(t){return null==t?Er(this,so):new this.Collection(this,()=>Ho(void 0,t,!1,!0))}belowOrEqual(t){return null==t?Er(this,so):new this.Collection(this,()=>Ho(void 0,t))}startsWith(t){return"string"!=typeof t?Er(this,"String expected."):this.between(t,t+ks,!0,!0)}startsWithIgnoreCase(t){return""===t?this.startsWith(t):$f(this,(n,r)=>0===n.indexOf(r[0]),[t],ks)}equalsIgnoreCase(t){return $f(this,(n,r)=>n===r[0],[t],"")}anyOfIgnoreCase(){var t=io.apply(za,arguments);return 0===t.length?Qa(this):$f(this,(n,r)=>-1!==r.indexOf(n),t,"")}startsWithAnyOfIgnoreCase(){var t=io.apply(za,arguments);return 0===t.length?Qa(this):$f(this,(n,r)=>r.some(i=>0===n.indexOf(i)),t,ks)}anyOf(){const t=io.apply(za,arguments);let n=this._cmp;try{t.sort(n)}catch{return Er(this,so)}if(0===t.length)return Qa(this);const r=new this.Collection(this,()=>Ho(t[0],t[t.length-1]));r._ondirectionchange=o=>{n="next"===o?this._ascending:this._descending,t.sort(n)};let i=0;return r._addAlgorithm((o,s,a)=>{const l=o.key;for(;n(l,t[i])>0;)if(++i,i===t.length)return s(a),!1;return 0===n(l,t[i])||(s(()=>{o.continue(t[i])}),!1)}),r}notEqual(t){return this.inAnyRange([[-1/0,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const t=io.apply(za,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Er(this,so)}const n=t.reduce((r,i)=>r?r.concat([[r[r.length-1][1],i]]):[[-1/0,i]],null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,n){const r=this._cmp,i=this._ascending,o=this._descending,s=this._min,a=this._max;if(0===t.length)return Qa(this);if(!t.every(C=>void 0!==C[0]&&void 0!==C[1]&&i(C[0],C[1])<=0))return Er(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Te.InvalidArgument);const l=!n||!1!==n.includeLowers,c=n&&!0===n.includeUppers;let u,d=i;function f(C,b){return d(C[0],b[0])}try{u=t.reduce(function(C,b){let k=0,P=C.length;for(;k<P;++k){const O=C[k];if(r(b[0],O[1])<0&&r(b[1],O[0])>0){O[0]=s(O[0],b[0]),O[1]=a(O[1],b[1]);break}}return k===P&&C.push(b),C},[]),u.sort(f)}catch{return Er(this,so)}let h=0;const g=c?C=>i(C,u[h][1])>0:C=>i(C,u[h][1])>=0,m=l?C=>o(C,u[h][0])>0:C=>o(C,u[h][0])>=0;let D=g;const w=new this.Collection(this,()=>Ho(u[0][0],u[u.length-1][1],!l,!c));return w._ondirectionchange=C=>{"next"===C?(D=g,d=i):(D=m,d=o),u.sort(f)},w._addAlgorithm((C,b,k)=>{for(var P=C.key;D(P);)if(++h,h===u.length)return b(k),!1;return!((g(O=P)||m(O))&&(0===this._cmp(P,u[h][1])||0===this._cmp(P,u[h][0])||b(()=>{C.continue(d===i?u[h][0]:u[h][1])}),1));var O}),w}startsWithAnyOf(){const t=io.apply(za,arguments);return t.every(n=>"string"==typeof n)?0===t.length?Qa(this):this.inAnyRange(t.map(n=>[n,n+ks])):Er(this,"startsWithAnyOf() only works with strings")}}function Oi(e){return Lt(function(t){return Wc(t),e(t.target.error),!1})}function Wc(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Go=zc(null,"storagemutated");class _U{_lock(){return Nc(!me.global),++this._reculock,1!==this._reculock||me.global||(me.lockOwnerFor=this),this}_unlock(){if(Nc(!me.global),0==--this._reculock)for(me.global||(me.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ya(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&me.lockOwnerFor!==this}create(t){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(Nc(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new Te.DatabaseClosed(r);case"MissingAPIError":throw new Te.MissingAPI(r.message,r);default:throw new Te.OpenFailed(r)}if(!this.active)throw new Te.TransactionInactive;return Nc(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Lt(i=>{Wc(i),this._reject(t.error)}),t.onabort=Lt(i=>{Wc(i),this.active&&this._reject(new Te.Abort(t.error)),this.active=!1,this.on("abort").fire(i)}),t.oncomplete=Lt(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&Go.storagemutated.fire(t.mutatedParts)}),this}_promise(t,n,r){if("readwrite"===t&&"readwrite"!==this.mode)return vn(new Te.ReadOnly("Transaction is readonly"));if(!this.active)return vn(new Te.TransactionInactive);if(this._locked())return new se((o,s)=>{this._blockedFuncs.push([()=>{this._promise(t,n,r).then(o,s)},me])});if(r)return Uo(()=>{var o=new se((s,a)=>{this._lock();const l=n(s,a,this);l&&l.then&&l.then(s,a)});return o.finally(()=>this._unlock()),o._lib=!0,o});var i=new se((o,s)=>{var a=n(o,s,this);a&&a.then&&a.then(o,s)});return i._lib=!0,i}_root(){return this.parent?this.parent._root():this}waitFor(t){var n=this._root();const r=se.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);!function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=s)}()}var o=n._waitingFor;return new se((s,a)=>{r.then(l=>n._waitingQueue.push(Lt(s.bind(null,l))),l=>n._waitingQueue.push(Lt(a.bind(null,l)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Te.Abort))}table(t){const n=this._memoizedTables||(this._memoizedTables={});if(Cr(n,t))return n[t];const r=this.schema[t];if(!r)throw new Te.NotFound("Table "+t+" not part of transaction");const i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i}}function Ly(e,t,n,r,i,o,s){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+xI(t)}}function xI(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function PI(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:rI(n,r=>[r.name,r])}}let qc=e=>{try{return e.only([[]]),qc=()=>[[]],[[]]}catch{return qc=()=>ks,ks}};function Vy(e){return null==e?()=>{}:"string"==typeof e?1===(t=e).split(".").length?n=>n[t]:n=>ro(n,t):t=>ro(t,e);var t}function OI(e){return[].slice.call(e)}let bU=0;function Yc(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function wU(e,t,n){function r(l){if(3===l.type)return null;if(4===l.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:c,upper:u,lowerOpen:d,upperOpen:f}=l;return void 0===c?void 0===u?null:t.upperBound(u,!!f):void 0===u?t.lowerBound(c,!!d):t.bound(c,u,!!d,!!f)}const{schema:i,hasGetAll:o}=function(l,c){const u=OI(l.objectStoreNames);return{schema:{name:l.name,tables:u.map(d=>c.objectStore(d)).map(d=>{const{keyPath:f,autoIncrement:h}=d,g=Rn(f),D={},w={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==f,compound:g,keyPath:f,autoIncrement:h,unique:!0,extractKey:Vy(f)},indexes:OI(d.indexNames).map(C=>d.index(C)).map(C=>{const{name:b,unique:k,multiEntry:P,keyPath:O}=C,j={name:b,compound:Rn(O),keyPath:O,unique:k,multiEntry:P,extractKey:Vy(O)};return D[Yc(O)]=j,j}),getIndexByKeyPath:C=>D[Yc(C)]};return D[":id"]=w.primaryKey,null!=f&&(D[Yc(f)]=w.primaryKey),w})},hasGetAll:u.length>0&&"getAll"in c.objectStore(u[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),s=i.tables.map(l=>function(c){const u=c.name;return{name:u,schema:c,mutate:function({trans:d,type:f,keys:h,values:g,range:m}){return new Promise((D,w)=>{D=Lt(D);const C=d.objectStore(u),b=null==C.keyPath,k="put"===f||"add"===f;if(!k&&"delete"!==f&&"deleteRange"!==f)throw new Error("Invalid operation type: "+f);const{length:P}=h||g||{length:1};if(h&&g&&h.length!==g.length)throw new Error("Given keys array must have same length as given values array.");if(0===P)return D({numFailures:0,failures:{},results:[],lastResult:void 0});let O;const j=[],oe=[];let S=0;const _=x=>{++S,Wc(x)};if("deleteRange"===f){if(4===m.type)return D({numFailures:S,failures:oe,results:[],lastResult:void 0});j.push(O=3===m.type?C.clear():C.delete(r(m)))}else{const[x,Ie]=k?b?[g,h]:[g,null]:[h,null];if(k)for(let Z=0;Z<P;++Z)j.push(O=Ie&&void 0!==Ie[Z]?C[f](x[Z],Ie[Z]):C[f](x[Z])),O.onerror=_;else for(let Z=0;Z<P;++Z)j.push(O=C[f](x[Z])),O.onerror=_}const V=x=>{const Ie=x.target.result;j.forEach((Z,$e)=>null!=Z.error&&(oe[$e]=Z.error)),D({numFailures:S,failures:oe,results:"delete"===f?h:j.map(Z=>Z.result),lastResult:Ie})};O.onerror=x=>{_(x),V(x)},O.onsuccess=V})},getMany:({trans:d,keys:f})=>new Promise((h,g)=>{h=Lt(h);const m=d.objectStore(u),D=f.length,w=new Array(D);let C,b=0,k=0;const P=j=>{const oe=j.target;w[oe._pos]=oe.result,++k===b&&h(w)},O=Oi(g);for(let j=0;j<D;++j)null!=f[j]&&(C=m.get(f[j]),C._pos=j,C.onsuccess=P,C.onerror=O,++b);0===b&&h(w)}),get:({trans:d,key:f})=>new Promise((h,g)=>{h=Lt(h);const m=d.objectStore(u).get(f);m.onsuccess=D=>h(D.target.result),m.onerror=Oi(g)}),query:(d=o,f=>new Promise((h,g)=>{h=Lt(h);const{trans:m,values:D,limit:w,query:C}=f,b=w===1/0?void 0:w,{index:k,range:P}=C,O=m.objectStore(u),j=k.isPrimaryKey?O:O.index(k.name),oe=r(P);if(0===w)return h({result:[]});if(d){const S=D?j.getAll(oe,b):j.getAllKeys(oe,b);S.onsuccess=_=>h({result:_.target.result}),S.onerror=Oi(g)}else{let S=0;const _=D||!("openKeyCursor"in j)?j.openCursor(oe):j.openKeyCursor(oe),V=[];_.onsuccess=x=>{const Ie=_.result;return Ie?(V.push(D?Ie.value:Ie.primaryKey),++S===w?h({result:V}):void Ie.continue()):h({result:V})},_.onerror=Oi(g)}})),openCursor:function({trans:d,values:f,query:h,reverse:g,unique:m}){return new Promise((D,w)=>{D=Lt(D);const{index:C,range:b}=h,k=d.objectStore(u),P=C.isPrimaryKey?k:k.index(C.name),O=g?m?"prevunique":"prev":m?"nextunique":"next",j=f||!("openKeyCursor"in P)?P.openCursor(r(b),O):P.openKeyCursor(r(b),O);j.onerror=Oi(w),j.onsuccess=Lt(oe=>{const S=j.result;if(!S)return void D(null);S.___id=++bU,S.done=!1;const _=S.continue.bind(S);let V=S.continuePrimaryKey;V&&(V=V.bind(S));const x=S.advance.bind(S),Ie=()=>{throw new Error("Cursor not stopped")};S.trans=d,S.stop=S.continue=S.continuePrimaryKey=S.advance=()=>{throw new Error("Cursor not started")},S.fail=Lt(w),S.next=function(){let Z=1;return this.start(()=>Z--?this.continue():this.stop()).then(()=>this)},S.start=Z=>{const $e=new Promise((Ze,qt)=>{Ze=Lt(Ze),j.onerror=Oi(qt),S.fail=qt,S.stop=Yt=>{S.stop=S.continue=S.continuePrimaryKey=S.advance=Ie,Ze(Yt)}}),tt=()=>{if(j.result)try{Z()}catch(Ze){S.fail(Ze)}else S.done=!0,S.start=()=>{throw new Error("Cursor behind last entry")},S.stop()};return j.onsuccess=Lt(Ze=>{j.onsuccess=tt,tt()}),S.continue=_,S.continuePrimaryKey=V,S.advance=x,tt(),$e},D(S)},w)})},count({query:d,trans:f}){const{index:h,range:g}=d;return new Promise((m,D)=>{const w=f.objectStore(u),C=h.isPrimaryKey?w:w.index(h.name),b=r(g),k=b?C.count(b):C.count();k.onsuccess=Lt(P=>m(P.target.result)),k.onerror=Oi(D)})}};var d}(l)),a={};return s.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:e.transaction.bind(e),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:qc(t),schema:i}}function jy({_novip:e},t){const r=function(i,o,{IDBKeyRange:s},l){return{dbcore:(u=wU(o,s,l),d=i.dbcore,d.reduce((f,{create:h})=>({...f,...h(f)}),u))};var u,d}(e._middlewares,t.db,e._deps,t);e.core=r.dbcore,e.tables.forEach(i=>{const o=i.name;e.core.schema.tables.some(s=>s.name===o)&&(i.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=i.core))})}function Hf({_novip:e},t,n,r){n.forEach(i=>{const o=r[i];t.forEach(s=>{const a=fy(s,i);(!a||"value"in a&&void 0===a.value)&&(s===e.Transaction.prototype||s instanceof e.Transaction?no(s,i,{get(){return this.table(i)},set(l){eI(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):s[i]=new e.Table(i,o))})})}function By({_novip:e},t){t.forEach(n=>{for(let r in n)n[r]instanceof e.Table&&delete n[r]})}function DU(e,t){return e._cfg.version-t._cfg.version}function kI(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const i=e[r],o=t[r];if(i){const s={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Vf)s.recreate=!0,n.change.push(s);else{const a=i.idxByName,l=o.idxByName;let c;for(c in a)l[c]||s.del.push(c);for(c in l){const u=a[c],d=l[c];u?u.src!==d.src&&s.change.push(d):s.add.push(d)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}else n.add.push([r,o])}return n}function Uy(e,t,n,r){const i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(o=>$y(i,o)),i}function $y(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Hy(e,t,n){const r={};return Ef(t.objectStoreNames,0).forEach(i=>{const o=n.objectStore(i);let s=o.keyPath;const a=Ly(xI(s),s||"",!1,!1,!!o.autoIncrement,s&&"string"!=typeof s,!0),l=[];for(let u=0;u<o.indexNames.length;++u){const d=o.index(o.indexNames[u]);s=d.keyPath;var c=Ly(d.name,s,!!d.unique,!!d.multiEntry,!1,s&&"string"!=typeof s,!1);l.push(c)}r[i]=PI(i,a,l)}),r}function Gy({_novip:e},t,n){const r=n.db.objectStoreNames;for(let i=0;i<r.length;++i){const o=r[i],s=n.objectStore(o);e._hasGetAll="getAll"in s;for(let a=0;a<s.indexNames.length;++a){const l=s.indexNames[a],c=s.index(l).keyPath,u="string"==typeof c?c:"["+Ef(c).join("+")+"]";if(t[o]){const d=t[o].idxByName[u];d&&(d.name=l,delete t[o].idxByName[u],t[o].idxByName[l]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Pt.WorkerGlobalScope&&Pt instanceof Pt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class EU{_parseStoresSpec(t,n){dn(t).forEach(r=>{if(null!==t[r]){var i=t[r].split(",").map((s,a)=>{const l=(s=s.trim()).replace(/([&*]|\+\+)/g,""),c=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Ly(l,c||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),Rn(c),0===a)}),o=i.shift();if(o.multi)throw new Te.Schema("Primary key cannot be multi-valued");i.forEach(s=>{if(s.auto)throw new Te.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new Te.Schema("Index must have a name and cannot be an empty string")}),n[r]=PI(r,o,i)}})}stores(t){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?Jn(this._cfg.storesSource,t):t;const i={};let o={};return n._versions.forEach(s=>{Jn(i,s._cfg.storesSource),o=s._cfg.dbschema={},s._parseStoresSpec(i,o)}),n._dbSchema=o,By(n,[n._allTables,n,n.Transaction.prototype]),Hf(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],dn(o),o),n._storeNames=dn(o),this}upgrade(t){return this._cfg.contentUpgrade=by(this._cfg.contentUpgrade||Dt,t),this}}function zy(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new $t("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Ky(e){return e&&"function"==typeof e.databases}function Wy(e){return Uo(function(){return me.letThrough=!0,e()})}function SU(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function qy(e){var t=o=>e.next(o),n=i(t),r=i(o=>e.throw(o));function i(o){return s=>{var a=o(s),l=a.value;return a.done?l:l&&"function"==typeof l.then?l.then(n,r):Rn(l)?Promise.all(l).then(n,r):n(l)}}return i(t)()}function AU(e,t,n){var r=arguments.length;if(r<2)throw new Te.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=oI(i);return[e,o,n]}function RI(e,t,n,r,i){return se.resolve().then(()=>{const o=me.transless||me,s=e._createTransaction(t,n,e._dbSchema,r),a={trans:s,transless:o};if(r)s.idbtrans=r.idbtrans;else try{s.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===_y.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>RI(e,t,n,null,i))):vn(d)}const l=my(i);let c;l&&qa();const u=se.follow(()=>{if(c=i.call(s,s),c)if(l){var d=oo.bind(null,null);c.then(d,d)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=qy(c))},a);return(c&&"function"==typeof c.then?se.resolve(c).then(d=>s.active?d:vn(new Te.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>c)).then(d=>(r&&s._resolve(),s._completion.then(()=>d))).catch(d=>(s._reject(d),vn(d)))})}function Gf(e,t,n){const r=Rn(e)?e.slice():[e];for(let i=0;i<n;++i)r.push(t);return r}const MU={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,i={},o=[];function s(u,d,f){const h=Yc(u),g=i[h]=i[h]||[],m=null==u?0:"string"==typeof u?1:u.length,D=d>0,w={...f,isVirtual:D,keyTail:d,keyLength:m,extractKey:Vy(u),unique:!D&&f.unique};return g.push(w),w.isPrimaryKey||o.push(w),m>1&&s(2===m?u[0]:u.slice(0,m-1),d+1,f),g.sort((C,b)=>C.keyTail-b.keyTail),w}const a=s(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(const u of r.indexes)s(u.keyPath,0,u);function l(u){const d=u.query.index;return d.isVirtual?{...u,query:{index:d,range:(f=u.query.range,h=d.keyTail,{type:1===f.type?2:f.type,lower:Gf(f.lower,f.lowerOpen?e.MAX_KEY:e.MIN_KEY,h),lowerOpen:!0,upper:Gf(f.upper,f.upperOpen?e.MIN_KEY:e.MAX_KEY,h),upperOpen:!0})}}:u;var f,h}return{...n,schema:{...r,primaryKey:a,indexes:o,getIndexByKeyPath:function(u){const d=i[Yc(u)];return d&&d[0]}},count:u=>n.count(l(u)),query:u=>n.query(l(u)),openCursor(u){const{keyTail:d,isVirtual:f,keyLength:h}=u.query.index;return f?n.openCursor(l(u)).then(g=>{return g&&(m=g,Object.create(m,{continue:{value:function(w){null!=w?m.continue(Gf(w,u.reverse?e.MAX_KEY:e.MIN_KEY,d)):u.unique?m.continue(m.key.slice(0,h).concat(u.reverse?e.MIN_KEY:e.MAX_KEY,d)):m.continue()}},continuePrimaryKey:{value(w,C){m.continuePrimaryKey(Gf(w,e.MAX_KEY,d),C)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const w=m.key;return 1===h?w[0]:w.slice(0,h)}},value:{get:()=>m.value}}));var m}):n.openCursor(u)}}}}}};function Yy(e,t,n,r){return n=n||{},r=r||"",dn(e).forEach(i=>{if(Cr(t,i)){var o=e[i],s=t[i];if("object"==typeof o&&"object"==typeof s&&o&&s){const a=py(o);a!==py(s)?n[r+i]=t[i]:"Object"===a?Yy(o,s,n,r+i+"."):o!==s&&(n[r+i]=t[i])}else o!==s&&(n[r+i]=t[i])}else n[r+i]=void 0}),dn(t).forEach(i=>{Cr(e,i)||(n[r+i]=t[i])}),n}const TU={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema;return{...n,mutate(o){const s=me.trans,{deleting:a,creating:l,updating:c}=s.table(t).hook;switch(o.type){case"add":if(l.fire===Dt)break;return s._promise("readwrite",()=>u(o),!0);case"put":if(l.fire===Dt&&c.fire===Dt)break;return s._promise("readwrite",()=>u(o),!0);case"delete":if(a.fire===Dt)break;return s._promise("readwrite",()=>u(o),!0);case"deleteRange":if(a.fire===Dt)break;return s._promise("readwrite",()=>{return d((f=o).trans,f.range,1e4);var f},!0)}return n.mutate(o);function u(f){const h=me.trans,g=f.keys||("delete"===(D=f).type?D.keys:D.keys||D.values.map(r.extractKey));var D;if(!g)throw new Error("Keys missing");return"delete"!==(f="add"===f.type||"put"===f.type?{...f,keys:g}:{...f}).type&&(f.values=[...f.values]),f.keys&&(f.keys=[...f.keys]),function(m,D,w){return"add"===D.type?Promise.resolve([]):m.getMany({trans:D.trans,keys:w,cache:"immutable"})}(n,f,g).then(m=>{const D=g.map((w,C)=>{const b=m[C],k={onerror:null,onsuccess:null};if("delete"===f.type)a.fire.call(k,w,b,h);else if("add"===f.type||void 0===b){const P=l.fire.call(k,w,f.values[C],h);null==w&&null!=P&&(f.keys[C]=w=P,r.outbound||si(f.values[C],r.keyPath,w))}else{const P=Yy(b,f.values[C]),O=c.fire.call(k,P,w,b,h);if(O){const j=f.values[C];Object.keys(O).forEach(oe=>{Cr(j,oe)?j[oe]=O[oe]:si(j,oe,O[oe])})}}return k});return n.mutate(f).then(({failures:w,results:C,numFailures:b,lastResult:k})=>{for(let P=0;P<g.length;++P){const O=C?C[P]:g[P],j=D[P];null==O?j.onerror&&j.onerror(w[P]):j.onsuccess&&j.onsuccess("put"===f.type&&m[P]?f.values[P]:O)}return{failures:w,results:C,numFailures:b,lastResult:k}}).catch(w=>(D.forEach(C=>C.onerror&&C.onerror(w)),Promise.reject(w)))})}function d(f,h,g){return n.query({trans:f,values:!1,query:{index:r,range:h},limit:g}).then(({result:m})=>u({type:"delete",keys:m,trans:f}).then(D=>D.numFailures>0?Promise.reject(D.failures[0]):m.length<g?{failures:[],numFailures:0,lastResult:void 0}:d(f,{...h,lower:m[m.length-1],lowerOpen:!0},g)))}}}}})};function NI(e,t,n){try{if(!t||t.keys.length<e.length)return null;const r=[];for(let i=0,o=0;i<t.keys.length&&o<e.length;++i)0===Qn(t.keys[i],e[o])&&(r.push(n?Fc(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}const xU={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const i=NI(r.keys,r.trans._cache,"clone"===r.cache);return i?se.resolve(i):n.getMany(r).then(o=>(r.trans._cache={keys:r.keys,values:"clone"===r.cache?Fc(o):o},o))},mutate:r=>("add"!==r.type&&(r.trans._cache=null),n.mutate(r))}}})};function Jy(e){return!("from"in e)}const ao=function(e,t){if(!this){const n=new ao;return e&&"d"in e&&Jn(n,e),n}Jn(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Jc(e,t,n){const r=Qn(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Jy(e))return Jn(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if(Qn(n,e.from)<0)return i?Jc(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},FI(e);if(Qn(t,e.to)>0)return o?Jc(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},FI(e);Qn(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Qn(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const s=!e.r;i&&!e.l&&zf(e,i),o&&s&&zf(e,o)}function zf(e,t){Jy(t)||function n(r,{from:i,to:o,l:s,r:a}){Jc(r,i,o),s&&n(r,s),a&&n(r,a)}(e,t)}function Qy(e){let t=Jy(e)?null:{s:0,n:e};return{next(n){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Qn(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Qn(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function FI(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){const o="r"===i?"l":"r",s={...e},a=e[i];e.from=a.from,e.to=a.to,e[i]=a[i],s[i]=a[o],e[o]=s,s.d=LI(s)}e.d=LI(e)}function LI({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Ha(ao.prototype,{add(e){return zf(this,e),this},addKey(e){return Jc(this,e,e),this},addKeys(e){return e.forEach(t=>Jc(this,t,t)),this},[gy](){return Qy(this)}});const OU={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new ao(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const i=e.table(r),{schema:o}=i,{primaryKey:s}=o,{extractKey:a,outbound:l}=s,c={...i,mutate:f=>{const h=f.trans,g=h.mutatedParts||(h.mutatedParts={}),m=O=>{const j=`idb://${t}/${r}/${O}`;return g[j]||(g[j]=new ao)},D=m(""),w=m(":dels"),{type:C}=f;let[b,k]="deleteRange"===f.type?[f.range]:"delete"===f.type?[f.keys]:f.values.length<50?[[],f.values]:[];const P=f.trans._cache;return i.mutate(f).then(O=>{if(Rn(b)){"delete"!==C&&(b=O.results),D.addKeys(b);const j=NI(b,P);j||"add"===C||w.addKeys(b),(j||k)&&(oe=m,_=j,V=k,o.indexes.forEach(function x(Ie){const Z=oe(Ie.name||"");function $e(Ze){return null!=Ze?Ie.extractKey(Ze):null}const tt=Ze=>Ie.multiEntry&&Rn(Ze)?Ze.forEach(qt=>Z.addKey(qt)):Z.addKey(Ze);(_||V).forEach((Ze,qt)=>{const Yt=_&&$e(_[qt]),lt=V&&$e(V[qt]);0!==Qn(Yt,lt)&&(null!=Yt&&tt(Yt),null!=lt&&tt(lt))})}))}else if(b){const j={from:b.lower,to:b.upper};w.add(j),D.add(j)}else D.add(n),w.add(n),o.indexes.forEach(j=>m(j.name).add(n));var oe,_,V;return O})}},u=({query:{index:f,range:h}})=>{var g,m;return[f,new ao(null!==(g=h.lower)&&void 0!==g?g:e.MIN_KEY,null!==(m=h.upper)&&void 0!==m?m:e.MAX_KEY)]},d={get:f=>[s,new ao(f.key)],getMany:f=>[s,(new ao).addKeys(f.keys)],count:u,query:u,openCursor:u};return dn(d).forEach(f=>{c[f]=function(h){const{subscr:g}=me;if(g){const m=k=>{const P=`idb://${t}/${r}/${k}`;return g[P]||(g[P]=new ao)},D=m(""),w=m(":dels"),[C,b]=d[f](h);if(m(C.name||"").add(b),!C.isPrimaryKey){if("count"!==f){const k="query"===f&&l&&h.values&&i.query({...h,values:!1});return i[f].apply(this,arguments).then(P=>{if("query"===f){if(l&&h.values)return k.then(({result:j})=>(D.addKeys(j),P));const O=h.values?P.result.map(a):P.result;h.values?D.addKeys(O):w.addKeys(O)}else if("openCursor"===f){const O=P,j=h.values;return O&&Object.create(O,{key:{get:()=>(w.addKey(O.primaryKey),O.key)},primaryKey:{get(){const oe=O.primaryKey;return w.addKey(oe),oe}},value:{get:()=>(j&&D.addKey(O.primaryKey),O.value)}})}return P})}w.add(n)}}return i[f].apply(this,arguments)}}),c}}}};class $t{constructor(t,n){this._middlewares={},this.verno=0;const r=$t.dependencies;this._options=n={addons:$t.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:i}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Dt,dbReadyPromise:null,cancelOpen:Dt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var s,a;o.dbReadyPromise=new se(a=>{o.dbReadyResolve=a}),o.openCanceller=new se((a,l)=>{o.cancelOpen=l}),this._state=o,this.name=t,this.on=zc(this,"populate","blocked","versionchange","close",{ready:[by,Dt]}),this.on.ready.subscribe=tI(this.on.ready.subscribe,a=>(l,c)=>{$t.vip(()=>{const u=this._state;if(u.openComplete)u.dbOpenError||se.resolve().then(l),c&&a(l);else if(u.onReadyBeingFired)u.onReadyBeingFired.push(l),c&&a(l);else{a(l);const d=this;c||a(function f(){d.on.ready.unsubscribe(l),d.on.ready.unsubscribe(f)})}})}),this.Collection=(s=this,Kc(gU.prototype,function(a,l){this.db=s;let c=CI,u=null;if(l)try{c=l()}catch(g){u=g}const d=a._ctx,f=d.table,h=f.hook.reading.fire;this._ctx={table:f,index:d.index,isPrimKey:!d.index||f.schema.primKey.keyPath&&d.index===f.schema.primKey.name,range:c,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:u,or:d.or,valueMapper:h!==Vc?h:null}})),this.Table=(a=this,Kc(pU.prototype,function(l,c,u){this.db=a,this._tx=u,this.name=l,this.schema=c,this.hook=a._allTables[l]?a._allTables[l].hook:zc(null,{creating:[nU,Dt],reading:[tU,Vc],updating:[iU,Dt],deleting:[rU,Dt]})})),this.Transaction=function(a){return Kc(_U.prototype,function(l,c,u,d,f){this.db=a,this.mode=l,this.storeNames=c,this.schema=u,this.chromeTransactionDurability=d,this.idbtrans=null,this.on=zc(this,"complete","error","abort"),this.parent=f||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new se((h,g)=>{this._resolve=h,this._reject=g}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},h=>{var g=this.active;return this.active=!1,this.on.error.fire(h),this.parent?this.parent._reject(h):g&&this.idbtrans&&this.idbtrans.abort(),vn(h)})})}(this),this.Version=function(a){return Kc(EU.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return Kc(TI.prototype,function(l,c,u){this.db=a,this._ctx={table:l,index:":id"===c?null:c,or:u};const d=a._deps.indexedDB;if(!d)throw new Te.MissingAPI;this._cmp=this._ascending=d.cmp.bind(d),this._descending=(f,h)=>d.cmp(h,f),this._max=(f,h)=>d.cmp(f,h)>0?f:h,this._min=(f,h)=>d.cmp(f,h)<0?f:h,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=qc(n.IDBKeyRange),this._createTransaction=(a,l,c,u)=>new this.Transaction(a,l,c,this._options.chromeTransactionDurability,u),this._fireOnBlocked=a=>{this.on("blocked").fire(a),Gc.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(MU),this.use(TU),this.use(OU),this.use(xU),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(a=>a(this))}version(t){if(isNaN(t)||t<.1)throw new Te.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new Te.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);const n=this._versions;var r=n.filter(i=>i._cfg.version===t)[0];return r||(r=new this.Version(t),n.push(r),n.sort(DU),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(t){return this.idbdb&&(this._state.openComplete||me.letThrough||this._vip)?t():new se((n,r)=>{if(this._state.openComplete)return r(new Te.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new Te.DatabaseClosed);this.open().catch(Dt)}this._state.dbReadyPromise.then(n,r)}).then(t)}use({stack:t,create:n,level:r,name:i}){i&&this.unuse({stack:t,name:i});const o=this._middlewares[t]||(this._middlewares[t]=[]);return o.push({stack:t,create:n,level:r??10,name:i}),o.sort((s,a)=>s.level-a.level),this}unuse({stack:t,name:n,create:r}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(i=>r?i.create!==r:!!n&&i.name!==n)),this}open(){return function IU(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?vn(t.dbOpenError):e);Pi&&(t.openCanceller._stackHolder=Ts()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new Te.DatabaseClosed("db.open() was cancelled")}let o=t.dbReadyResolve,s=null,a=!1;return se.race([r,(typeof navigator>"u"?se.resolve():SU()).then(()=>new se((l,c)=>{if(i(),!n)throw new Te.MissingAPI;const u=e.name,d=t.autoSchema?n.open(u):n.open(u,Math.round(10*e.verno));if(!d)throw new Te.MissingAPI;d.onerror=Oi(c),d.onblocked=Lt(e._fireOnBlocked),d.onupgradeneeded=Lt(f=>{if(s=d.transaction,t.autoSchema&&!e._options.allowEmptyDB){d.onerror=Wc,s.abort(),d.result.close();const g=n.deleteDatabase(u);g.onsuccess=g.onerror=Lt(()=>{c(new Te.NoSuchDatabase(`Database ${u} doesnt exist`))})}else{s.onerror=Oi(c);var h=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;a=h<1,e._novip.idbdb=d.result,function CU(e,t,n,r){const i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);const s=o._reject.bind(o),a=me.transless||me;Uo(()=>{me.trans=o,me.transless=a,0===t?(dn(i).forEach(l=>{Uy(n,l,i[l].primKey,i[l].indexes)}),jy(e,n),se.follow(()=>e.on.populate.fire(o)).catch(s)):function({_novip:l},c,u,d){const f=[],h=l._versions;let g=l._dbSchema=Hy(0,l.idbdb,d),m=!1;return h.filter(w=>w._cfg.version>=c).forEach(w=>{f.push(()=>{const C=g,b=w._cfg.dbschema;Gy(l,C,d),Gy(l,b,d),g=l._dbSchema=b;const k=kI(C,b);k.add.forEach(O=>{Uy(d,O[0],O[1].primKey,O[1].indexes)}),k.change.forEach(O=>{if(O.recreate)throw new Te.Upgrade("Not yet support for changing primary key");{const j=d.objectStore(O.name);O.add.forEach(oe=>$y(j,oe)),O.change.forEach(oe=>{j.deleteIndex(oe.name),$y(j,oe)}),O.del.forEach(oe=>j.deleteIndex(oe))}});const P=w._cfg.contentUpgrade;if(P&&w._cfg.version>c){jy(l,d),u._memoizedTables={},m=!0;let O=iI(b);k.del.forEach(_=>{O[_]=C[_]}),By(l,[l.Transaction.prototype]),Hf(l,[l.Transaction.prototype],dn(O),O),u.schema=O;const j=my(P);let oe;j&&qa();const S=se.follow(()=>{if(oe=P(u),oe&&j){var _=oo.bind(null,null);oe.then(_,_)}});return oe&&"function"==typeof oe.then?se.resolve(oe):S.then(()=>oe)}}),f.push(C=>{var b,k;(!m||!fU)&&(b=w._cfg.dbschema,[].slice.call((k=C).db.objectStoreNames).forEach(P=>null==b[P]&&k.db.deleteObjectStore(P))),By(l,[l.Transaction.prototype]),Hf(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),u.schema=l._dbSchema})}),function D(){return f.length?se.resolve(f.shift()(u.idbtrans)).then(D):se.resolve()}().then(()=>{var w,C;C=d,dn(w=g).forEach(b=>{C.db.objectStoreNames.contains(b)||Uy(C,b,w[b].primKey,w[b].indexes)})})}(e,t,o,n).catch(s)})}(e,h/10,s,c)}},c),d.onsuccess=Lt(()=>{s=null;const f=e._novip.idbdb=d.result,h=Ef(f.objectStoreNames);if(h.length>0)try{const m=f.transaction(1===(g=h).length?g[0]:g,"readonly");t.autoSchema?function({_novip:D},w,C){D.verno=w.version/10;const b=D._dbSchema=Hy(0,w,C);D._storeNames=Ef(w.objectStoreNames,0),Hf(D,[D._allTables],dn(b),b)}(e,f,m):(Gy(e,e._dbSchema,m),function(D,w){const C=kI(Hy(0,D.idbdb,w),D._dbSchema);return!(C.add.length||C.change.some(b=>b.add.length||b.change.length))}(e,m)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),jy(e,m)}catch{}var g;Gc.push(e),f.onversionchange=Lt(m=>{t.vcFired=!0,e.on("versionchange").fire(m)}),f.onclose=Lt(m=>{e.on("close").fire(m)}),a&&function({indexedDB:m,IDBKeyRange:D},w){!Ky(m)&&"__dbnames"!==w&&zy(m,D).put({name:w}).catch(Dt)}(e._deps,u),l()},c)}))]).then(()=>(i(),t.onReadyBeingFired=[],se.resolve(Wy(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let c=t.onReadyBeingFired.reduce(by,Dt);return t.onReadyBeingFired=[],se.resolve(Wy(()=>c(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{s&&s.abort()}catch{}return r===t.openCanceller&&e._close(),vn(l)}).finally(()=>{t.openComplete=!0,o()})}(this)}_close(){const t=this._state,n=Gc.indexOf(this);if(n>=0&&Gc.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new se(r=>{t.dbReadyResolve=r}),t.openCanceller=new se((r,i)=>{t.cancelOpen=i})}close(){this._close();const t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Te.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){const t=arguments.length>0,n=this._state;return new se((r,i)=>{const o=()=>{this.close();var s=this._deps.indexedDB.deleteDatabase(this.name);s.onsuccess=Lt(()=>{(function({indexedDB:a,IDBKeyRange:l},c){!Ky(a)&&"__dbnames"!==c&&zy(a,l).delete(c).catch(Dt)})(this._deps,this.name),r()}),s.onerror=Oi(i),s.onblocked=this._fireOnBlocked};if(t)throw new Te.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return dn(this._allTables).map(t=>this._allTables[t])}transaction(){const t=AU.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,n,r){let i=me.trans;i&&i.db===this&&-1===t.indexOf("!")||(i=null);const o=-1!==t.indexOf("?");let s,a;t=t.replace("!","").replace("?","");try{if(a=n.map(c=>{var u=c instanceof this.Table?c.name:c;if("string"!=typeof u)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return u}),"r"==t||"readonly"===t)s="readonly";else{if("rw"!=t&&"readwrite"!=t)throw new Te.InvalidArgument("Invalid transaction mode: "+t);s="readwrite"}if(i){if("readonly"===i.mode&&"readwrite"===s){if(!o)throw new Te.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(c=>{if(i&&-1===i.storeNames.indexOf(c)){if(!o)throw new Te.SubTransaction("Table "+c+" not included in parent transaction.");i=null}}),o&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,(u,d)=>{d(c)}):vn(c)}const l=RI.bind(null,this,s,a,i,r);return i?i._promise(s,l,"lock"):me.trans?Ya(me.transless,()=>this._whenReady(l)):this._whenReady(l)}table(t){if(!Cr(this._allTables,t))throw new Te.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}}const kU=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class RU{constructor(t){this._subscribe=t}subscribe(t,n,r){return this._subscribe(t&&"function"!=typeof t?t:{next:t,error:n,complete:r})}[kU](){return this}}function VI(e,t){return dn(t).forEach(n=>{zf(e[n]||(e[n]=new ao),t[n])}),e}function jI(e){return new RU(t=>{const n=my(e);let r=!1,i={},o={};const s={get closed(){return r},unsubscribe:()=>{r=!0,Go.storagemutated.unsubscribe(u)}};t.start&&t.start(s);let a=!1,l=!1;function c(){return dn(o).some(f=>i[f]&&function PU(e,t){const n=Qy(t);let r=n.next();if(r.done)return!1;let i=r.value;const o=Qy(e);let s=o.next(i.from),a=s.value;for(;!r.done&&!s.done;){if(Qn(a.from,i.to)<=0&&Qn(a.to,i.from)>=0)return!0;Qn(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}(i[f],o[f]))}const u=f=>{VI(i,f),c()&&d()},d=()=>{if(a||r)return;i={};const f={},h=function(g){n&&qa();const m=()=>Uo(e,{subscr:g,trans:null}),D=me.trans?Ya(me.transless,m):m();return n&&D.then(oo,oo),D}(f);l||(Go("storagemutated",u),l=!0),a=!0,Promise.resolve(h).then(g=>{a=!1,r||(c()?d():(i={},o=f,t.next&&t.next(g)))},g=>{a=!1,t.error&&t.error(g),s.unsubscribe()})};return d(),s})}let Xy;try{Xy={indexedDB:Pt.indexedDB||Pt.mozIndexedDB||Pt.webkitIndexedDB||Pt.msIndexedDB,IDBKeyRange:Pt.IDBKeyRange||Pt.webkitIDBKeyRange}}catch{Xy={indexedDB:null,IDBKeyRange:null}}const Ns=$t;function Kf(e){let t=lo;try{lo=!0,Go.storagemutated.fire(e)}finally{lo=t}}Ha(Ns,{...If,delete:e=>new Ns(e,{addons:[]}).delete(),exists:e=>new Ns(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:t,IDBKeyRange:n}){return Ky(t)?Promise.resolve(t.databases()).then(r=>r.map(i=>i.name).filter(i=>"__dbnames"!==i)):zy(t,n).toCollection().primaryKeys()}(Ns.dependencies).then(e)}catch{return vn(new Te.MissingAPI)}},defineClass:()=>function(e){Jn(this,e)},ignoreTransaction:e=>me.trans?Ya(me.transless,e):e(),vip:Wy,async:function(e){return function(){try{var t=qy(e.apply(this,arguments));return t&&"function"==typeof t.then?t:se.resolve(t)}catch(n){return vn(n)}}},spawn:function(e,t,n){try{var r=qy(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:se.resolve(r)}catch(i){return vn(i)}},currentTransaction:{get:()=>me.trans||null},waitFor:function(e,t){const n=se.resolve("function"==typeof e?Ns.ignoreTransaction(e):e).timeout(t||6e4);return me.trans?me.trans.waitFor(n):n},Promise:se,debug:{get:()=>Pi,set:e=>{aI(e,"dexie"===e?()=>!0:DI)}},derive:Ga,extend:Jn,props:Ha,override:tI,Events:zc,on:Go,liveQuery:jI,extendObservabilitySet:VI,getByKeyPath:ro,setByKeyPath:si,delByKeyPath:function(e,t){"string"==typeof t?si(e,t,void 0):"length"in t&&[].map.call(t,function(n){si(e,n,void 0)})},shallowClone:iI,deepClone:Fc,getObjectDiff:Yy,cmp:Qn,asap:nI,minKey:-1/0,addons:[],connections:Gc,errnames:_y,dependencies:Xy,semVer:"3.2.3",version:"3.2.3".split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),Ns.maxKey=qc(Ns.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Go("storagemutated",e=>{if(!lo){let t;Vf?(t=document.createEvent("CustomEvent"),t.initCustomEvent("x-storagemutated-1",!0,!0,e)):t=new CustomEvent("x-storagemutated-1",{detail:e}),lo=!0,dispatchEvent(t),lo=!1}}),addEventListener("x-storagemutated-1",({detail:e})=>{lo||Kf(e)}));let lo=!1;if(typeof BroadcastChannel<"u"){const e=new BroadcastChannel("x-storagemutated-1");"function"==typeof e.unref&&e.unref(),Go("storagemutated",t=>{lo||e.postMessage(t)}),e.onmessage=t=>{t.data&&Kf(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Go("storagemutated",t=>{try{lo||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:t})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:"x-storagemutated-1",changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if("x-storagemutated-1"===t.key){const n=JSON.parse(t.newValue);n&&Kf(n.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:t}){t&&"x-storagemutated-1"===t.type&&Kf(t.changedParts)})}se.rejectionMapper=function(e,t){if(!e||e instanceof Ka||e instanceof TypeError||e instanceof SyntaxError||!e.name||!dI[e.name])return e;var n=new dI[e.name](t||e.message,e);return"stack"in e&&no(n,"stack",{get:function(){return this.inner.stack}}),n},aI(Pi,DI);class Wf{}class Zy{}class co{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let r=t[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof co?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new co;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof co?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class NU{encodeKey(t){return BI(t)}encodeValue(t){return BI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const LU=/%(\d[a-f0-9])/gi,VU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function BI(e){return encodeURIComponent(e).replace(LU,(t,n)=>VU[n]??t)}function qf(e){return`${e}`}class Ur{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new NU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function FU(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(qf):[qf(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Ur({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(qf(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(qf(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class jU{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function UI(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function $I(e){return typeof Blob<"u"&&e instanceof Blob}function HI(e){return typeof FormData<"u"&&e instanceof FormData}class Qc{constructor(t,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function BU(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new co),this.context||(this.context=new jU),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Ur,this.urlWithParams=n}serializeBody(){return null===this.body?null:UI(this.body)||$I(this.body)||HI(this.body)||function UU(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ur?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HI(this.body)?null:$I(this.body)?this.body.type||null:UI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ur?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((d,f)=>d.set(f,t.setHeaders[f]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,f)=>d.set(f,t.setParams[f]),c)),new Qc(n,r,o,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var fn=(()=>((fn=fn||{})[fn.Sent=0]="Sent",fn[fn.UploadProgress=1]="UploadProgress",fn[fn.ResponseHeader=2]="ResponseHeader",fn[fn.DownloadProgress=3]="DownloadProgress",fn[fn.Response=4]="Response",fn[fn.User=5]="User",fn))();class ev{constructor(t,n=200,r="OK"){this.headers=t.headers||new co,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class tv extends ev{constructor(t={}){super(t),this.type=fn.ResponseHeader}clone(t={}){return new tv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Yf extends ev{constructor(t={}){super(t),this.type=fn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Yf({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class GI extends ev{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function nv(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let zI=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Qc)o=n;else{let l,c;l=i.headers instanceof co?i.headers:new co(i.headers),i.params&&(c=i.params instanceof Ur?i.params:new Ur({fromObject:i.params})),o=new Qc(n,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=ne(o).pipe(Fo(l=>this.handler.handle(l)));if(n instanceof Qc||"events"===i.observe)return s;const a=s.pipe(Ai(l=>l instanceof Yf));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(_e(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(_e(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(_e(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(_e(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Ur).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,nv(i,r))}post(n,r,i={}){return this.request("POST",n,nv(i,r))}put(n,r,i={}){return this.request("PUT",n,nv(i,r))}}return e.\u0275fac=function(n){return new(n||e)(le(Wf))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function KI(e,t){return t(e)}function $U(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const GU=new ce("HTTP_INTERCEPTORS"),Xc=new ce("HTTP_INTERCEPTOR_FNS");function zU(){let e=null;return(t,n)=>(null===e&&(e=(ze(GU,{optional:!0})??[]).reduceRight($U,KI)),e(t,n))}let WI=(()=>{class e extends Wf{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Xc)));this.chain=r.reduceRight((i,o)=>function HU(e,t,n){return(r,i)=>n.runInContext(()=>t(r,o=>e(o,i)))}(i,o,this.injector),KI)}return this.chain(n,r=>this.backend.handle(r))}}return e.\u0275fac=function(n){return new(n||e)(le(Zy),le(_i))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const YU=/^\)\]\}',?\n/;let YI=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new G(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((h,g)=>i.setRequestHeader(h,g.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const h=n.detectContentTypeHeader();null!==h&&i.setRequestHeader("Content-Type",h)}if(n.responseType){const h=n.responseType.toLowerCase();i.responseType="json"!==h?h:"text"}const o=n.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const h=i.statusText||"OK",g=new co(i.getAllResponseHeaders()),m=function JU(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||n.url;return s=new tv({headers:g,status:i.status,statusText:h,url:m}),s},l=()=>{let{headers:h,status:g,statusText:m,url:D}=a(),w=null;204!==g&&(w=typeof i.response>"u"?i.responseText:i.response),0===g&&(g=w?200:0);let C=g>=200&&g<300;if("json"===n.responseType&&"string"==typeof w){const b=w;w=w.replace(YU,"");try{w=""!==w?JSON.parse(w):null}catch(k){w=b,C&&(C=!1,w={error:k,text:w})}}C?(r.next(new Yf({body:w,headers:h,status:g,statusText:m,url:D||void 0})),r.complete()):r.error(new GI({error:w,headers:h,status:g,statusText:m,url:D||void 0}))},c=h=>{const{url:g}=a(),m=new GI({error:h,status:i.status||0,statusText:i.statusText||"Unknown Error",url:g||void 0});r.error(m)};let u=!1;const d=h=>{u||(r.next(a()),u=!0);let g={type:fn.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(g.total=h.total),"text"===n.responseType&&i.responseText&&(g.partialText=i.responseText),r.next(g)},f=h=>{let g={type:fn.UploadProgress,loaded:h.loaded};h.lengthComputable&&(g.total=h.total),r.next(g)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",f)),i.send(o),r.next({type:fn.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(le(X0))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const rv=new ce("XSRF_ENABLED"),JI="XSRF-TOKEN",QI=new ce("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>JI}),XI="X-XSRF-TOKEN",ZI=new ce("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>XI});class eA{}let QU=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=j0(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(le(Wn),le(wg),le(QI))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function XU(e,t){const n=e.url.toLowerCase();if(!ze(rv)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=ze(eA).getToken(),i=ze(ZI);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var nn=(()=>((nn=nn||{})[nn.Interceptors=0]="Interceptors",nn[nn.LegacyInterceptors=1]="LegacyInterceptors",nn[nn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",nn[nn.NoXsrfProtection=3]="NoXsrfProtection",nn[nn.JsonpSupport=4]="JsonpSupport",nn[nn.RequestsMadeViaParent=5]="RequestsMadeViaParent",nn))();function Xa(e,t){return{\u0275kind:e,\u0275providers:t}}function ZU(...e){const t=[zI,YI,WI,{provide:Wf,useExisting:WI},{provide:Zy,useExisting:YI},{provide:Xc,useValue:XU,multi:!0},{provide:rv,useValue:!0},{provide:eA,useClass:QU}];for(const n of e)t.push(...n.\u0275providers);return function Px(e){return{\u0275providers:e}}(t)}const tA=new ce("LEGACY_INTERCEPTOR_FN");function t$({cookieName:e,headerName:t}){const n=[];return void 0!==e&&n.push({provide:QI,useValue:e}),void 0!==t&&n.push({provide:ZI,useValue:t}),Xa(nn.CustomXsrfConfiguration,n)}let n$=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=hr({type:e}),e.\u0275inj=tr({providers:[ZU(Xa(nn.LegacyInterceptors,[{provide:tA,useFactory:zU},{provide:Xc,useExisting:tA,multi:!0}]),t$({cookieName:JI,headerName:XI}))]}),e})();const iv={now:()=>(iv.delegate||Date).now(),delegate:void 0};class r$ extends yt{constructor(t=1/0,n=1/0,r=iv){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function nA(e,t,n){let r,i=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e):r=e??1/0,jv({connector:()=>new r$(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var Za=(()=>{return(e=Za||(Za={}))[e.Backdrop=0]="Backdrop",e[e.Poster=1]="Poster",Za;var e})(),de=(()=>{return(e=de||(de={})).Movie="movie",e.TV="tv",de;var e})();const o$=({posterPath:e,rating:t,releaseDate:n,runtime:r,serverID:i,status:o,title:s,type:a})=>({posterPath:e,rating:t,releaseDate:n,runtime:r,serverID:i,status:o,title:s,type:a,videoListIDs:[]}),rA="The TMDB API key provided is invalid.",ov="videoDataAPIKey",Jf="https://api.themoviedb.org/3",iA="Sorry, your API key is not valid.";class Fs{get apiKey(){return this._apiKey}constructor(t){this.http=t,this._imagesConfig$=null,this._countryCode$=null,this._apiKey=localStorage.getItem(ov)||null}_formatVideoSearchResult(t,n){return{posterPath:t.poster_path||null,releaseDate:t.release_date||t.first_air_date||null,title:t.title||t.name||null,type:n,serverID:t.id||null}}_formatVideoDetails(t,n){const r=n==de.Movie,i=t.aggregate_credits?.cast||t.credits?.cast||null,o=i?i.slice(0,5).map(g=>g.name):[],s=t.created_by,a=s?s.slice(0,5).map(g=>g.name):[],l=t.credits?.crew||null,c=l?l.filter(g=>"Director"==g.job).slice(0,5).map(g=>g.name):[],u=r||!t.last_air_date||"Ended"!=t.status&&"Canceled"!=t.status?null:t.last_air_date,d=t.genres,f=d?d.slice(0,3).map(g=>g.name):[];return{...this._formatVideoSearchResult(t,n),backdropPath:t.backdrop_path||null,cast:o,creators:a,directors:r?c:[],endDate:u,episodes:t.number_of_episodes||null,genres:f,imdbID:t.imdb_id||t.external_ids?.imdb_id||null,overview:t.overview||null,rating:t.vote_average||null,runtime:t.runtime||null,seasons:t.number_of_seasons||null,status:t.status||null}}getImageURLConfig(){if(!this.apiKey)return ne(null);if(!this._imagesConfig$){const t=`${Jf}/configuration`,n={params:(new Ur).set("api_key",this.apiKey)};this._imagesConfig$=this.http.get(t,n).pipe(_e(r=>r.images),Yn(r=>(console.error(r),ne(null))),nA(1))}return this._imagesConfig$.pipe(_e(t=>t?{backdropSizes:{sm:t.backdrop_sizes&&t.backdrop_sizes[0]||null,md:t.backdrop_sizes&&t.backdrop_sizes[1]||null,lg:t.backdrop_sizes&&t.backdrop_sizes[2]||null},baseURL:t.secure_base_url||null,posterSizes:{sm:t.poster_sizes&&t.poster_sizes[1]||null,md:t.poster_sizes&&t.poster_sizes[3]||null,lg:t.poster_sizes&&t.poster_sizes[4]||null}}:null))}getLocalStreamingProviders(t){return this._countryCode$||(this._countryCode$=this.http.get("https://ipinfo.io/json").pipe(_e(n=>n.country||null),Yn(n=>(console.error(n),ne(null))),nA(1))),this._countryCode$.pipe(_e(n=>{if(!n)return[];const r=t[n];if(!r)return[];const i=r.flatrate;return i?i.map(o=>o.provider_name):[]}))}getDetails(t,n){if(!this.apiKey||!Object.values(de).includes(n))return ne([null,[]]);const r=`${Jf}/${n}/${t}`,i={params:(new Ur).set("api_key",this.apiKey).set("append_to_response","watch/providers,"+(n==de.Movie?"credits":"aggregate_credits,external_ids"))};return this.http.get(r,i).pipe(Yn(o=>(console.error(o),ne(null))),jr(o=>{if(!o)return ne([null,[]]);const s=o["watch/providers"]?.results,a=s&&Object.keys(s).length>0?this.getLocalStreamingProviders(s):ne([]);return Zd(ne(this._formatVideoDetails(o,n)),a.pipe(_e(l=>l.sort())))}))}search(t,n=1){if(!this.apiKey)return ne(null);const r=`${Jf}/search/multi`,i={params:(new Ur).set("api_key",this.apiKey).set("include_adult",!1).set("page",n).set("query",t)};return this.http.get(r,i).pipe(_e(o=>{const a=o.results.filter(l=>"person"!=l.media_type).map(l=>this._formatVideoSearchResult(l,"movie"==l.media_type?de.Movie:de.TV));return{page:n,results:a,totalResults:o.total_results,totalPages:o.total_pages}}),Yn(o=>{if(401==o.status)throw iA;return console.error(o),ne(null)}))}updateAPIKey(t){if(t){const n={params:(new Ur).set("api_key",t)};return this.http.get(`${Jf}/authentication`,n).pipe(Wt(r=>{this._apiKey=t,localStorage.setItem(ov,t)}),Yn(r=>{throw 401==r.status?rA:r}))}return this._apiKey=t,localStorage.removeItem(ov),ne(null)}}Fs.\u0275fac=function(t){return new(t||Fs)(le(zI))},Fs.\u0275prov=he({token:Fs,factory:Fs.\u0275fac,providedIn:"root"});var Qf=mo(687),Xf=function(){return Xf=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Xf.apply(this,arguments)};function uo(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function $r(e,t){var r,i,o,s,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=2&c[0]?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!(o=(o=n.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){n=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(6===c[0]&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}function a$(e){return[e.schema.primKey].concat(e.schema.indexes).map(function(n){return n.src}).join(",")}function oA(e,t){return new Promise(function(n,r){var i=new FileReader;i.onabort=function(o){return r(new Error("file read aborted"))},i.onerror=function(o){return r(o.target.error)},i.onload=function(o){return n(o.target.result)},"binary"===t?i.readAsArrayBuffer(e):i.readAsText(e)})}function sA(e,t){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var n=new FileReaderSync;return"binary"===t?n.readAsArrayBuffer(e):n.readAsText(e)}var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function av(e,t){return e(t={exports:{}},t.exports),t.exports}for(var Zf=av(function(e,t){e.exports=function(){function n(N){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(N)}function r(N,B,$,H,Q,Ye,nt){try{var rt=N[Ye](nt),ge=rt.value}catch(Sn){return void $(Sn)}rt.done?B(ge):Promise.resolve(ge).then(H,Q)}function i(N){return function(){var B=this,$=arguments;return new Promise(function(H,Q){var Ye=N.apply(B,$);function nt(ge){r(Ye,H,Q,nt,rt,"next",ge)}function rt(ge){r(Ye,H,Q,nt,rt,"throw",ge)}nt(void 0)})}}function o(N,B){if(!(N instanceof B))throw new TypeError("Cannot call a class as a function")}function s(N,B){for(var $=0;$<B.length;$++){var H=B[$];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(N,H.key,H)}}function l(N,B,$){return B in N?Object.defineProperty(N,B,{value:$,enumerable:!0,configurable:!0,writable:!0}):N[B]=$,N}function c(N,B){var $=Object.keys(N);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(N);B&&(H=H.filter(function(Q){return Object.getOwnPropertyDescriptor(N,Q).enumerable})),$.push.apply($,H)}return $}function u(N){for(var B=1;B<arguments.length;B++){var $=null!=arguments[B]?arguments[B]:{};B%2?c(Object($),!0).forEach(function(H){l(N,H,$[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors($)):c(Object($)).forEach(function(H){Object.defineProperty(N,H,Object.getOwnPropertyDescriptor($,H))})}return N}function d(N,B){return function g(N){if(Array.isArray(N))return N}(N)||function D(N,B){if(Symbol.iterator in Object(N)||"[object Arguments]"===Object.prototype.toString.call(N)){var $=[],H=!0,Q=!1,Ye=void 0;try{for(var rt,nt=N[Symbol.iterator]();!(H=(rt=nt.next()).done)&&($.push(rt.value),!B||$.length!==B);H=!0);}catch(ge){Q=!0,Ye=ge}finally{try{!H&&null!=nt.return&&nt.return()}finally{if(Q)throw Ye}}return $}}(N,B)||function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(N){return function h(N){if(Array.isArray(N)){for(var B=0,$=new Array(N.length);B<N.length;B++)$[B]=N[B];return $}}(N)||function m(N){if(Symbol.iterator in Object(N)||"[object Arguments]"===Object.prototype.toString.call(N))return Array.from(N)}(N)||function w(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var b=function N(B){o(this,N),this.p=new Promise(B)};b.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(b.prototype[Symbol.toStringTag]="TypesonPromise"),b.prototype.then=function(N,B){var $=this;return new b(function(H,Q){$.p.then(function(Ye){H(N?N(Ye):Ye)}).catch(function(Ye){return B?B(Ye):Promise.reject(Ye)}).then(H,Q)})},b.prototype.catch=function(N){return this.then(null,N)},b.resolve=function(N){return new b(function(B){B(N)})},b.reject=function(N){return new b(function(B,$){$(N)})},["all","race"].forEach(function(N){b[N]=function(B){return new b(function($,H){Promise[N](B.map(function(Q){return Q&&Q.constructor&&"TypesonPromise"===Q.constructor.__typeson__type__?Q.p:Q})).then($,H)})}});var P={}.toString,O={}.hasOwnProperty,j=Object.getPrototypeOf,oe=O.toString;function S(N,B){return Z(N)&&"function"==typeof N.then&&(!B||"function"==typeof N.catch)}function _(N){return P.call(N).slice(8,-1)}function V(N,B){if(!N||"object"!==n(N))return!1;var $=j(N);if(!$)return null===B;var H=O.call($,"constructor")&&$.constructor;return"function"!=typeof H?null===B:B===H||null!==B&&oe.call(H)===oe.call(B)||"function"==typeof B&&"string"==typeof H.__typeson__type__&&H.__typeson__type__===B.__typeson__type__}function x(N){return!(!N||"Object"!==_(N))&&(!j(N)||V(N,Object))}function Z(N){return N&&"object"===n(N)}function $e(N){return N.replace(/~/g,"~0").replace(/\./g,"~1")}function tt(N){return N.replace(/~1/g,".").replace(/~0/g,"~")}function Ze(N,B){if(""===B)return N;var $=B.indexOf(".");if($>-1){var H=N[tt(B.slice(0,$))];return void 0===H?void 0:Ze(H,B.slice($+1))}return N[tt(B)]}function qt(N,B,$){if(""===B)return $;var H=B.indexOf(".");return H>-1?qt(N[tt(B.slice(0,H))],B.slice(H+1),$):(N[tt(B)]=$,N)}var lt=Object.keys,Gt=Array.isArray,ar={}.hasOwnProperty,ai=["type","replaced","iterateIn","iterateUnsetNumeric"];function Ve(N,B){if(""===N.keypath)return-1;var $=N.keypath.match(/\./g)||0,H=B.keypath.match(/\./g)||0;return $&&($=$.length),H&&(H=H.length),$>H?-1:$<H?1:N.keypath<B.keypath?-1:N.keypath>B.keypath}var Ot=function(){function N(B){o(this,N),this.options=B,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function a(N,B,$){return B&&s(N.prototype,B),$&&s(N,$),N}(N,[{key:"stringify",value:function($,H,Q,Ye){Ye=u({},this.options,{},Ye,{stringification:!0});var nt=this.encapsulate($,null,Ye);return Gt(nt)?JSON.stringify(nt[0],H,Q):nt.then(function(rt){return JSON.stringify(rt,H,Q)})}},{key:"stringifySync",value:function($,H,Q,Ye){return this.stringify($,H,Q,u({throwOnBadSyncType:!0},Ye,{sync:!0}))}},{key:"stringifyAsync",value:function($,H,Q,Ye){return this.stringify($,H,Q,u({throwOnBadSyncType:!0},Ye,{sync:!1}))}},{key:"parse",value:function($,H,Q){return Q=u({},this.options,{},Q,{parse:!0}),this.revive(JSON.parse($,H),Q)}},{key:"parseSync",value:function($,H,Q){return this.parse($,H,u({throwOnBadSyncType:!0},Q,{sync:!0}))}},{key:"parseAsync",value:function($,H,Q){return this.parse($,H,u({throwOnBadSyncType:!0},Q,{sync:!1}))}},{key:"specialTypeNames",value:function($,H){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Q.returnTypeNames=!0,this.encapsulate($,H,Q)}},{key:"rootTypeName",value:function($,H){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Q.iterateNone=!0,this.encapsulate($,H,Q)}},{key:"encapsulate",value:function($,H,Q){var nt=(Q=u({sync:!0},this.options,{},Q)).sync,rt=this,ge={},Sn=[],cr=[],Sr=[],li=!("cyclic"in Q)||Q.cyclic,ho=Q.encapsulateObserver,Ir=_t("",$,li,H||{},Sr);function ui(fe){var v=Object.values(ge);if(Q.iterateNone)return v.length?v[0]:N.getJSONType(fe);if(v.length){if(Q.returnTypeNames)return f(new Set(v));fe&&x(fe)&&!ar.call(fe,"$types")?fe.$types=ge:fe={$:fe,$types:{$:ge}}}else Z(fe)&&ar.call(fe,"$types")&&(fe={$:fe,$types:!0});return!Q.returnTypeNames&&fe}function rn(fe,v){return vt.apply(this,arguments)}function vt(){return vt=i(Qf.mark(function fe(v,p){var y;return Qf.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,Promise.all(p.map(function(q){return q[1].p}));case 2:return y=M.sent,M.next=5,Promise.all(y.map(function(){var q=i(Qf.mark(function X(pe){var re,Ee,Je,mt,ot,Mt,He,ue,J;return Qf.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(re=[],Ee=p.splice(0,1),Je=d(Ee,1),mt=d(Je[0],7),Mt=mt[4],He=mt[5],ue=_t(ot=mt[0],pe,mt[2],mt[3],re,!0,mt[6]),J=V(ue,b),!ot||!J){xe.next=11;break}return xe.next=8,ue.p;case 8:return Mt[He]=xe.sent,xe.abrupt("return",rn(v,re));case 11:return ot?Mt[He]=ue:v=J?ue.p:ue,xe.abrupt("return",rn(v,re));case 13:case"end":return xe.stop()}},X)}));return function(X){return q.apply(this,arguments)}}()));case 5:return M.abrupt("return",v);case 6:case"end":return M.stop()}},fe)})),vt.apply(this,arguments)}function pt(fe,v,p){Object.assign(fe,v);var y=ai.map(function(E){var M=fe[E];return delete fe[E],M});p(),ai.forEach(function(E,M){fe[E]=y[M]})}function _t(fe,v,p,y,E,M,q){var X,pe={},re=n(v),Ee=ho?function(J){var we=q||y.type||N.getJSONType(v);ho(Object.assign(J||pe,{keypath:fe,value:v,cyclic:p,stateObj:y,promisesData:E,resolvingTypesonPromise:M,awaitingTypesonPromise:V(v,b)},{type:we}))}:null;if(["string","boolean","number","undefined"].includes(re))return void 0===v||"number"===re&&(isNaN(v)||v===-1/0||v===1/0)?(X=y.replaced?v:on(fe,v,y,E,!1,M,Ee))!==v&&(pe={replaced:X}):X=v,Ee&&Ee(),X;if(null===v)return Ee&&Ee(),v;if(p&&!y.iterateIn&&!y.iterateUnsetNumeric&&v&&"object"===n(v)){var Je=Sn.indexOf(v);if(!(Je<0))return ge[fe]="#",Ee&&Ee({cyclicKeypath:cr[Je]}),"#"+cr[Je];!0===p&&(Sn.push(v),cr.push(fe))}var it,Qe=x(v),mt=Gt(v),ot=(Qe||mt)&&(!rt.plainObjectReplacers.length||y.replaced)||y.iterateIn?v:on(fe,v,y,E,Qe||mt,null,Ee);if(ot!==v?(X=ot,pe={replaced:ot}):""===fe&&V(v,b)?(E.push([fe,v,p,y,void 0,void 0,y.type]),X=v):mt&&"object"!==y.iterateIn||"array"===y.iterateIn?(it=new Array(v.length),pe={clone:it}):(["function","symbol"].includes(n(v))||"toJSON"in v||V(v,b)||V(v,Promise)||V(v,ArrayBuffer))&&!Qe&&"object"!==y.iterateIn?X=v:(it={},y.addLength&&(it.length=v.length),pe={clone:it}),Ee&&Ee(),Q.iterateNone)return it||X;if(!it)return X;if(y.iterateIn){var At=function(we){var ye={ownKeys:ar.call(v,we)};pt(y,ye,function(){var xe=fe+(fe?".":"")+$e(we),Xe=_t(xe,v[we],Boolean(p),y,E,M);V(Xe,b)?E.push([xe,Xe,Boolean(p),y,it,we,y.type]):void 0!==Xe&&(it[we]=Xe)})};for(var Mt in v)At(Mt);Ee&&Ee({endIterateIn:!0,end:!0})}else lt(v).forEach(function(J){var we=fe+(fe?".":"")+$e(J);pt(y,{ownKeys:!0},function(){var xe=_t(we,v[J],Boolean(p),y,E,M);V(xe,b)?E.push([we,xe,Boolean(p),y,it,J,y.type]):void 0!==xe&&(it[J]=xe)})}),Ee&&Ee({endIterateOwn:!0,end:!0});if(y.iterateUnsetNumeric){for(var He=v.length,In=function(we){if(!(we in v)){var ye=fe+(fe?".":"")+we;pt(y,{ownKeys:!1},function(){var Xe=_t(ye,void 0,Boolean(p),y,E,M);V(Xe,b)?E.push([ye,Xe,Boolean(p),y,it,we,y.type]):void 0!==Xe&&(it[we]=Xe)})}},ue=0;ue<He;ue++)In(ue);Ee&&Ee({endIterateUnsetNumeric:!0,end:!0})}return it}function on(fe,v,p,y,E,M,q){for(var X=E?rt.plainObjectReplacers:rt.nonplainObjectReplacers,pe=X.length;pe--;){var re=X[pe];if(re.test(v,p)){var Ee=re.type;if(rt.revivers[Ee]){var Je=ge[fe];ge[fe]=Je?[Ee].concat(Je):Ee}return Object.assign(p,{type:Ee,replaced:!0}),!nt&&re.replaceAsync||re.replace?(q&&q({replacing:!0}),_t(fe,re[nt||!re.replaceAsync?"replace":"replaceAsync"](v,p),li&&"readonly",p,y,M,Ee)):(q&&q({typeDetected:!0}),_t(fe,v,li&&"readonly",p,y,M,Ee))}}return v}return Sr.length?nt&&Q.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(rn(Ir,Sr)).then(ui):!nt&&Q.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():Q.stringification&&nt?[ui(Ir)]:nt?ui(Ir):Promise.resolve(ui(Ir))}},{key:"encapsulateSync",value:function($,H,Q){return this.encapsulate($,H,u({throwOnBadSyncType:!0},Q,{sync:!0}))}},{key:"encapsulateAsync",value:function($,H,Q){return this.encapsulate($,H,u({throwOnBadSyncType:!0},Q,{sync:!1}))}},{key:"revive",value:function($,H){var Q=$&&$.$types;if(!Q)return $;if(!0===Q)return $.$;var nt=(H=u({sync:!0},this.options,{},H)).sync,rt=[],ge={},Sn=!0;Q.$&&x(Q.$)&&($=$.$,Q=Q.$,Sn=!1);var cr=this;function Sr(vt,pt){var fe=d(cr.revivers[vt]||[],1)[0];if(!fe)throw new Error("Unregistered type: "+vt);return nt&&!("revive"in fe)?pt:fe[nt&&fe.revive?"revive":!nt&&fe.reviveAsync?"reviveAsync":"revive"](pt,ge)}var ci=[];function Ir(vt){return V(vt,lr)?void 0:vt}var rn,ui=function li(){var vt=[];if(Object.entries(Q).forEach(function(pt){var _t=d(pt,2),on=_t[0],fe=_t[1];"#"!==fe&&[].concat(fe).forEach(function(v){d(cr.revivers[v]||[null,{}],2)[1].plain&&(vt.push({keypath:on,type:v}),delete Q[on])})}),vt.length)return vt.sort(Ve).reduce(function pt(_t,on){var fe=on.keypath,v=on.type;if(S(_t))return _t.then(function(E){return pt(E,{keypath:fe,type:v})});var p=Ze($,fe);if(V(p=Sr(v,p),b))return p.then(function(E){var M=qt($,fe,E);M===E&&($=M)});var y=qt($,fe,p);y===p&&($=y)},void 0)}();return V(ui,b)?rn=ui.then(function(){return $}):(rn=function ho(vt,pt,_t,on,fe){if(!Sn||"$types"!==vt){var v=Q[vt],p=Gt(pt);if(p||x(pt)){var y=p?new Array(pt.length):{};for(lt(pt).forEach(function(Je){var Qe=ho(vt+(vt?".":"")+$e(Je),pt[Je],_t||y,y,Je),mt=function(it){return V(it,lr)?y[Je]=void 0:void 0!==it&&(y[Je]=it),it};V(Qe,b)?ci.push(Qe.then(function(ot){return mt(ot)})):mt(Qe)}),pt=y;rt.length;){var E=d(rt[0],4),X=E[2],pe=E[3],re=Ze(E[0],E[1]);if(void 0===re)break;X[pe]=re,rt.splice(0,1)}}if(!v)return pt;if("#"===v){var Ee=Ze(_t,pt.slice(1));return void 0===Ee&&rt.push([_t,pt.slice(1),on,fe]),Ee}return[].concat(v).reduce(function Je(Qe,mt){return V(Qe,b)?Qe.then(function(ot){return Je(ot,mt)}):Sr(mt,Qe)},pt)}}("",$,null),ci.length&&(rn=b.resolve(rn).then(function(vt){return b.all([vt].concat(ci))}).then(function(vt){return d(vt,1)[0]}))),S(rn)?nt&&H.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():V(rn,b)?rn.p.then(Ir):rn:!nt&&H.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():nt?Ir(rn):Promise.resolve(Ir(rn))}},{key:"reviveSync",value:function($,H){return this.revive($,u({throwOnBadSyncType:!0},H,{sync:!0}))}},{key:"reviveAsync",value:function($,H){return this.revive($,u({throwOnBadSyncType:!0},H,{sync:!1}))}},{key:"register",value:function($,H){return H=H||{},[].concat($).forEach(function Q(Ye){var nt=this;if(Gt(Ye))return Ye.map(function(rt){return Q.call(nt,rt)});Ye&&lt(Ye).forEach(function(rt){if("#"===rt)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(N.JSON_TYPES.includes(rt))throw new TypeError("Plain JSON object types are reserved as type names");var ge=Ye[rt],Sn=ge&&ge.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,cr=Sn.filter(function(_t){return _t.type===rt});if(cr.length&&(Sn.splice(Sn.indexOf(cr[0]),1),delete this.revivers[rt],delete this.types[rt]),"function"==typeof ge){var Sr=ge;ge={test:function(on){return on&&on.constructor===Sr},replace:function(on){return u({},on)},revive:function(on){return Object.assign(Object.create(Sr.prototype),on)}}}else if(Gt(ge)){var ci=d(ge,3);ge={test:ci[0],replace:ci[1],revive:ci[2]}}if(ge&&ge.test){var rn={type:rt,test:ge.test.bind(ge)};ge.replace&&(rn.replace=ge.replace.bind(ge)),ge.replaceAsync&&(rn.replaceAsync=ge.replaceAsync.bind(ge));var vt="number"==typeof H.fallback?H.fallback:H.fallback?0:1/0;if(ge.testPlainObjects?this.plainObjectReplacers.splice(vt,0,rn):this.nonplainObjectReplacers.splice(vt,0,rn),ge.revive||ge.reviveAsync){var pt={};ge.revive&&(pt.revive=ge.revive.bind(ge)),ge.reviveAsync&&(pt.reviveAsync=ge.reviveAsync.bind(ge)),this.revivers[rt]=[pt,{plain:ge.testPlainObjects}]}this.types[rt]=ge}},this)},this),this}}]),N}(),lr=function N(){o(this,N)};return lr.__typeson__type__="TypesonUndefined",Ot.Undefined=lr,Ot.Promise=b,Ot.isThenable=S,Ot.toStringTag=_,Ot.hasConstructorOf=V,Ot.isObject=Z,Ot.isPlainObject=x,Ot.isUserObject=function Ie(N){if(!N||"Object"!==_(N))return!1;var B=j(N);return!B||V(N,Object)||Ie(B)},Ot.escapeKeyPathComponent=$e,Ot.unescapeKeyPathComponent=tt,Ot.getByKeyPath=Ze,Ot.getJSONType=function Yt(N){return null===N?"null":Array.isArray(N)?"array":n(N)},Ot.JSON_TYPES=["null","boolean","number","string","array","object"],Ot}()}),c$=av(function(e,t){e.exports=function(){function n(v){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(v)}function r(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function i(v,p){for(var y=0;y<p.length;y++){var E=p[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}function o(v,p,y){return p in v?Object.defineProperty(v,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):v[p]=y,v}function s(v,p){var y=Object.keys(v);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(v);p&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(v,M).enumerable})),y.push.apply(y,E)}return y}function a(v){return function(y){if(Array.isArray(y))return l(y)}(v)||function(y){if(typeof Symbol<"u"&&Symbol.iterator in Object(y))return Array.from(y)}(v)||function(y,E){if(y){if("string"==typeof y)return l(y,E);var M=Object.prototype.toString.call(y).slice(8,-1);if("Object"===M&&y.constructor&&(M=y.constructor.name),"Map"===M||"Set"===M)return Array.from(y);if("Arguments"===M||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return l(y,E)}}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(v,p){(null==p||p>v.length)&&(p=v.length);for(var y=0,E=new Array(p);y<p;y++)E[y]=v[y];return E}function c(v){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(v)}function u(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function d(v,p){for(var y=0;y<p.length;y++){var E=p[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}function f(v,p,y){return p in v?Object.defineProperty(v,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):v[p]=y,v}function h(v,p){var y=Object.keys(v);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(v);p&&(E=E.filter(function(M){return Object.getOwnPropertyDescriptor(v,M).enumerable})),y.push.apply(y,E)}return y}function g(v){for(var p=1;p<arguments.length;p++){var y=null!=arguments[p]?arguments[p]:{};p%2?h(Object(y),!0).forEach(function(E){f(v,E,y[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(y)):h(Object(y)).forEach(function(E){Object.defineProperty(v,E,Object.getOwnPropertyDescriptor(y,E))})}return v}function m(v,p){return function(E){if(Array.isArray(E))return E}(v)||function(E,M){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(E)){var q=[],X=!0,pe=!1,re=void 0;try{for(var Ee,Je=E[Symbol.iterator]();!(X=(Ee=Je.next()).done)&&(q.push(Ee.value),!M||q.length!==M);X=!0);}catch(Qe){pe=!0,re=Qe}finally{try{X||null==Je.return||Je.return()}finally{if(pe)throw re}}return q}}(v,p)||w(v,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(v,p){if(v){if("string"==typeof v)return C(v,p);var y=Object.prototype.toString.call(v).slice(8,-1);return"Object"===y&&v.constructor&&(y=v.constructor.name),"Map"===y||"Set"===y?Array.from(v):"Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?C(v,p):void 0}}function C(v,p){(null==p||p>v.length)&&(p=v.length);for(var y=0,E=new Array(p);y<p;y++)E[y]=v[y];return E}var b=function v(p){u(this,v),this.p=new Promise(p)};b.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(b.prototype[Symbol.toStringTag]="TypesonPromise"),b.prototype.then=function(v,p){var y=this;return new b(function(E,M){y.p.then(function(q){E(v?v(q):q)}).catch(function(q){return p?p(q):Promise.reject(q)}).then(E,M)})},b.prototype.catch=function(v){return this.then(null,v)},b.resolve=function(v){return new b(function(p){p(v)})},b.reject=function(v){return new b(function(p,y){y(v)})},["all","race"].forEach(function(v){b[v]=function(p){return new b(function(y,E){Promise[v](p.map(function(M){return M&&M.constructor&&"TypesonPromise"===M.constructor.__typeson__type__?M.p:M})).then(y,E)})}});var k={}.toString,P={}.hasOwnProperty,O=Object.getPrototypeOf,j=P.toString;function oe(v,p){return x(v)&&"function"==typeof v.then&&(!p||"function"==typeof v.catch)}function S(v){return k.call(v).slice(8,-1)}function _(v,p){if(!v||"object"!==c(v))return!1;var y=O(v);if(!y)return null===p;var E=P.call(y,"constructor")&&y.constructor;return"function"!=typeof E?null===p:p===E||null!==p&&j.call(E)===j.call(p)||"function"==typeof p&&"string"==typeof E.__typeson__type__&&E.__typeson__type__===p.__typeson__type__}function V(v){return!(!v||"Object"!==S(v))&&(!O(v)||_(v,Object))}function x(v){return v&&"object"===c(v)}function Ie(v){return v.replace(/~/g,"~0").replace(/\./g,"~1")}function Z(v){return v.replace(/~1/g,".").replace(/~0/g,"~")}function $e(v,p){if(""===p)return v;var y=p.indexOf(".");if(y>-1){var E=v[Z(p.slice(0,y))];return void 0===E?void 0:$e(E,p.slice(y+1))}return v[Z(p)]}function tt(v,p,y){if(""===p)return y;var E=p.indexOf(".");return E>-1?tt(v[Z(p.slice(0,E))],p.slice(E+1),y):(v[Z(p)]=y,v)}function Ze(v,p,y){return y?p?p(v):v:(v&&v.then||(v=Promise.resolve(v)),p?v.then(p):v)}var qt=Object.keys,Yt=Array.isArray,lt={}.hasOwnProperty,Gt=["type","replaced","iterateIn","iterateUnsetNumeric"];function ar(v){return function(){for(var p=[],y=0;y<arguments.length;y++)p[y]=arguments[y];try{return Promise.resolve(v.apply(this,p))}catch(E){return Promise.reject(E)}}}function ai(v,p){if(""===v.keypath)return-1;var y=v.keypath.match(/\./g)||0,E=p.keypath.match(/\./g)||0;return y&&(y=y.length),E&&(E=E.length),y>E?-1:y<E?1:v.keypath<p.keypath?-1:v.keypath>p.keypath}var Ve=function(){function v(p){u(this,v),this.options=p,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return y=v,E=[{key:"stringify",value:function(y,E,M,q){q=g(g(g({},this.options),q),{},{stringification:!0});var X=this.encapsulate(y,null,q);return Yt(X)?JSON.stringify(X[0],E,M):X.then(function(pe){return JSON.stringify(pe,E,M)})}},{key:"stringifySync",value:function(y,E,M,q){return this.stringify(y,E,M,g(g({throwOnBadSyncType:!0},q),{},{sync:!0}))}},{key:"stringifyAsync",value:function(y,E,M,q){return this.stringify(y,E,M,g(g({throwOnBadSyncType:!0},q),{},{sync:!1}))}},{key:"parse",value:function(y,E,M){return M=g(g(g({},this.options),M),{},{parse:!0}),this.revive(JSON.parse(y,E),M)}},{key:"parseSync",value:function(y,E,M){return this.parse(y,E,g(g({throwOnBadSyncType:!0},M),{},{sync:!0}))}},{key:"parseAsync",value:function(y,E,M){return this.parse(y,E,g(g({throwOnBadSyncType:!0},M),{},{sync:!1}))}},{key:"specialTypeNames",value:function(y,E){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return M.returnTypeNames=!0,this.encapsulate(y,E,M)}},{key:"rootTypeName",value:function(y,E){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return M.iterateNone=!0,this.encapsulate(y,E,M)}},{key:"encapsulate",value:function(y,E,M){var q=ar(function(ue,J){return Ze(Promise.all(J.map(function(we){return we[1].p})),function(we){return Ze(Promise.all(we.map(ar(function(ye){var ih,sl,xe=!1,Xe=[],Ar=m(J.splice(0,1),1),sn=m(Ar[0],7),ur=sn[0],zr=sn[4],kt=sn[5],Xn=He(ur,ye,sn[2],sn[3],Xe,!0,sn[6]),di=_(Xn,b);return ih=function(fi){return xe?fi:(ur?zr[kt]=Xn:ue=di?Xn.p:Xn,q(ue,Xe))},(sl=function(){if(ur&&di)return Ze(Xn.p,function(fi){return zr[kt]=fi,xe=!0,q(ue,Xe)})}())&&sl.then?sl.then(ih):ih(sl)}))),function(){return ue})})}),X=(M=g(g({sync:!0},this.options),M)).sync,pe=this,re={},Ee=[],Je=[],Qe=[],mt=!("cyclic"in M)||M.cyclic,ot=M.encapsulateObserver,it=He("",y,mt,E||{},Qe);function At(ue){var J=Object.values(re);if(M.iterateNone)return J.length?J[0]:v.getJSONType(ue);if(J.length){if(M.returnTypeNames)return function D(v){return function(y){if(Array.isArray(y))return C(y)}(v)||function(y){if(typeof Symbol<"u"&&Symbol.iterator in Object(y))return Array.from(y)}(v)||w(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(new Set(J));ue&&V(ue)&&!lt.call(ue,"$types")?ue.$types=re:ue={$:ue,$types:{$:re}}}else x(ue)&&lt.call(ue,"$types")&&(ue={$:ue,$types:!0});return!M.returnTypeNames&&ue}function Mt(ue,J,we){Object.assign(ue,J);var ye=Gt.map(function(xe){var Xe=ue[xe];return delete ue[xe],Xe});we(),Gt.forEach(function(xe,Xe){ue[xe]=ye[Xe]})}function He(ue,J,we,ye,xe,Xe,Ar){var sn,ur={},Gr=c(J),bt=ot?function(qo){var Zn=Ar||ye.type||v.getJSONType(J);ot(Object.assign(qo||ur,{keypath:ue,value:J,cyclic:we,stateObj:ye,promisesData:xe,resolvingTypesonPromise:Xe,awaitingTypesonPromise:_(J,b)},{type:Zn}))}:null;if(["string","boolean","number","undefined"].includes(Gr))return void 0===J||Number.isNaN(J)||J===Number.NEGATIVE_INFINITY||J===Number.POSITIVE_INFINITY?(sn=ye.replaced?J:In(ue,J,ye,xe,!1,Xe,bt))!==J&&(ur={replaced:sn}):sn=J,bt&&bt(),sn;if(null===J)return bt&&bt(),J;if(we&&!ye.iterateIn&&!ye.iterateUnsetNumeric&&J&&"object"===c(J)){var zr=Ee.indexOf(J);if(!(zr<0))return re[ue]="#",bt&&bt({cyclicKeypath:Je[zr]}),"#"+Je[zr];!0===we&&(Ee.push(J),Je.push(ue))}var kt,Mr=V(J),Xn=Yt(J),di=(Mr||Xn)&&(!pe.plainObjectReplacers.length||ye.replaced)||ye.iterateIn?J:In(ue,J,ye,xe,Mr||Xn,null,bt);if(di!==J?(sn=di,ur={replaced:di}):""===ue&&_(J,b)?(xe.push([ue,J,we,ye,void 0,void 0,ye.type]),sn=J):Xn&&"object"!==ye.iterateIn||"array"===ye.iterateIn?(kt=new Array(J.length),ur={clone:kt}):(["function","symbol"].includes(c(J))||"toJSON"in J||_(J,b)||_(J,Promise)||_(J,ArrayBuffer))&&!Mr&&"object"!==ye.iterateIn?sn=J:(kt={},ye.addLength&&(kt.length=J.length),ur={clone:kt}),bt&&bt(),M.iterateNone)return kt||sn;if(!kt)return sn;if(ye.iterateIn){var fi=function(Zn){var po={ownKeys:lt.call(J,Zn)};Mt(ye,po,function(){var Vs=ue+(ue?".":"")+Ie(Zn),oh=He(Vs,J[Zn],Boolean(we),ye,xe,Xe);_(oh,b)?xe.push([Vs,oh,Boolean(we),ye,kt,Zn,ye.type]):void 0!==oh&&(kt[Zn]=oh)})};for(var _v in J)fi(_v);bt&&bt({endIterateIn:!0,end:!0})}else qt(J).forEach(function(qo){var Zn=ue+(ue?".":"")+Ie(qo);Mt(ye,{ownKeys:!0},function(){var po=He(Zn,J[qo],Boolean(we),ye,xe,Xe);_(po,b)?xe.push([Zn,po,Boolean(we),ye,kt,qo,ye.type]):void 0!==po&&(kt[qo]=po)})}),bt&&bt({endIterateOwn:!0,end:!0});if(ye.iterateUnsetNumeric){for(var ih=J.length,sl=function(Zn){if(!(Zn in J)){var po=ue+(ue?".":"")+Zn;Mt(ye,{ownKeys:!1},function(){var Vs=He(po,void 0,Boolean(we),ye,xe,Xe);_(Vs,b)?xe.push([po,Vs,Boolean(we),ye,kt,Zn,ye.type]):void 0!==Vs&&(kt[Zn]=Vs)})}},bv=0;bv<ih;bv++)sl(bv);bt&&bt({endIterateUnsetNumeric:!0,end:!0})}return kt}function In(ue,J,we,ye,xe,Xe,Ar){for(var sn=xe?pe.plainObjectReplacers:pe.nonplainObjectReplacers,ur=sn.length;ur--;){var Gr=sn[ur];if(Gr.test(J,we)){var bt=Gr.type;if(pe.revivers[bt]){var zr=re[ue];re[ue]=zr?[bt].concat(zr):bt}return Object.assign(we,{type:bt,replaced:!0}),!X&&Gr.replaceAsync||Gr.replace?(Ar&&Ar({replacing:!0}),He(ue,Gr[X||!Gr.replaceAsync?"replace":"replaceAsync"](J,we),mt&&"readonly",we,ye,Xe,bt)):(Ar&&Ar({typeDetected:!0}),He(ue,J,mt&&"readonly",we,ye,Xe,bt))}}return J}return Qe.length?X&&M.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(q(it,Qe)).then(At):!X&&M.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():M.stringification&&X?[At(it)]:X?At(it):Promise.resolve(At(it))}},{key:"encapsulateSync",value:function(y,E,M){return this.encapsulate(y,E,g(g({throwOnBadSyncType:!0},M),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(y,E,M){return this.encapsulate(y,E,g(g({throwOnBadSyncType:!0},M),{},{sync:!1}))}},{key:"revive",value:function(y,E){var M=y&&y.$types;if(!M)return y;if(!0===M)return y.$;var q=(E=g(g({sync:!0},this.options),E)).sync,X=[],pe={},re=!0;M.$&&V(M.$)&&(y=y.$,M=M.$,re=!1);var Ee=this;function Je(At,Mt){var He=m(Ee.revivers[At]||[],1)[0];if(!He)throw new Error("Unregistered type: "+At);return q&&!("revive"in He)?Mt:He[q&&He.revive?"revive":!q&&He.reviveAsync?"reviveAsync":"revive"](Mt,pe)}var Qe=[];function mt(At){return _(At,Ot)?void 0:At}var ot,it=function(){var Mt=[];if(Object.entries(M).forEach(function(He){var In=m(He,2),ue=In[0],J=In[1];"#"!==J&&[].concat(J).forEach(function(we){m(Ee.revivers[we]||[null,{}],2)[1].plain&&(Mt.push({keypath:ue,type:we}),delete M[ue])})}),Mt.length)return Mt.sort(ai).reduce(function He(In,ue){var J=ue.keypath,we=ue.type;if(oe(In))return In.then(function(Xe){return He(Xe,{keypath:J,type:we})});var ye=$e(y,J);if(_(ye=Je(we,ye),b))return ye.then(function(Xe){var Ar=tt(y,J,Xe);Ar===Xe&&(y=Ar)});var xe=tt(y,J,ye);xe===ye&&(y=xe)},void 0)}();return _(it,b)?ot=it.then(function(){return y}):(ot=function At(Mt,He,In,ue,J){if(!re||"$types"!==Mt){var we=M[Mt],ye=Yt(He);if(ye||V(He)){var xe=ye?new Array(He.length):{};for(qt(He).forEach(function(kt){var Mr=At(Mt+(Mt?".":"")+Ie(kt),He[kt],In||xe,xe,kt),Xn=function(fi){return _(fi,Ot)?xe[kt]=void 0:void 0!==fi&&(xe[kt]=fi),fi};_(Mr,b)?Qe.push(Mr.then(function(di){return Xn(di)})):Xn(Mr)}),He=xe;X.length;){var Xe=m(X[0],4),ur=Xe[2],Gr=Xe[3],bt=$e(Xe[0],Xe[1]);if(void 0===bt)break;ur[Gr]=bt,X.splice(0,1)}}if(!we)return He;if("#"===we){var zr=$e(In,He.slice(1));return void 0===zr&&X.push([In,He.slice(1),ue,J]),zr}return[].concat(we).reduce(function kt(Mr,Xn){return _(Mr,b)?Mr.then(function(di){return kt(di,Xn)}):Je(Xn,Mr)},He)}}("",y,null),Qe.length&&(ot=b.resolve(ot).then(function(At){return b.all([At].concat(Qe))}).then(function(At){return m(At,1)[0]}))),oe(ot)?q&&E.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():_(ot,b)?ot.p.then(mt):ot:!q&&E.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():q?mt(ot):Promise.resolve(mt(ot))}},{key:"reviveSync",value:function(y,E){return this.revive(y,g(g({throwOnBadSyncType:!0},E),{},{sync:!0}))}},{key:"reviveAsync",value:function(y,E){return this.revive(y,g(g({throwOnBadSyncType:!0},E),{},{sync:!1}))}},{key:"register",value:function(y,E){return E=E||{},[].concat(y).forEach(function M(q){var X=this;if(Yt(q))return q.map(function(pe){return M.call(X,pe)});q&&qt(q).forEach(function(pe){if("#"===pe)throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(v.JSON_TYPES.includes(pe))throw new TypeError("Plain JSON object types are reserved as type names");var re=q[pe],Ee=re&&re.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,Je=Ee.filter(function(Mt){return Mt.type===pe});if(Je.length&&(Ee.splice(Ee.indexOf(Je[0]),1),delete this.revivers[pe],delete this.types[pe]),"function"==typeof re){var Qe=re;re={test:function(He){return He&&He.constructor===Qe},replace:function(He){return g({},He)},revive:function(He){return Object.assign(Object.create(Qe.prototype),He)}}}else if(Yt(re)){var mt=m(re,3);re={test:mt[0],replace:mt[1],revive:mt[2]}}if(re&&re.test){var ot={type:pe,test:re.test.bind(re)};re.replace&&(ot.replace=re.replace.bind(re)),re.replaceAsync&&(ot.replaceAsync=re.replaceAsync.bind(re));var it="number"==typeof E.fallback?E.fallback:E.fallback?0:Number.POSITIVE_INFINITY;if(re.testPlainObjects?this.plainObjectReplacers.splice(it,0,ot):this.nonplainObjectReplacers.splice(it,0,ot),re.revive||re.reviveAsync){var At={};re.revive&&(At.revive=re.revive.bind(re)),re.reviveAsync&&(At.reviveAsync=re.reviveAsync.bind(re)),this.revivers[pe]=[At,{plain:re.testPlainObjects}]}this.types[pe]=re}},this)},this),this}}],E&&d(y.prototype,E),v;var y,E}(),Ot=function v(){u(this,v)};Ot.__typeson__type__="TypesonUndefined",Ve.Undefined=Ot,Ve.Promise=b,Ve.isThenable=oe,Ve.toStringTag=S,Ve.hasConstructorOf=_,Ve.isObject=x,Ve.isPlainObject=V,Ve.isUserObject=function v(p){if(!p||"Object"!==S(p))return!1;var y=O(p);return!y||_(p,Object)||v(y)},Ve.escapeKeyPathComponent=Ie,Ve.unescapeKeyPathComponent=Z,Ve.getByKeyPath=$e,Ve.getJSONType=function(p){return null===p?"null":Array.isArray(p)?"array":c(p)},Ve.JSON_TYPES=["null","boolean","number","string","array","object"];for(var lr={userObject:{test:function(p,y){return Ve.isUserObject(p)},replace:function(p){return function(E){for(var M=1;M<arguments.length;M++){var q=null!=arguments[M]?arguments[M]:{};M%2?s(Object(q),!0).forEach(function(X){o(E,X,q[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(q)):s(Object(q)).forEach(function(X){Object.defineProperty(E,X,Object.getOwnPropertyDescriptor(q,X))})}return E}({},p)},revive:function(p){return p}}},N=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(p,y){return!!Array.isArray(p)&&(Object.keys(p).some(function(E){return String(Number.parseInt(E))!==E})&&(y.iterateIn="object",y.addLength=!0),!0)},replace:function(p,y){return y.iterateUnsetNumeric=!0,p},revive:function(p){if(Array.isArray(p))return p;var y=[];return Object.keys(p).forEach(function(E){y[E]=p[E]}),y}}},{sparseUndefined:{test:function(p,y){return void 0===p&&!1===y.ownKeys},replace:function(p){return 0},revive:function(p){}}}],B={undef:{test:function(p,y){return void 0===p&&(y.ownKeys||!("ownKeys"in y))},replace:function(p){return 0},revive:function(p){return new Ve.Undefined}}},$={StringObject:{test:function(p){return"String"===Ve.toStringTag(p)&&"object"===n(p)},replace:function(p){return String(p)},revive:function(p){return new String(p)}},BooleanObject:{test:function(p){return"Boolean"===Ve.toStringTag(p)&&"object"===n(p)},replace:function(p){return Boolean(p)},revive:function(p){return new Boolean(p)}},NumberObject:{test:function(p){return"Number"===Ve.toStringTag(p)&&"object"===n(p)},replace:function(p){return Number(p)},revive:function(p){return new Number(p)}}},H=[{nan:{test:function(p){return Number.isNaN(p)},replace:function(p){return"NaN"},revive:function(p){return Number.NaN}}},{infinity:{test:function(p){return p===Number.POSITIVE_INFINITY},replace:function(p){return"Infinity"},revive:function(p){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(p){return p===Number.NEGATIVE_INFINITY},replace:function(p){return"-Infinity"},revive:function(p){return Number.NEGATIVE_INFINITY}}}],Q={date:{test:function(p){return"Date"===Ve.toStringTag(p)},replace:function(p){var y=p.getTime();return Number.isNaN(y)?"NaN":y},revive:function(p){return"NaN"===p?new Date(Number.NaN):new Date(p)}}},Ye={regexp:{test:function(p){return"RegExp"===Ve.toStringTag(p)},replace:function(p){return{source:p.source,flags:(p.global?"g":"")+(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.sticky?"y":"")+(p.unicode?"u":"")}},revive:function(p){return new RegExp(p.source,p.flags)}}},nt={map:{test:function(p){return"Map"===Ve.toStringTag(p)},replace:function(p){return a(p.entries())},revive:function(p){return new Map(p)}}},rt={set:{test:function(p){return"Set"===Ve.toStringTag(p)},replace:function(p){return a(p.values())},revive:function(p){return new Set(p)}}},ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Sn=new Uint8Array(256),cr=0;cr<ge.length;cr++)Sn[ge.charCodeAt(cr)]=cr;var Sr=function(p,y,E){null==E&&(E=p.byteLength);for(var M=new Uint8Array(p,y||0,E),q=M.length,X="",pe=0;pe<q;pe+=3)X+=ge[M[pe]>>2],X+=ge[(3&M[pe])<<4|M[pe+1]>>4],X+=ge[(15&M[pe+1])<<2|M[pe+2]>>6],X+=ge[63&M[pe+2]];return q%3==2?X=X.slice(0,-1)+"=":q%3==1&&(X=X.slice(0,-2)+"=="),X},li=function(p){var y,E,M,q,X=p.length,pe=.75*p.length,re=0;"="===p[p.length-1]&&(pe--,"="===p[p.length-2]&&pe--);for(var Ee=new ArrayBuffer(pe),Je=new Uint8Array(Ee),Qe=0;Qe<X;Qe+=4)y=Sn[p.charCodeAt(Qe)],E=Sn[p.charCodeAt(Qe+1)],M=Sn[p.charCodeAt(Qe+2)],q=Sn[p.charCodeAt(Qe+3)],Je[re++]=y<<2|E>>4,Je[re++]=(15&E)<<4|M>>2,Je[re++]=(3&M)<<6|63&q;return Ee},ci={arraybuffer:{test:function(p){return"ArrayBuffer"===Ve.toStringTag(p)},replace:function(p,y){y.buffers||(y.buffers=[]);var E=y.buffers.indexOf(p);return E>-1?{index:E}:(y.buffers.push(p),Sr(p))},revive:function(p,y){if(y.buffers||(y.buffers=[]),"object"===n(p))return y.buffers[p.index];var E=li(p);return y.buffers.push(E),E}}},ho=typeof self>"u"?sv:self,Ir={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(v){var p=v,y=ho[p];y&&(Ir[v.toLowerCase()]={test:function(M){return Ve.toStringTag(M)===p},replace:function(M,q){var X=M.buffer,pe=M.byteOffset,re=M.length;q.buffers||(q.buffers=[]);var Ee=q.buffers.indexOf(X);return Ee>-1?{index:Ee,byteOffset:pe,length:re}:(q.buffers.push(X),{encoded:Sr(X),byteOffset:pe,length:re})},revive:function(M,q){q.buffers||(q.buffers=[]);var X,pe=M.byteOffset,re=M.length;return"index"in M?X=q.buffers[M.index]:(X=li(M.encoded),q.buffers.push(X)),new y(X,pe,re)}})});var ui={dataview:{test:function(p){return"DataView"===Ve.toStringTag(p)},replace:function(p,y){var E=p.buffer,M=p.byteOffset,q=p.byteLength;y.buffers||(y.buffers=[]);var X=y.buffers.indexOf(E);return X>-1?{index:X,byteOffset:M,byteLength:q}:(y.buffers.push(E),{encoded:Sr(E),byteOffset:M,byteLength:q})},revive:function(p,y){y.buffers||(y.buffers=[]);var E,M=p.byteOffset,q=p.byteLength;return"index"in p?E=y.buffers[p.index]:(E=li(p.encoded),y.buffers.push(E)),new DataView(E,M,q)}}},rn={IntlCollator:{test:function(p){return Ve.hasConstructorOf(p,Intl.Collator)},replace:function(p){return p.resolvedOptions()},revive:function(p){return new Intl.Collator(p.locale,p)}},IntlDateTimeFormat:{test:function(p){return Ve.hasConstructorOf(p,Intl.DateTimeFormat)},replace:function(p){return p.resolvedOptions()},revive:function(p){return new Intl.DateTimeFormat(p.locale,p)}},IntlNumberFormat:{test:function(p){return Ve.hasConstructorOf(p,Intl.NumberFormat)},replace:function(p){return p.resolvedOptions()},revive:function(p){return new Intl.NumberFormat(p.locale,p)}}};function vt(v){for(var p=new Uint8Array(v.length),y=0;y<v.length;y++)p[y]=v.charCodeAt(y);return p.buffer}var pt={file:{test:function(p){return"File"===Ve.toStringTag(p)},replace:function(p){var y=new XMLHttpRequest;if(y.overrideMimeType("text/plain; charset=x-user-defined"),y.open("GET",URL.createObjectURL(p),!1),y.send(),200!==y.status&&0!==y.status)throw new Error("Bad File access: "+y.status);return{type:p.type,stringContents:y.responseText,name:p.name,lastModified:p.lastModified}},revive:function(p){var y=p.name,E=p.type,q=p.lastModified;return new File([vt(p.stringContents)],y,{type:E,lastModified:q})},replaceAsync:function(p){return new Ve.Promise(function(y,E){var M=new FileReader;M.addEventListener("load",function(){y({type:p.type,stringContents:M.result,name:p.name,lastModified:p.lastModified})}),M.addEventListener("error",function(){E(M.error)}),M.readAsBinaryString(p)})}}},_t={bigint:{test:function(p){return"bigint"==typeof p},replace:function(p){return String(p)},revive:function(p){return BigInt(p)}}},on={bigintObject:{test:function(p){return"object"===n(p)&&Ve.hasConstructorOf(p,BigInt)},replace:function(p){return String(p)},revive:function(p){return new Object(BigInt(p))}}},fe={cryptokey:{test:function(p){return"CryptoKey"===Ve.toStringTag(p)&&p.extractable},replaceAsync:function(p){return new Ve.Promise(function(y,E){crypto.subtle.exportKey("jwk",p).catch(function(M){E(M)}).then(function(M){y({jwk:M,algorithm:p.algorithm,usages:p.usages})})})},revive:function(p){return crypto.subtle.importKey("jwk",p.jwk,p.algorithm,!0,p.usages)}}};return[lr,B,N,$,H,Q,Ye,{imagedata:{test:function(p){return"ImageData"===Ve.toStringTag(p)},replace:function(p){return{array:a(p.data),width:p.width,height:p.height}},revive:function(p){return new ImageData(new Uint8ClampedArray(p.array),p.width,p.height)}}},{imagebitmap:{test:function(p){return"ImageBitmap"===Ve.toStringTag(p)||p&&p.dataset&&"ImageBitmap"===p.dataset.toStringTag},replace:function(p){var y=document.createElement("canvas");return y.getContext("2d").drawImage(p,0,0),y.toDataURL()},revive:function(p){var y=document.createElement("canvas"),E=y.getContext("2d"),M=document.createElement("img");return M.addEventListener("load",function(){E.drawImage(M,0,0)}),M.src=p,y},reviveAsync:function(p){var y=document.createElement("canvas"),E=y.getContext("2d"),M=document.createElement("img");return M.addEventListener("load",function(){E.drawImage(M,0,0)}),M.src=p,createImageBitmap(y)}}},pt,{file:pt.file,filelist:{test:function(p){return"FileList"===Ve.toStringTag(p)},replace:function(p){for(var y=[],E=0;E<p.length;E++)y[E]=p.item(E);return y},revive:function(p){return new(function(){function y(){r(this,y),this._files=arguments[0],this.length=this._files.length}return M=y,q=[{key:"item",value:function(M){return this._files[M]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}],q&&i(M.prototype,q),y;var M,q}())(p)}}},{blob:{test:function(p){return"Blob"===Ve.toStringTag(p)},replace:function(p){var y=new XMLHttpRequest;if(y.overrideMimeType("text/plain; charset=x-user-defined"),y.open("GET",URL.createObjectURL(p),!1),y.send(),200!==y.status&&0!==y.status)throw new Error("Bad Blob access: "+y.status);return{type:p.type,stringContents:y.responseText}},revive:function(p){var y=p.type;return new Blob([vt(p.stringContents)],{type:y})},replaceAsync:function(p){return new Ve.Promise(function(y,E){var M=new FileReader;M.addEventListener("load",function(){y({type:p.type,stringContents:M.result})}),M.addEventListener("error",function(){E(M.error)}),M.readAsBinaryString(p)})}}}].concat("function"==typeof Map?nt:[],"function"==typeof Set?rt:[],"function"==typeof ArrayBuffer?ci:[],"function"==typeof Uint8Array?Ir:[],"function"==typeof DataView?ui:[],typeof Intl<"u"?rn:[],typeof crypto<"u"?fe:[],typeof BigInt<"u"?[_t,on]:[])}()}),el="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zc=new Uint8Array(256),eh=0;eh<el.length;eh++)Zc[el.codePointAt(eh)]=eh;var lv=function(t,n,r){null==r&&(r=t.byteLength);for(var i=new Uint8Array(t,n||0,r),o=i.length,s="",a=0;a<o;a+=3)s+=el[i[a]>>2],s+=el[(3&i[a])<<4|i[a+1]>>4],s+=el[(15&i[a+1])<<2|i[a+2]>>6],s+=el[63&i[a+2]];return o%3==2?s=s.slice(0,-1)+"=":o%3==1&&(s=s.slice(0,-2)+"=="),s},aA=function(t){var o,s,a,l,n=t.length,r=.75*t.length,i=0;"="===t[t.length-1]&&(r--,"="===t[t.length-2]&&r--);for(var c=new ArrayBuffer(r),u=new Uint8Array(c),d=0;d<n;d+=4)o=Zc[t.codePointAt(d)],s=Zc[t.codePointAt(d+1)],a=Zc[t.codePointAt(d+2)],l=Zc[t.codePointAt(d+3)],u[i++]=o<<2|s>>4,u[i++]=(15&s)<<4|a>>2,u[i++]=(3&a)<<6|63&l;return c},u$=typeof self>"u"?global:self,lA={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(e){var t=e,n=u$[t];n&&(lA[e.toLowerCase()+"2"]={test:function(r){return Zf.toStringTag(r)===t},replace:function(r){return{buffer:r.buffer,byteOffset:r.byteOffset,length:r.length}},revive:function(r){return new n(r.buffer,r.byteOffset,r.length)}})});var d$={arraybuffer:{test:function(e){return"ArrayBuffer"===Zf.toStringTag(e)},replace:function(e){return lv(e,0,e.byteLength)},revive:function(e){return aA(e)}}},Hr=(new Zf).register(c$),f$="FileReaderSync"in self,th=[],nh=0;Hr.register([d$,lA,{blob2:{test:function(e){return"Blob"===Zf.toStringTag(e)},replace:function(e){if(e.isClosed)throw new Error("The Blob is closed");if(f$){var t=sA(e,"binary"),n=lv(t,0,t.byteLength);return{type:e.type,data:n}}th.push(e);var r={type:e.type,data:{start:nh,end:nh+e.size}};return nh+=e.size,r},finalize:function(e,t){e.data=lv(t,0,t.byteLength)},revive:function(e){var t=e.type;return new Blob([aA(e.data)],{type:t})}}}]),Hr.mustFinalize=function(){return th.length>0},Hr.finalize=function(e){return uo(void 0,void 0,void 0,function(){var t,n,r,i,o,s,a,c,u,d,f;return $r(this,function(h){switch(h.label){case 0:return[4,oA(new Blob(th),"binary")];case 1:if(t=h.sent(),e)for(n=0,r=e;n<r.length;n++)if((i=r[n]).$types)for(a in(s=(o=i.$types).$)&&(o=o.$),o)(c=Hr.types[o[a]])&&c.finalize&&(u=$t.getByKeyPath(i,s?"$."+a:a),c.finalize(u,t.slice(null===(d=u.data)||void 0===d?void 0:d.start,null===(f=u.data)||void 0===f?void 0:f.end)));return th=[],nh=0,[2]}})})};var m$_Stream=function(){},y$=av(function(e,t){!function(n){var r="object"==typeof process&&process.env?process.env:self;n.parser=function(S){return new h(S)},n.CParser=h,n.CStream=m,n.createStream=function g(S){return new m(S)},n.MAX_BUFFER_LENGTH=10485760,n.DEBUG="debug"===r.CDEBUG,n.INFO="debug"===r.CDEBUG||"info"===r.CDEBUG,n.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var a,i={textNode:void 0,numberNode:""},o=n.EVENTS.filter(function(S){return"error"!==S&&"end"!==S}),s=0;for(var l in n.STATE={BEGIN:s++,VALUE:s++,OPEN_OBJECT:s++,CLOSE_OBJECT:s++,OPEN_ARRAY:s++,CLOSE_ARRAY:s++,TEXT_ESCAPE:s++,STRING:s++,BACKSLASH:s++,END:s++,OPEN_KEY:s++,CLOSE_KEY:s++,TRUE:s++,TRUE2:s++,TRUE3:s++,FALSE:s++,FALSE2:s++,FALSE3:s++,FALSE4:s++,NULL:s++,NULL2:s++,NULL3:s++,NUMBER_DECIMAL_POINT:s++,NUMBER_DIGIT:s++},n.STATE)n.STATE[n.STATE[l]]=l;s=n.STATE;function d(S){for(var _ in i)S[_]=i[_]}Object.create||(Object.create=function(S){function _(){this.__proto__=S}return _.prototype=S,new _}),Object.getPrototypeOf||(Object.getPrototypeOf=function(S){return S.__proto__}),Object.keys||(Object.keys=function(S){var _=[];for(var V in S)S.hasOwnProperty(V)&&_.push(V);return _});var f=/[\\"\n]/g;function h(S){if(!(this instanceof h))return new h(S);var _=this;d(_),_.bufferCheckPosition=n.MAX_BUFFER_LENGTH,_.q=_.c=_.p="",_.opt=S||{},_.closed=_.closedRoot=_.sawRoot=!1,_.tag=_.error=null,_.state=s.BEGIN,_.stack=new Array,_.position=_.column=0,_.line=1,_.slashed=!1,_.unicodeI=0,_.unicodeS=null,_.depth=0,D(_,"onready")}h.prototype={end:function(){O(this)},write:function oe(S){var _=this;if(this.error)throw this.error;if(_.closed)return P(_,"Cannot write after close. Assign an onready handler.");if(null===S)return O(_);var V=0,x=S.charCodeAt(0),Ie=_.p;for(n.DEBUG&&console.log("write -> ["+S+"]");x&&(Ie=x,_.c=x=S.charCodeAt(V++),Ie!==x?_.p=Ie:Ie=_.p,x);)switch(n.DEBUG&&console.log(V,x,n.STATE[_.state]),_.position++,10===x?(_.line++,_.column=0):_.column++,_.state){case s.BEGIN:123===x?_.state=s.OPEN_OBJECT:91===x?_.state=s.OPEN_ARRAY:j(x)||P(_,"Non-whitespace before {[.");continue;case s.OPEN_KEY:case s.OPEN_OBJECT:if(j(x))continue;if(_.state===s.OPEN_KEY)_.stack.push(s.CLOSE_KEY);else{if(125===x){D(_,"onopenobject"),this.depth++,D(_,"oncloseobject"),this.depth--,_.state=_.stack.pop()||s.VALUE;continue}_.stack.push(s.CLOSE_OBJECT)}34===x?_.state=s.STRING:P(_,'Malformed object key should start with "');continue;case s.CLOSE_KEY:case s.CLOSE_OBJECT:if(j(x))continue;58===x?(_.state===s.CLOSE_OBJECT?(_.stack.push(s.CLOSE_OBJECT),C(_,"onopenobject"),this.depth++):C(_,"onkey"),_.state=s.VALUE):125===x?(w(_,"oncloseobject"),this.depth--,_.state=_.stack.pop()||s.VALUE):44===x?(_.state===s.CLOSE_OBJECT&&_.stack.push(s.CLOSE_OBJECT),C(_),_.state=s.OPEN_KEY):P(_,"Bad object");continue;case s.OPEN_ARRAY:case s.VALUE:if(j(x))continue;if(_.state===s.OPEN_ARRAY){if(D(_,"onopenarray"),this.depth++,_.state=s.VALUE,93===x){D(_,"onclosearray"),this.depth--,_.state=_.stack.pop()||s.VALUE;continue}_.stack.push(s.CLOSE_ARRAY)}34===x?_.state=s.STRING:123===x?_.state=s.OPEN_OBJECT:91===x?_.state=s.OPEN_ARRAY:116===x?_.state=s.TRUE:102===x?_.state=s.FALSE:110===x?_.state=s.NULL:45===x?_.numberNode+="-":48<=x&&x<=57?(_.numberNode+=String.fromCharCode(x),_.state=s.NUMBER_DIGIT):P(_,"Bad value");continue;case s.CLOSE_ARRAY:if(44===x)_.stack.push(s.CLOSE_ARRAY),C(_,"onvalue"),_.state=s.VALUE;else if(93===x)w(_,"onclosearray"),this.depth--,_.state=_.stack.pop()||s.VALUE;else{if(j(x))continue;P(_,"Bad array")}continue;case s.STRING:void 0===_.textNode&&(_.textNode="");var Z=V-1,$e=_.slashed,tt=_.unicodeI;e:for(;;){for(n.DEBUG&&console.log(V,x,n.STATE[_.state],$e);tt>0;)if(_.unicodeS+=String.fromCharCode(x),x=S.charCodeAt(V++),_.position++,4===tt?(_.textNode+=String.fromCharCode(parseInt(_.unicodeS,16)),tt=0,Z=V-1):tt++,!x)break e;if(34===x&&!$e){_.state=_.stack.pop()||s.VALUE,_.textNode+=S.substring(Z,V-1),_.position+=V-1-Z;break}if(92===x&&!$e&&($e=!0,_.textNode+=S.substring(Z,V-1),_.position+=V-1-Z,x=S.charCodeAt(V++),_.position++,!x))break;if($e){if($e=!1,110===x?_.textNode+="\n":114===x?_.textNode+="\r":116===x?_.textNode+="\t":102===x?_.textNode+="\f":98===x?_.textNode+="\b":117===x?(tt=1,_.unicodeS=""):_.textNode+=String.fromCharCode(x),x=S.charCodeAt(V++),_.position++,Z=V-1,x)continue;break}f.lastIndex=V;var Ze=f.exec(S);if(null===Ze){_.textNode+=S.substring(Z,(V=S.length+1)-1),_.position+=V-1-Z;break}if(V=Ze.index+1,!(x=S.charCodeAt(Ze.index))){_.textNode+=S.substring(Z,V-1),_.position+=V-1-Z;break}}_.slashed=$e,_.unicodeI=tt;continue;case s.TRUE:114===x?_.state=s.TRUE2:P(_,"Invalid true started with t"+x);continue;case s.TRUE2:117===x?_.state=s.TRUE3:P(_,"Invalid true started with tr"+x);continue;case s.TRUE3:101===x?(D(_,"onvalue",!0),_.state=_.stack.pop()||s.VALUE):P(_,"Invalid true started with tru"+x);continue;case s.FALSE:97===x?_.state=s.FALSE2:P(_,"Invalid false started with f"+x);continue;case s.FALSE2:108===x?_.state=s.FALSE3:P(_,"Invalid false started with fa"+x);continue;case s.FALSE3:115===x?_.state=s.FALSE4:P(_,"Invalid false started with fal"+x);continue;case s.FALSE4:101===x?(D(_,"onvalue",!1),_.state=_.stack.pop()||s.VALUE):P(_,"Invalid false started with fals"+x);continue;case s.NULL:117===x?_.state=s.NULL2:P(_,"Invalid null started with n"+x);continue;case s.NULL2:108===x?_.state=s.NULL3:P(_,"Invalid null started with nu"+x);continue;case s.NULL3:108===x?(D(_,"onvalue",null),_.state=_.stack.pop()||s.VALUE):P(_,"Invalid null started with nul"+x);continue;case s.NUMBER_DECIMAL_POINT:46===x?(_.numberNode+=".",_.state=s.NUMBER_DIGIT):P(_,"Leading zero not followed by .");continue;case s.NUMBER_DIGIT:48<=x&&x<=57?_.numberNode+=String.fromCharCode(x):46===x?(-1!==_.numberNode.indexOf(".")&&P(_,"Invalid number has two dots"),_.numberNode+="."):101===x||69===x?((-1!==_.numberNode.indexOf("e")||-1!==_.numberNode.indexOf("E"))&&P(_,"Invalid number has two exponential"),_.numberNode+="e"):43===x||45===x?(101===Ie||69===Ie||P(_,"Invalid symbol in number"),_.numberNode+=String.fromCharCode(x)):(b(_),V--,_.state=_.stack.pop()||s.VALUE);continue;default:P(_,"Unknown state: "+_.state)}return _.position>=_.bufferCheckPosition&&function u(S){var _=Math.max(n.MAX_BUFFER_LENGTH,10),V=0;for(var x in i){var Ie=void 0===S[x]?0:S[x].length;Ie>_&&("text"===x?closeText(S):P(S,"Max buffer length exceeded: "+x)),V=Math.max(V,Ie)}S.bufferCheckPosition=n.MAX_BUFFER_LENGTH-V+S.position}(_),_},resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{a=m$_Stream}catch{a=function(){}}function m(S){if(!(this instanceof m))return new m(S);this._parser=new h(S),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var _=this;a.apply(_),this._parser.onend=function(){_.emit("end")},this._parser.onerror=function(V){_.emit("error",V),_._parser.error=null},o.forEach(function(V){Object.defineProperty(_,"on"+V,{get:function(){return _._parser["on"+V]},set:function(x){if(!x)return _.removeAllListeners(V),_._parser["on"+V]=x,x;_.on(V,x)},enumerable:!0,configurable:!1})})}function D(S,_,V){n.INFO&&console.log("-- emit",_,V),S[_]&&S[_](V)}function w(S,_,V){C(S),D(S,_,V)}function C(S,_){S.textNode=function k(S,_){return void 0===_||(S.trim&&(_=_.trim()),S.normalize&&(_=_.replace(/\s+/g," "))),_}(S.opt,S.textNode),void 0!==S.textNode&&D(S,_||"onvalue",S.textNode),S.textNode=void 0}function b(S){S.numberNode&&D(S,"onvalue",parseFloat(S.numberNode)),S.numberNode=""}function P(S,_){return C(S),_+="\nLine: "+S.line+"\nColumn: "+S.column+"\nChar: "+S.c,_=new Error(_),S.error=_,D(S,"onerror",_),S}function O(S){return(S.state!==s.VALUE||0!==S.depth)&&P(S,"Unexpected end"),C(S),S.c="",S.closed=!0,D(S,"onend"),h.call(S,S.opt),S}function j(S){return 13===S||10===S||32===S||9===S}(m.prototype=Object.create(a.prototype,{constructor:{value:m}})).write=function(S){S=new Buffer(S);for(var _=0;_<S.length;_++){var V=S[_];if(this.bytes_remaining>0){for(var x=0;x<this.bytes_remaining;x++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+x]=S[x];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,_=_+x-1,this._parser.write(this.string),this.emit("data",this.string)}else if(0===this.bytes_remaining&&V>=128){if(V>=194&&V<=223&&(this.bytes_in_sequence=2),V>=224&&V<=239&&(this.bytes_in_sequence=3),V>=240&&V<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+_>S.length){for(var Ie=0;Ie<=S.length-1-_;Ie++)this.temp_buffs[this.bytes_in_sequence][Ie]=S[_+Ie];return this.bytes_remaining=_+this.bytes_in_sequence-S.length,!0}this.string=S.slice(_,_+this.bytes_in_sequence).toString(),_=_+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string)}else{for(var Z=_;Z<S.length&&!(S[Z]>=128);Z++);this.string=S.slice(_,Z).toString(),this._parser.write(this.string),this.emit("data",this.string),_=Z-1}}},m.prototype.end=function(S){return S&&S.length&&this._parser.write(S.toString()),this._parser.end(),!0},m.prototype.on=function(S,_){var V=this;return!V._parser["on"+S]&&-1!==o.indexOf(S)&&(V._parser["on"+S]=function(){var x=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);x.splice(0,0,S),V.emit.apply(V,x)}),a.prototype.on.call(V,S,_)},m.prototype.destroy=function(){d(this._parser),this.emit("close")}}(t)});function cA(e){var t=0,n=function v$(e){var r,o,s,t=y$.parser(),n=0,i=[],a=!1,l=!1;return t.onopenobject=function(c){var u={incomplete:!0};r||(r=u),o&&(i.push([s,o,l]),e&&(l?o.push(u):o[s]=u)),o=u,s=c,l=!1,++n},t.onkey=function(c){return s=c},t.onvalue=function(c){return l?o.push(c):o[s]=c},t.oncloseobject=function(){var c;if(delete o.incomplete,s=null,0==--n)a=!0;else{var u=o;c=i.pop(),s=c[0],o=c[1],l=c[2],e||(l?o.push(u):o[s]=u)}},t.onopenarray=function(){var c=[];c.incomplete=!0,r||(r=c),o&&(i.push([s,o,l]),e&&(l?o.push(c):o[s]=c)),o=c,l=!0,s=null,++n},t.onclosearray=function(){var c;if(delete o.incomplete,s=null,0==--n)a=!0;else{var u=o;c=i.pop(),s=c[0],o=c[1],l=c[2],e||(l?o.push(u):o[s]=u)}},{write:function(c){return t.write(c),r},done:function(){return a}}}(!0),r={pullAsync:function(i){return uo(this,void 0,void 0,function(){var o,s,a;return $r(this,function(l){switch(l.label){case 0:return o=e.slice(t,t+i),t+=i,[4,oA(o,"text")];case 1:return s=l.sent(),a=n.write(s),r.result=a||{},[2,a]}})})},pullSync:function(i){var o=e.slice(t,t+i);t+=i;var s=sA(o,"text"),a=n.write(s);return r.result=a||{},a},done:function(){return n.done()},eof:function(){return t>=e.size},result:{}};return r}function dA(e,t,n){return uo(this,void 0,void 0,function(){function r(){return uo(this,void 0,void 0,function(){var m,D,w;return $r(this,function(k){switch(k.label){case 0:m=function(P){var O,j,oe,S,_,V,x,Ie,Z,$e,tt,Ze,qt;return $r(this,function(Yt){switch(Yt.label){case 0:if(c.includes(P.tableName))return[2,"continue"];if(!P.rows)return[2,"break"];if(!P.rows.incomplete&&0===P.rows.length)return[2,"continue"];if(u&&$t.ignoreTransaction(function(){return u(d)}),j=e.table(O=P.tableName),oe=l.tables.filter(function(lt){return lt.name===O})[0].schema,!j){if(n.acceptMissingTables)return[2,"continue"];throw new Error("Exported table ".concat(P.tableName," is missing in installed database"))}if(!n.acceptChangedPrimaryKey&&oe.split(",")[0]!=j.schema.primKey.src)throw new Error("Primary key differs for table ".concat(P.tableName,". "));for(S=P.rows,_=[],V=0;V<S.length&&!(x=S[V]).incomplete;V++)_.push(Hr.revive(x));return Z=n.transform,$e=(Ie=n.filter)?_.filter(P.inbound?function(lt){return Ie(O,lt)}:function(lt){return Ie(O,lt[1],lt[0])}):_,Z&&($e=$e.map(P.inbound?function(lt){return Z(O,lt).value}:function(lt){var ai=Z(O,lt[1],lt[0]);return[ai.key,ai.value]})),tt=P.inbound?[void 0,$e]:[$e.map(function(lt){return lt[0]}),_.map(function(lt){return lt[1]})],Ze=tt[0],qt=tt[1],n.overwriteValues?[4,j.bulkPut(qt,Ze)]:[3,2];case 1:return Yt.sent(),[3,4];case 2:return[4,j.bulkAdd(qt,Ze)];case 3:Yt.sent(),Yt.label=4;case 4:return d.completedRows+=_.length,_.incomplete||(d.completedTables+=1),S.splice(0,_.length),[2]}})},D=0,w=l.data,k.label=1;case 1:return D<w.length?[5,m(w[D])]:[3,4];case 2:if("break"===k.sent())return[3,4];k.label=3;case 3:return D++,[3,1];case 4:for(;l.data.length>0&&l.data[0].rows&&!l.data[0].rows.incomplete;)l.data.splice(0,1);return o.done()||o.eof()?[3,8]:a?(o.pullSync(i),[3,7]):[3,5];case 5:return[4,$t.waitFor(o.pullAsync(i))];case 6:k.sent(),k.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var i,o,a,l,c,u,d,f,h,g;return $r(this,function(m){switch(m.label){case 0:return[4,fA(t,i=(n=n||{}).chunkSizeBytes||1048576)];case 1:if(o=m.sent(),a="FileReaderSync"in self,l=o.result.data,c=n.skipTables?n.skipTables:[],!n.acceptNameDiff&&e.name!==l.databaseName)throw new Error("Name differs. Current database name is ".concat(e.name," but export is ").concat(l.databaseName));if(!n.acceptVersionDiff&&e.verno!==l.databaseVersion)throw new Error("Database version differs. Current database is in version ".concat(e.verno," but export is ").concat(l.databaseVersion));if(u=n.progressCallback,d={done:!1,completedRows:0,completedTables:0,totalRows:l.tables.reduce(function(D,w){return D+w.rowCount},0),totalTables:l.tables.length},u&&$t.ignoreTransaction(function(){return u(d)}),!n.clearTablesBeforeImport)return[3,5];f=0,h=e.tables,m.label=2;case 2:return f<h.length?c.includes((g=h[f]).name)?[3,4]:[4,g.clear()]:[3,5];case 3:m.sent(),m.label=4;case 4:return f++,[3,2];case 5:return n.noTransaction?[4,r()]:[3,7];case 6:return m.sent(),[3,9];case 7:return[4,e.transaction("rw",e.tables,r)];case 8:m.sent(),m.label=9;case 9:return d.done=!0,u&&$t.ignoreTransaction(function(){return u(d)}),[2]}})})}function fA(e,t){return uo(this,void 0,void 0,function(){var n,r;return $r(this,function(i){switch(i.label){case 0:n="slice"in e?cA(e):e,i.label=1;case 1:return n.eof()?[3,3]:[4,n.pullAsync(t)];case 2:return i.sent(),n.result.data&&n.result.data.data?[3,3]:[3,1];case 3:if(!(r=n.result)||"dexie"!=r.formatName)throw new Error("Given file is not a dexie export");if(r.formatVersion>1)throw new Error("Format version ".concat(r.formatVersion," not supported"));if(!r.data)throw new Error("No data in export file");if(!r.data.databaseName)throw new Error("Missing databaseName in export file");if(!r.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!r.data.tables)throw new Error("Missing tables in export file");return[2,n]}})})}$t.prototype.export=function(e){return function p$(e,t){return uo(this,void 0,void 0,function(){function n(){return uo(this,void 0,void 0,function(){var d,f,h,g,m,D,w,C,b;return $r(this,function(P){switch(P.label){case 0:return[4,Promise.all(i.map(function(O){return O.count()}))];case 1:(d=P.sent()).forEach(function(O,j){return s[j].rowCount=O}),u.totalRows=d.reduce(function(O,j){return O+j}),f=JSON.stringify(l,void 0,a?2:void 0),h=f.lastIndexOf("]"),g=f.substring(0,h),o.push(g),m=t.filter,D=t.transform,w=function(O){var j,oe,S,_,x,Ie,Z,$e,tt,Ze;return $r(this,function(Yt){switch(Yt.label){case 0:j=e.table(O),S=!!(oe=j.schema.primKey).keyPath,_=t.numRowsPerChunk||2e3,x=JSON.stringify(S?{tableName:j.name,inbound:!0,rows:[]}:{tableName:j.name,inbound:!1,rows:[]},void 0,a?2:void 0),a&&(x=x.split("\n").join("\n    ")),Ie=x.lastIndexOf("]"),o.push(x.substring(0,Ie)),Z=null,$e=0,tt=!0,Ze=function(){var lt,Gt,ar,ai,Ve,Ot,lr,N,B;return $r(this,function($){switch($.label){case 0:return c&&$t.ignoreTransaction(function(){return c(u)}),[4,(lt=null==Z?j.limit(_):j.where(":id").above(Z).limit(_)).toArray()];case 1:return 0===(Gt=$.sent()).length?[2,"break"]:(null!=Z&&$e>0&&(o.push(","),a&&o.push("\n      ")),tt=Gt.length===_,S?(ar=m?Gt.filter(function(H){return m(O,H)}):Gt,ai=D?ar.map(function(H){return D(O,H).value}):ar,Ve=ai.map(function(H){return Hr.encapsulate(H)}),Hr.mustFinalize()?[4,$t.waitFor(Hr.finalize(Ve))]:[3,3]):[3,4]);case 2:$.sent(),$.label=3;case 3:return B=JSON.stringify(Ve,void 0,a?2:void 0),a&&(B=B.split("\n").join("\n      ")),o.push(new Blob([B.substring(1,B.length-1)])),$e=ai.length,Z=Gt.length>0?$t.getByKeyPath(Gt[Gt.length-1],oe.keyPath):null,[3,8];case 4:return[4,lt.primaryKeys()];case 5:return Ot=$.sent(),lr=Ot.map(function(H,Q){return[H,Gt[Q]]}),m&&(lr=lr.filter(function(H){return m(O,H[1],H[0])})),D&&(lr=lr.map(function(H){var nt=D(O,H[1],H[0]);return[nt.key,nt.value]})),N=lr.map(function(H){return Hr.encapsulate(H)}),Hr.mustFinalize()?[4,$t.waitFor(Hr.finalize(N))]:[3,7];case 6:$.sent(),$.label=7;case 7:B=JSON.stringify(N,void 0,a?2:void 0),a&&(B=B.split("\n").join("\n      ")),o.push(new Blob([B.substring(1,B.length-1)])),$e=lr.length,Z=Ot.length>0?Ot[Ot.length-1]:null,$.label=8;case 8:return u.completedRows+=Gt.length,[2]}})},Yt.label=1;case 1:return tt?[5,Ze()]:[3,3];case 2:return"break"===Yt.sent()?[3,3]:[3,1];case 3:return o.push(x.substr(Ie)),u.completedTables+=1,u.completedTables<u.totalTables&&o.push(","),[2]}})},C=0,b=s,P.label=2;case 2:return C<b.length?[5,w(b[C].name)]:[3,5];case 3:P.sent(),P.label=4;case 4:return C++,[3,2];case 5:return o.push(f.substr(h)),u.done=!0,c&&$t.ignoreTransaction(function(){return c(u)}),[2]}})})}var r,i,o,s,a,l,c,u;return $r(this,function(d){switch(d.label){case 0:r=(t=t||{}).skipTables?t.skipTables:[],i=e.tables.filter(function(f){return!r.includes(f.name)}),o=[],s=i.map(function(f){return{name:f.name,schema:a$(f),rowCount:0}}),a=t.prettyJson,l={formatName:"dexie",formatVersion:1,data:{databaseName:e.name,databaseVersion:e.verno,tables:s,data:[]}},c=t.progressCallback,u={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:s.length},d.label=1;case 1:return d.trys.push([1,,6,7]),t.noTransaction?[4,n()]:[3,3];case 2:return d.sent(),[3,5];case 3:return[4,e.transaction("r",e.tables,n)];case 4:d.sent(),d.label=5;case 5:return[3,7];case 6:return Hr.finalize(),[7];case 7:return[2,new Blob(o,{type:"text/json"})]}})})}(this,e)},$t.prototype.import=function(e,t){return dA(this,e,t)},$t.import=function(e,t){return function _$(e,t){return uo(this,void 0,void 0,function(){var r,i,o;return $r(this,function(s){switch(s.label){case 0:return[4,fA(e,(t=t||{}).chunkSizeBytes||1048576)];case 1:return r=s.sent(),i=r.result.data,(o=new $t(void 0!==t.name?t.name:i.databaseName)).version(i.databaseVersion).stores(function l$(e){for(var t={},n=0,r=e.tables;n<r.length;n++){var i=r[n];t[i.name]=i.schema}return t}(i)),[4,dA(o,r,void 0!==t.name?Xf(Xf({},t),{acceptNameDiff:!0}):t)];case 2:return s.sent(),[2,o]}})})}(e,t)};const zo="Sorry, there was an error",Ko="Please try again";class ki{constructor(){this._toasts=[]}addToast(t,n=4e3){var r=this;return xt(function*(){const i=r._toasts.length;r._toasts.push({id:i,message:t}),yield new Promise(s=>setTimeout(s,n)),r.removeToast(i)})()}getToasts(){return this._toasts}removeToast(t){this._toasts=this._toasts.filter(n=>n.id!=t)}}ki.\u0275fac=function(t){return new(t||ki)},ki.\u0275prov=he({token:ki,factory:ki.\u0275fac,providedIn:"root"});const D$=["addAPIKeyDialog"],C$=["apiKeyInput"],E$=["deleteAPIKeyDialog"],S$=["deleteLibraryDialog"],I$=["importLibraryDialog"],A$=["libraryFileInput"],M$=["lightThemeCheckbox"];function T$(e,t){1&e&&Oe(0,"p",53),2&e&&R("innerHTML",Y().apiKeyMsg,yp)}function x$(e,t){if(1&e&&(I(0,"em"),L(1),A()),2&e){const n=Y();T(1),Ke(" ",n.apiKey," ")}}function P$(e,t){1&e&&(I(0,"span"),L(1," No API key saved "),A())}function O$(e,t){1&e&&(Xt(0),L(1," Edit API key "),Zt())}function k$(e,t){1&e&&(Xt(0),L(1," Add API key "),Zt())}function R$(e,t){if(1&e){const n=_n();I(0,"button",19),ae("click",function(){return Rt(n),Nt(Y().deleteAPIKeyDialogEl.showModal())}),L(1," Delete API key "),A()}}function N$(e,t){if(1&e&&(I(0,"p",54),L(1),A()),2&e){const n=Y();T(1),Ke(" ",n.addAPIKeyError," ")}}const hA='Watchy is in demo mode, so you can only search for movies and TV shows from the Marvel Cinematic Universe. To search for other movies and TV shows you\'ll need to get a <a href="https://developer.themoviedb.org/reference/intro/getting-started" target="_blank">TMDB API key</a> and add it to Watchy\'s settings.',cv="light-theme",pA="lightTheme",F$=`${zo} adding this API key. ${Ko}.`,V$=`${zo} deleting the library. ${Ko}.`,B$=`${zo} exporting the library. ${Ko}.`,U$=`${zo} importing the library. ${Ko}.`,uv="The library is not compatible.";class eu{get apiKey(){return this.tmdbs.apiKey}get addAPIKeyDialogEl(){return this.addAPIKeyDialog.nativeElement}get apiKeyInputEl(){return this.apiKeyInput?.nativeElement}get deleteAPIKeyDialogEl(){return this.deleteAPIKeyDialog.nativeElement}get deleteLibraryDialogEl(){return this.deleteLibraryDialog.nativeElement}get importLibraryDialogEl(){return this.importLibraryDialog.nativeElement}get libraryFileInputEl(){return this.libraryFileInput?.nativeElement}constructor(t,n){this.tmdbs=t,this.ts=n,this.addAPIKeyError=null,this.apiKeyMsg=hA,this.appName=Ri,this.canSubmit=!1,this.dropAreaActive=!1,this.libraryFileToImport=null,this.lightTheme=document.body.classList.contains(cv)}apiKeySubmitHandler(){this.tmdbs.updateAPIKey(this.apiKeyInputEl.value).pipe(Wt(t=>{this.addAPIKeyError=null,this.addAPIKeyDialogEl.close()}),Yn(t=>{const n=t==rA;return this.addAPIKeyError=n?"The API key provided is invalid.":F$,n||console.error(t),ne(null)})).subscribe(()=>this.canSubmit=!1)}addAPIKeyInputHandler(){this.canSubmit=this.apiKeyInputEl.value!=this.apiKey}colorThemeChangeHandler(){localStorage.setItem(pA,this.lightTheme?"true":"false"),document.body.classList.toggle(cv)}deleteAPIKey(){this.tmdbs.updateAPIKey(null),this.deleteAPIKeyDialogEl.close()}deleteLibrary(){var t=this;return xt(function*(){let n;try{yield Ht.reset(),n="Library deleted successfully."}catch(r){console.error(r),n=V$}t.ts.addToast(n),t.deleteLibraryDialogEl.close()})()}exportLibrary(){var t=this;return xt(function*(){try{const n=yield Ht.export(),r=URL.createObjectURL(n),i=document.createElement("a");i.download=mA,i.href=r,document.body.appendChild(i),i.click(),URL.revokeObjectURL(r)}catch(n){t.ts.addToast(B$),console.error(n)}})()}importLibrary(){var t=this;return xt(function*(){if(!t.libraryFileToImport)return;let n="";try{const r=yield function b$(e){return uo(this,void 0,void 0,function(){var t;return $r(this,function(n){switch(n.label){case 0:t=cA(e),n.label=1;case 1:return t.eof()?[3,3]:[4,t.pullAsync(5120)];case 2:return n.sent(),t.result.data&&t.result.data.data?(delete t.result.data.data,[3,3]):[3,1];case 3:return[2,t.result]}})})}(t.libraryFileToImport);if(t.libraryFileToImport.name!==mA||"dexie"!==r.formatName||r.formatVersion!==G$)throw n=uv,uv;yield Ht.reset(),yield Ht.import(t.libraryFileToImport),n="Library imported successfully."}catch(r){console.error(r),r!=uv&&(n=U$)}t.importLibraryDialogEl.close(),t.ts.addToast(n),t.libraryFileToImport=null})()}libraryFileSelected(t){const n=t.target.files?.[0];n&&(this.libraryFileToImport=n,this.importLibraryDialogEl.showModal())}onDropAreaDragOver(t){t.stopPropagation(),t.preventDefault(),this.dropAreaActive=!0}onDropAreaDrop(t){if(t.stopPropagation(),t.preventDefault(),this.dropAreaActive=!1,!t.dataTransfer)return;const n=t.dataTransfer.items?"file"===t.dataTransfer.items[0].kind?t.dataTransfer.items[0].getAsFile():null:t.dataTransfer.files[0];n&&"application/json"===n.type?(this.libraryFileToImport=n,this.importLibraryDialogEl.showModal()):this.ts.addToast("Selected file is not a valid library file")}showAddAPIKeyDialog(){this.addAPIKeyDialogEl.showModal(),this.addAPIKeyDialogEl.focus()}}eu.\u0275fac=function(t){return new(t||eu)(F(Fs),F(ki))},eu.\u0275cmp=Vn({type:eu,selectors:[["app-settings-page"]],viewQuery:function(t,n){if(1&t&&(Nr(D$,5),Nr(C$,5),Nr(E$,5),Nr(S$,5),Nr(I$,5),Nr(A$,5),Nr(M$,5)),2&t){let r;br(r=wr())&&(n.addAPIKeyDialog=r.first),br(r=wr())&&(n.apiKeyInput=r.first),br(r=wr())&&(n.deleteAPIKeyDialog=r.first),br(r=wr())&&(n.deleteLibraryDialog=r.first),br(r=wr())&&(n.importLibraryDialog=r.first),br(r=wr())&&(n.libraryFileInput=r.first),br(r=wr())&&(n.checkbox=r.first)}},decls:135,vars:16,consts:[[1,"settings","container","container--narrow"],[1,"heading-1"],[1,"u-mb-48"],[1,"heading-2"],[1,"setting"],["aria-hidden","true"],["for","color-theme-toggle",1,"switch"],[1,"u-sr-only"],["id","color-theme-toggle","type","checkbox",1,"switch__input",3,"ngModel","change","ngModelChange"],["lightThemeCheckbox",""],[1,"switch__slider"],[3,"innerHTML",4,"ngIf"],[1,"u-truncate-text"],[4,"ngIf"],[1,"settings__btns"],[1,"btn","btn--primary",3,"click"],["class","btn btn--danger",3,"click",4,"ngIf"],[1,"u-mb-24"],[1,"settings__btns","u-mb-32"],[1,"btn","btn--danger",3,"click"],[1,"settings__drop-area",3,"ngClass","dragleave","dragover","drop"],[1,"icon","icon--upload"],[1,"btn","btn--flat",3,"click"],["accept",".json","type","file",2,"display","none",3,"change"],["libraryFileInput",""],[1,"settings__attribution"],["aria-label","TMDB","href","https://www.themoviedb.org/","target","_blank"],[1,"icon","icon--tmdb"],["aria-label","Just Watch","href","https://www.justwatch.com/","target","_blank"],[1,"icon","icon--just-watch"],["href","https://iconduck.com/","target","_blank"],["aria-label","Font awesome","href","https://fontawesome.com/","target","_blank"],[1,"icon","icon--font-awesome"],["href","https://iconscout.com/icons/tv","target","_blank"],["href","https://iconscout.com/contributors/twitter-inc","target","_blank"],["href","https://iconscout.com","target","_blank"],[1,"dialog",3,"close"],["addAPIKeyDialog",""],[1,"dialog__heading"],[3,"ngSubmit"],["class","form-error u-mb-24",4,"ngIf"],["for","api-key-input",1,"label"],["autocomplete","off","id","api-key-input","placeholder","Enter your TMDB API key...","type","text",1,"input",3,"value","input"],["apiKeyInput",""],[1,"form__actions"],["type","button",1,"btn","btn--flat",3,"click"],[1,"btn","btn--primary",3,"disabled"],[1,"dialog","u-text-center"],["deleteAPIKeyDialog",""],[1,"u-mb-32"],["deleteLibraryDialog",""],[1,"dialog","u-text-center",3,"close"],["importLibraryDialog",""],[3,"innerHTML"],[1,"form-error","u-mb-24"]],template:function(t,n){1&t&&(I(0,"section",0)(1,"h1",1),L(2," Settings "),A(),I(3,"div",2)(4,"h2",3),L(5," Color theme "),A(),I(6,"div",4)(7,"div",5),L(8," Light theme "),A(),I(9,"label",6)(10,"span",7),L(11,"Light theme:"),A(),I(12,"input",8,9),ae("change",function(){return n.colorThemeChangeHandler()})("ngModelChange",function(i){return n.lightTheme=i}),A(),Oe(14,"span",10),A()()(),I(15,"div",2)(16,"h2",3),L(17," API key "),A(),W(18,T$,1,1,"p",11),I(19,"div",4)(20,"div"),L(21," API key "),A(),I(22,"div",12),W(23,x$,2,1,"em",13),W(24,P$,2,0,"span",13),A()(),I(25,"div",14)(26,"button",15),ae("click",function(){return n.showAddAPIKeyDialog()}),W(27,O$,2,0,"ng-container",13),W(28,k$,2,0,"ng-container",13),A(),W(29,R$,2,0,"button",16),A()(),I(30,"div",2)(31,"h2",3),L(32," Manage library "),A(),I(33,"p",17),L(34," Manage current library "),A(),I(35,"div",18)(36,"button",15),ae("click",function(){return n.exportLibrary()}),L(37," Export library "),A(),I(38,"button",19),ae("click",function(){return n.deleteLibraryDialogEl.showModal()}),L(39," Delete library "),A()(),I(40,"p",17),L(41," Import library "),A(),I(42,"div",20),ae("dragleave",function(){return n.dropAreaActive=!1})("dragover",function(i){return n.onDropAreaDragOver(i)})("drop",function(i){return n.onDropAreaDrop(i)}),Oe(43,"span",21),I(44,"div",5),L(45),A(),I(46,"div",5),L(47," or "),A(),I(48,"label",22),ae("click",function(){return null}),I(49,"span",5),L(50," Select a file "),A(),I(51,"span",7),L(52),A(),I(53,"input",23,24),ae("change",function(i){return n.libraryFileSelected(i)}),A()()()(),I(55,"div")(56,"h2",3),L(57," Attribution & credits "),A(),I(58,"p",25),L(59," Powered by "),I(60,"a",26),Oe(61,"span",27),A()(),I(62,"p",25),L(63," Streaming service information provided by "),I(64,"a",28),Oe(65,"span",29),A()(),I(66,"p",25),L(67," Icons provided by "),I(68,"a",30),L(69," Icon Duck "),A(),L(70," & "),I(71,"a",31),Oe(72,"span",32),A()(),I(73,"p")(74,"a",33),L(75,"Free Tv Icon"),A(),L(76," by "),I(77,"a",34),L(78,"Twitter Emoji"),A(),L(79," on "),I(80,"a",35),L(81,"IconScout"),A()()()(),I(82,"dialog",36,37),ae("close",function(){return n.addAPIKeyError=null}),I(84,"p",38),L(85," API Key "),A(),I(86,"form",39),ae("ngSubmit",function(){return n.apiKeySubmitHandler()}),W(87,N$,2,1,"p",40),I(88,"label",41),L(89," TMDB API key "),A(),I(90,"input",42,43),ae("input",function(){return n.addAPIKeyInputHandler()}),A(),I(92,"div",44)(93,"button",45),ae("click",function(){return n.addAPIKeyDialogEl.close()}),L(94," Cancel "),A(),I(95,"button",46),L(96," Save "),A()()()(),I(97,"dialog",47,48)(99,"h2",38),L(100," Delete API key? "),A(),I(101,"p",49),L(102," Are you sure you want to delete this API Key? "),A(),I(103,"div",44)(104,"button",22),ae("click",function(){return n.deleteAPIKeyDialogEl.close()}),L(105," Cancel "),A(),I(106,"button",19),ae("click",function(){return n.deleteAPIKey()}),L(107," Delete "),A()()(),I(108,"dialog",47,50)(110,"h2",38),L(111," Delete library? "),A(),I(112,"p",49),L(113),A(),I(114,"div",44)(115,"button",22),ae("click",function(){return n.deleteLibraryDialogEl.close()}),L(116," Cancel "),A(),I(117,"button",19),ae("click",function(){return n.deleteLibrary()}),L(118," Delete "),A()()(),I(119,"dialog",51,52),ae("close",function(){return n.libraryFileInputEl.value=""}),I(121,"h2",38),L(122," Import library? "),A(),I(123,"p",49),L(124),A(),I(125,"div",49)(126,"strong"),L(127),A()(),I(128,"p",49),L(129," Importing a library will replace your current library so make sure you export it first. "),A(),I(130,"div",44)(131,"button",22),ae("click",function(){return n.importLibraryDialogEl.close()}),L(132," Cancel "),A(),I(133,"button",15),ae("click",function(){return n.importLibrary()}),L(134," Import "),A()()()),2&t&&(T(12),R("ngModel",n.lightTheme),T(6),R("ngIf",!n.apiKey),T(5),R("ngIf",n.apiKey),T(1),R("ngIf",!n.apiKey),T(3),R("ngIf",n.apiKey),T(1),R("ngIf",!n.apiKey),T(1),R("ngIf",n.apiKey),T(13),R("ngClass",n.dropAreaActive?"settings__drop-area--active":""),T(3),Ke(" Drag & drop ",n.appName," library file here "),T(7),Ke(" Select ",n.appName," library file to upload "),T(35),R("ngIf",n.addAPIKeyError),T(3),Zr("value",n.apiKey),T(5),R("disabled",!n.canSubmit),T(18),Ke(" Are you sure you want to delete your ",n.appName," library? "),T(11),Ke(" Are you sure you want to import this ",n.appName," library? "),T(3),Ke(" ",null==n.libraryFileToImport?null:n.libraryFileToImport.name," "))},dependencies:[U0,Si,qd,Nd,Pa,Vd,Cm,Wd],styles:["[_ngcontent-%COMP%]:root{--color-danger: #ef5350;--color-interactive: #2196f3;--color-interacting: #64b5f6;--color-bg-1: #141416;--color-bg-2: #23262f;--color-grey-1: #575d71;--color-text: #fcfcfd;--color-text-inverted: #141416;--color-text-muted: #b1b5c3}.light-theme[_ngcontent-%COMP%]{--color-danger: #c62828;--color-interactive: #1565c0;--color-interacting: #42a5f5;--color-bg-1: #e6e8ec;--color-bg-2: #fcfcfd;--color-grey-1: #b1b5c3;--color-text: #141416;--color-text-inverted: #fcfcfd;--color-text-muted: #575d71}.settings__attribution[_ngcontent-%COMP%]{--icon-size: 6em;align-items:center;display:flex;flex-wrap:wrap;gap:.5ch}.settings__attribution[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:1.5em}.settings__btns[_ngcontent-%COMP%]{display:flex;gap:24px}@media (width < 600px){.settings__btns[_ngcontent-%COMP%]{flex-direction:column}}.settings__drop-area[_ngcontent-%COMP%]{--icon-size: 35px;align-items:center;border:1px dashed #777e90;border-radius:6px;display:flex;flex-direction:column;gap:16px;margin-top:24px;padding:40px;text-align:center;transition:background-color .25s ease-in-out,border .25s ease-in-out,color .25s ease-in-out}.settings__drop-area--active[_ngcontent-%COMP%]{--icon-color: var(--color-text-inverted);background:var(--color-interacting);border:1px solid var(--color-interacting);color:var(--color-text-inverted)}.setting[_ngcontent-%COMP%]{align-items:center;border:1px solid #777e90;border-radius:6px;display:flex;flex-wrap:wrap;gap:24px;justify-content:space-between;margin:24px 0;padding:16px}"]});const Ri="Watchy";class tl{constructor(){"true"==localStorage.getItem(pA)&&document.body.classList.add(cv)}}tl.\u0275fac=function(t){return new(t||tl)},tl.\u0275cmp=Vn({type:tl,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"main","container"]],template:function(t,n){1&t&&(Oe(0,"app-header"),I(1,"main",0),Oe(2,"router-outlet"),A(),Oe(3,"app-toasts"))},styles:["[_ngcontent-%COMP%]:root{--color-danger: #ef5350;--color-interactive: #2196f3;--color-interacting: #64b5f6;--color-bg-1: #141416;--color-bg-2: #23262f;--color-grey-1: #575d71;--color-text: #fcfcfd;--color-text-inverted: #141416;--color-text-muted: #b1b5c3}.light-theme[_ngcontent-%COMP%]{--color-danger: #c62828;--color-interactive: #1565c0;--color-interacting: #42a5f5;--color-bg-1: #e6e8ec;--color-bg-2: #fcfcfd;--color-grey-1: #b1b5c3;--color-text: #141416;--color-text-inverted: #fcfcfd;--color-text-muted: #575d71}.main[_ngcontent-%COMP%]{padding:32px 24px 64px}@media (width >= 600px){.main[_ngcontent-%COMP%]{padding-bottom:120px}}"]});const gA=Ri.toLowerCase(),G$=1,mA=`${gA}.library.json`,Ht=new class z$ extends $t{constructor(){super(gA),this.version(1).stores({videoLists:"++id, &name",videos:"++id, serverID, *videoListIDs"})}reset(){return xt(function*(){yield Ht.delete(),yield Ht.open()})()}},yA={1726:{backdropPath:"/cyecB7godJ6kNHGONFjUyVN9OX5.jpg",cast:["Robert Downy Jr.","Terrence Howard","Jeff Bridges","Gwyneth Paltrow","Leslie Bibb"],creators:[],directors:["Jon Favreau"],endDate:null,episodes:null,genres:["Action","Science Fiction","Adventure"],imdbID:"tt0371746",overview:"With the world now aware of his dual life as the armored superhero Iron Man, billionaire inventor Tony Stark faces pressure from the government, the press and the public to share his technology with the military. Unwilling to let go of his invention, Stark, with Pepper Potts and James 'Rhodey' Rhodes at his side, must forge new alliances \u2013 and confront powerful enemies.",posterPath:"/78lPtwv72eTNqFW9COBYI0dWDJa.jpg",rating:7.6,releaseDate:"2008-04-30",runtime:126,seasons:null,serverID:1726,status:"Released",title:"Iron Man",type:de.Movie},1724:{backdropPath:"/jPu8yiadqgzwFPGKJmGo637ASVP.jpg",cast:["Edward Norton","Liv Tyler","Tim Roth","William Hurt","Tim Blake Nelson"],creators:[],directors:["Louis Leterrier"],endDate:null,episodes:null,genres:["Science Fiction","Action","Adventure"],imdbID:"tt0800080",overview:"Scientist Bruce Banner scours the planet for an antidote to the unbridled force of rage within him: the Hulk. But when the military masterminds who dream of exploiting his powers force him back to civilization, he finds himself coming face to face with a new, deadly foe.",posterPath:"/gKzYx79y0AQTL4UAk1cBQJ3nvrm.jpg",rating:6.2,releaseDate:"2008-06-12",runtime:114,seasons:null,serverID:1724,status:"Released",title:"The Incredible Hulk",type:de.Movie},10138:{backdropPath:"/7lmBufEG7P7Y1HClYK3gCxYrkgS.jpg",cast:["Robert Downy Jr.","Gwyneth Paltrow","Don Cheadle","Scarlett Johansson","Sam Rockwell"],creators:[],directors:["Jon Favreau"],endDate:null,episodes:null,genres:["Adventure","Action","Science Fiction"],imdbID:"tt1228705",overview:"With the world now aware of his dual life as the armored superhero Iron Man, billionaire inventor Tony Stark faces pressure from the government, the press and the public to share his technology with the military. Unwilling to let go of his invention, Stark, with Pepper Potts and James 'Rhodey' Rhodes at his side, must forge new alliances \u2013 and confront powerful enemies.",posterPath:"/6WBeq4fCfn7AN0o21W9qNcRF2l9.jpg",rating:6.8,releaseDate:"2010-04-28",runtime:124,seasons:null,serverID:10138,status:"Released",title:"Iron Man 2",type:de.Movie},10195:{backdropPath:"/1wOu8rdvPxU1ObHi20VcRhfNpbo.jpg",cast:["Chris Hemsworth","Natalie Portman","Tom Hiddleston","Anthony Hopkins","Stellan Skarsg\xe5rd"],creators:[],directors:["Kenneth Branagh"],endDate:null,episodes:null,genres:["Adventure","Fantasy","Action"],imdbID:"tt0800369",overview:"Against his father Odin's will, The Mighty Thor - a powerful but arrogant warrior god - recklessly reignites an ancient war. Thor is cast down to Earth and forced to live among humans as punishment. Once here, Thor learns what it takes to be a true hero when the most dangerous villain of his world sends the darkest forces of Asgard to invade Earth.",posterPath:"/prSfAi1xGrhLQNxVSUFh61xQ4Qy.jpg",rating:6.8,releaseDate:"2011-04-21",runtime:115,seasons:null,serverID:10195,status:"Released",title:"Thor",type:de.Movie},1771:{backdropPath:"/yFuKvT4Vm3sKHdFY4eG6I4ldAnn.jpg",cast:["Chris Evans","Tommy Lee Jones","Hugo Weaving","Hayley Atwell","Sebastian Stan"],creators:[],directors:["Joe Johnston"],endDate:null,episodes:null,genres:["Action","Adventure","Science Fiction"],imdbID:"tt0458339",overview:"During World War II, Steve Rogers is a sickly man from Brooklyn who's transformed into super-soldier Captain America to aid in the war effort. Rogers must stop the Red Skull \u2013 Adolf Hitler's ruthless head of weaponry, and the leader of an organization that intends to use a mysterious device of untold powers for world domination.",posterPath:"/vSNxAJTlD0r02V9sPYpOjqDZXUK.jpg",rating:7,releaseDate:"2011-07-22",runtime:124,seasons:null,serverID:1771,status:"Released",title:"Captain America: The First Avenger",type:de.Movie},24428:{backdropPath:"/9BBTo63ANSmhC4e6r62OJFuK2GL.jpg",cast:["Robert Downey Jr.","Chris Evans","Mark Ruffalo","Chris Hemsworth","Scarlett Johansson"],creators:[],directors:["Joss Whedon"],endDate:null,episodes:null,genres:["Science Fiction","Action","Adventure"],imdbID:"tt0848228",overview:"When an unexpected enemy emerges and threatens global safety and security, Nick Fury, director of the international peacekeeping agency known as S.H.I.E.L.D., finds himself in need of a team to pull the world back from the brink of disaster. Spanning the globe, a daring recruitment effort begins!",posterPath:"/tYqp6vEOo8YlVWrYQvt9nyOhsA2.jpg",rating:7.7,releaseDate:"2012-04-25",runtime:143,seasons:null,serverID:24428,status:"Released",title:"The Avengers",type:de.Movie},68721:{backdropPath:"/tKa1gmGKAUVYnflYcadipeL3d9h.jpg",cast:["Robert Downey Jr.","Gwyneth Paltrow","Don Cheadle","Guy Pearce","Rebecca Hall"],creators:[],directors:["Shane Black"],endDate:null,episodes:null,genres:["Action","Adventure","Science Fiction"],imdbID:"tt1300854",overview:"When Tony Stark's world is torn apart by a formidable terrorist called the Mandarin, he starts an odyssey of rebuilding and retribution.",posterPath:"/qhPtAc1TKbMPqNvcdXSOn9Bn7hZ.jpg",rating:7.7,releaseDate:"2013-04-18",runtime:130,seasons:null,serverID:68721,status:"Released",title:"Iron Man 3",type:de.Movie},76338:{backdropPath:"/4zTsF0RtO0av3YX1NaKDqGKPxYF.jpg",cast:["Chris Hemsworth","Natalie Portman","Tom Hiddleston","Anthony Hopkins","Christopher Eccleston"],creators:[],directors:["Alan Taylor"],endDate:null,episodes:null,genres:["Action","Adventure","Fantasy"],imdbID:"tt1981115",overview:"Thor fights to restore order across the cosmos\u2026 but an ancient race led by the vengeful Malekith returns to plunge the universe back into darkness. Faced with an enemy that even Odin and Asgard cannot withstand, Thor must embark on his most perilous and personal journey yet, one that will reunite him with Jane Foster and force him to sacrifice everything to save us all.",posterPath:"/wp6OxE4poJ4G7c0U2ZIXasTSMR7.jpg",rating:6.6,releaseDate:"2013-10-30",runtime:112,seasons:null,serverID:76338,status:"Released",title:"Thor: The Dark World",type:de.Movie},100402:{backdropPath:"/yHB0eNR8rvCpn0VdghEwBsXAC0N.jpg",cast:["Chris Evans","Scarlett Johansson","Sebastian Stan","Anthony Mackie","Cobie Smulders"],creators:[],directors:["Anthony Russo","Joe Russo"],endDate:null,episodes:null,genres:["Action","Adventure","Science Fiction"],imdbID:"tt1843866",overview:"After the cataclysmic events in New York with The Avengers, Steve Rogers, aka Captain America is living quietly in Washington, D.C. and trying to adjust to the modern world. But when a S.H.I.E.L.D. colleague comes under attack, Steve becomes embroiled in a web of intrigue that threatens to put the world at risk. Joining forces with the Black Widow, Captain America struggles to expose the ever-widening conspiracy while fighting off professional assassins sent to silence him at every turn. When the full scope of the villainous plot is revealed, Captain America and the Black Widow enlist the help of a new ally, the Falcon. However, they soon find themselves up against an unexpected and formidable enemy\u2014the Winter Soldier.",posterPath:"/tVFRpFw3xTedgPGqxW0AOI8Qhh0.jpg",rating:7.7,releaseDate:"2014-03-20",runtime:136,seasons:null,serverID:100402,status:"Released",title:"Captain America: The Winter Soldier",type:de.Movie},118340:{backdropPath:"/2UFxrUHVuSK3Tth7DvQQlF4mGTd.jpg",cast:["Chris Pratt","Zoe Salda\xf1a","Dave Bautista","Vin Diesel","Bradley Cooper"],creators:[],directors:["James Gunn"],endDate:null,episodes:null,genres:["Action","Science Fiction","Adventure"],imdbID:"tt2015381",overview:"Light years from Earth, 26 years after being abducted, Peter Quill finds himself the prime target of a manhunt after discovering an orb wanted by Ronan the Accuser.",posterPath:"/r7vmZjiyZw9rpJMQJdXpjgiCOk9.jpg",rating:7.9,releaseDate:"2014-07-30",runtime:121,seasons:null,serverID:118340,status:"Released",title:"Guardians of the Galaxy",type:de.Movie},99861:{backdropPath:"/6YwkGolwdOMNpbTOmLjoehlVWs5.jpg",cast:["Robert Downey Jr.","Chris Hemsworth","Mark Ruffalo","Chris Evans","Scarlett Johansson"],creators:[],directors:["Joss Whedon"],endDate:null,episodes:null,genres:["Action","Adventure","Science Fiction"],imdbID:"tt2395427",overview:"When Tony Stark tries to jumpstart a dormant peacekeeping program, things go awry and Earth\u2019s Mightiest Heroes are put to the ultimate test as the fate of the planet hangs in the balance. As the villainous Ultron emerges, it is up to The Avengers to stop him from enacting his terrible plans, and soon uneasy alliances and unexpected action pave the way for an epic and unique global adventure.",posterPath:"/4ssDuvEDkSArWEdyBl2X5EHvYKU.jpg",rating:7.3,releaseDate:"2015-04-22",runtime:141,seasons:null,serverID:99861,status:"Released",title:"Avengers: Age of Ultron",type:de.Movie},102899:{backdropPath:"/a7sAqMKv5tkAdMzFfIhPqIBmQ9g.jpg",cast:["Paul Rudd","Michael Douglas","Evangeline Lilly","Bobby Cannavale","Corey Stoll"],creators:[],directors:["Peyton Reed"],endDate:null,episodes:null,genres:["Science Fiction","Action","Adventure"],imdbID:"tt0478970",overview:"Armed with the astonishing ability to shrink in scale but increase in strength, master thief Scott Lang must embrace his inner-hero and help his mentor, Doctor Hank Pym, protect the secret behind his spectacular Ant-Man suit from a new generation of towering threats. Against seemingly insurmountable obstacles, Pym and Lang must plan and pull off a heist that will save the world.",posterPath:"/4FoaB98wCsfWtLqoeDFvKc5CVqf.jpg",rating:7.1,releaseDate:"2015-07-14",runtime:117,seasons:null,serverID:102899,status:"Released",title:"Ant-Man",type:de.Movie},271110:{backdropPath:"/wdwcOBMkt3zmPQuEMxB3FUtMio2.jpg",cast:["Chris Evans","Robert Downey Jr.","Scarlett Johansson","Sebastian Stan","Anthony Mackie"],creators:[],directors:["Anthony Russo","Joe Russo"],endDate:null,episodes:null,genres:["Adventure","Action","Science Fiction"],imdbID:"tt3498820",overview:"Following the events of Age of Ultron, the collective governments of the world pass an act designed to regulate all superhuman activity. This polarizes opinion amongst the Avengers, causing two factions to side with Iron Man or Captain America, which causes an epic battle between former allies.",posterPath:"/rAGiXaUfPzY7CDEyNKUofk3Kw2e.jpg",rating:7.4,releaseDate:"2016-04-27",runtime:147,seasons:null,serverID:271110,status:"Released",title:"Captain America: Civil War",type:de.Movie},284052:{backdropPath:"/qUv51IFUvVRAP2379ThmA3eLJx6.jpg",cast:["Benedict Cumberbatch","Chiwetel Ejiofor","Rachel McAdams","Benedict Wong","Mads Mikkelsen"],creators:[],directors:["Scott Derrickson"],endDate:null,episodes:null,genres:["Action","Adventure","Fantasy"],imdbID:"tt1211837",overview:"After his career is destroyed, a brilliant but arrogant surgeon gets a new lease on life when a sorcerer takes him under her wing and trains him to defend the world against evil.",posterPath:"/uGBVj3bEbCoZbDjjl9wTxcygko1.jpg",rating:7.4,releaseDate:"2016-10-25",runtime:115,seasons:null,serverID:284052,status:"Released",title:"Doctor Strange",type:de.Movie},283995:{backdropPath:"/aJn9XeesqsrSLKcHfHP4u5985hn.jpg",cast:["Chris Pratt","Zoe Salda\xf1a","Dave Bautista","Vin Diesel","Bradley Cooper"],creators:[],directors:["James Gunn"],endDate:null,episodes:null,genres:["Adventure","Action","Science Fiction"],imdbID:"tt3896198",overview:"The Guardians must fight to keep their newfound family together as they unravel the mysteries of Peter Quill's true parentage.",posterPath:"/y4MBh0EjBlMuOzv9axM4qJlmhzz.jpg",rating:7.6,releaseDate:"2017-04-19",runtime:137,seasons:null,serverID:283995,status:"Released",title:"Guardians of the Galaxy Vol. 2",type:de.Movie},315635:{backdropPath:"/fn4n6uOYcB6Uh89nbNPoU2w80RV.jpg",cast:["Tom Holland","Michael Keaton","Robert Downey Jr.","Marisa Tomei","Jon Favreau"],creators:[],directors:["Jon Watts"],endDate:null,episodes:null,genres:["Action","Adventure","Science Fiction","Drama"],imdbID:"tt2250912",overview:"Following the events of Captain America: Civil War, Peter Parker, with the help of his mentor Tony Stark, tries to balance his life as an ordinary high school student in Queens, New York City, with fighting crime as his superhero alter ego Spider-Man as a new threat, the Vulture, emerges.",posterPath:"/c24sv2weTHPsmDa7jEMN0m2P3RT.jpg",rating:7.3,releaseDate:"2017-07-05",runtime:133,seasons:null,serverID:315635,status:"Released",title:"Spider-Man: Homecoming",type:de.Movie},284053:{backdropPath:"/kaIfm5ryEOwYg8mLbq8HkPuM1Fo.jpg",cast:["Chris Hemsworth","Tom Hiddleston","Cate Blanchett","Tessa Thompson","Jeff Goldblum"],creators:[],directors:["Taika Waititi"],endDate:null,episodes:null,genres:["Action","Adventure","Fantasy","Science Fiction","Comedy"],imdbID:"tt3501632",overview:"Thor is imprisoned on the other side of the universe and finds himself in a race against time to get back to Asgard to stop Ragnarok, the destruction of his home-world and the end of Asgardian civilization, at the hands of a powerful new threat, the ruthless Hela.",posterPath:"/rzRwTcFvttcN1ZpX2xv4j3tSdJu.jpg",rating:7.6,releaseDate:"2017-10-24",runtime:131,seasons:null,serverID:284053,status:"Released",title:"Thor: Ragnarok",type:de.Movie},284054:{backdropPath:"/b6ZJZHUdMEFECvGiDpJjlfUWela.jpg",cast:["Chadwick Boseman","Michael B. Jordan","Lupita Nyong'o","Danai Gurira","Martin Freeman"],creators:[],directors:["Ryan Coogler"],endDate:null,episodes:null,genres:["Action","Adventure","Science Fiction"],imdbID:"tt1825683",overview:"King T'Challa returns home to the reclusive, technologically advanced African nation of Wakanda to serve as his country's new leader. However, T'Challa soon finds that he is challenged for the throne by factions within his own country as well as without. Using powers reserved to Wakandan kings, T'Challa assumes the Black Panther mantle to join with ex-girlfriend Nakia, the queen-mother, his princess-kid sister, members of the Dora Milaje (the Wakandan 'special forces') and an American secret agent, to prevent Wakanda from being dragged into a world war.",posterPath:"/uxzzxijgPIY7slzFvMotPv8wjKA.jpg",rating:7.4,releaseDate:"2018-02-13",runtime:135,seasons:null,serverID:284054,status:"Released",title:"Black Panther",type:de.Movie},299536:{backdropPath:"/mDfJG3LC3Dqb67AZ52x3Z0jU0uB.jpg",cast:["Robert Downey Jr.","Chris Hemsworth","Mark Ruffalo","Chris Evans","Scarlett Johansson"],creators:[],directors:["Anthony Russo","Joe Russo"],endDate:null,episodes:null,genres:["Adventure","Action","Science Fiction"],imdbID:"tt4154756",overview:"As the Avengers and their allies have continued to protect the world from threats too large for any one hero to handle, a new danger has emerged from the cosmic shadows: Thanos. A despot of intergalactic infamy, his goal is to collect all six Infinity Stones, artifacts of unimaginable power, and use them to inflict his twisted will on all of reality. Everything the Avengers have fought for has led up to this moment - the fate of Earth and existence itself has never been more uncertain.",posterPath:"/7WsyChQLEftFiDOVTGkv3hFpyyt.jpg",rating:8.3,releaseDate:"2018-04-25",runtime:149,seasons:null,serverID:299536,status:"Released",title:"Avengers: Infinity War",type:de.Movie},363088:{backdropPath:"/iYdgEUE2W2aJkgqfSjf1x3gFfuV.jpg",cast:["Paul Rudd","Evangeline Lilly","Michael Pe\xf1a","Walton Goggins","Bobby Cannavale"],creators:[],directors:["Peyton Reed"],endDate:null,episodes:null,genres:["Action","Adventure","Science Fiction"],imdbID:"tt5095030",overview:"Just when his time under house arrest is about to end, Scott Lang once again puts his freedom at risk to help Hope van Dyne and Dr. Hank Pym dive into the quantum realm and try to accomplish, against time and any chance of success, a very dangerous rescue mission.",posterPath:"/cFQEO687n1K6umXbInzocxcnAQz.jpg",rating:7,releaseDate:"2018-07-04",runtime:119,seasons:null,serverID:363088,status:"Released",title:"Ant-Man and the Wasp",type:de.Movie},299537:{backdropPath:"/iYdgEUE2W2aJkgqfSjf1x3gFfuV.jpg",cast:["Brie Larson","Samuel L. Jackson","Ben Mendelsohn","Jude Law","Annette Bening"],creators:[],directors:["Anna Boden"],endDate:null,episodes:null,genres:["Action","Adventure","Science Fiction"],imdbID:"tt4154664",overview:"The story follows Carol Danvers as she becomes one of the universe\u2019s most powerful heroes when Earth is caught in the middle of a galactic war between two alien races. Set in the 1990s, Captain Marvel is an all-new adventure from a previously unseen period in the history of the Marvel Cinematic Universe.",posterPath:"/AtsgWhDnHTq68L0lLsUrCnM7TjG.jpg",rating:6.9,releaseDate:"2019-03-06",runtime:124,seasons:null,serverID:299537,status:"Released",title:"Captain Marvel",type:de.Movie},299534:{backdropPath:"/7RyHsO4yDXtBv1zUU3mTpHeQ0d5.jpg",cast:["Robert Downey Jr.","Chris Evans","Mark Ruffalo","Chris Hemsworth","Scarlett Johansson"],creators:[],directors:["Anthony Russo","Joe Russo"],endDate:null,episodes:null,genres:["Adventure","Science Fiction","Action"],imdbID:"tt4154796",overview:"After the devastating events of Avengers: Infinity War, the universe is in ruins due to the efforts of the Mad Titan, Thanos. With the help of remaining allies, the Avengers must assemble once more in order to undo Thanos' actions and restore order to the universe once and for all, no matter what consequences may be in store.",posterPath:"/or06FN3Dka5tukK1e9sl16pB3iy.jpg",rating:8.3,releaseDate:"2019-04-24",runtime:181,seasons:null,serverID:299534,status:"Released",title:"Avengers: Endgame",type:de.Movie},429617:{backdropPath:"/7RyHsO4yDXtBv1zUU3mTpHeQ0d5.jpg",cast:["Tom Holland","Samuel L. Jackson","Jake Gyllenhaal","Marisa Tomei","Jo Favreau"],creators:[],directors:["Jon Watts"],endDate:null,episodes:null,genres:["Action","Adventure","Science Fiction"],imdbID:"tt6320628",overview:"Peter Parker and his friends go on a summer trip to Europe. However, they will hardly be able to rest - Peter will have to agree to help Nick Fury uncover the mystery of creatures that cause natural disasters and destruction throughout the continent.",posterPath:"/4q2NNj4S5dG2RLF9CpXsej7yXl.jpg",rating:7.5,releaseDate:"2019-06-28",runtime:129,seasons:null,serverID:429617,status:"Released",title:"Spider-Man: Far from Home",type:de.Movie},85271:{backdropPath:"/33j33midGw49BBxiqlNZeZ6PZ0O.jpg",cast:["Elizabeth Olsen","Paul Bettany","Kathryn Hahn","Teyonah Parris","Randall Park"],creators:["Jac Schaeffer"],directors:[],endDate:"2021-03-05",episodes:9,genres:["Sci-Fi & Fantasy","Mystery","Drama"],imdbID:"tt9140560",overview:"Wanda Maximoff and Vision\u2014two super-powered beings living idealized suburban lives\u2014begin to suspect that everything is not as it seems.",posterPath:"/frobUz2X5Pc8OiVZU8Oo5K3NKMM.jpg",rating:8.3,releaseDate:"2021-01-15",runtime:null,seasons:1,serverID:85271,status:"Ended",title:"WandaVision",type:de.TV},88396:{backdropPath:"/eO8h4fwdjWodPr3awVr5wqMN3Ut.jpg",cast:["Anthony Mackie","Sebastian Stan","Wyatt Russell","Erin Kellyman","Daniel Br\xfchl"],creators:["Malcolm Spellman"],directors:[],endDate:"2021-04-23",episodes:6,genres:["Action & Adventure","Drama"],imdbID:"tt9208876",overview:"Following the events of \u201cAvengers: Endgame\u201d, the Falcon, Sam Wilson and the Winter Soldier, Bucky Barnes team up in a global adventure that tests their abilities, and their patience.",posterPath:"/6kbAMLteGO8yyewYau6bJ683sw7.jpg",rating:7.7,releaseDate:"2021-03-19",runtime:null,seasons:1,serverID:88396,status:"Ended",title:"The Falcon and the Winter Soldier",type:de.TV},84958:{backdropPath:"/p7PLOCD4bqLV4sJmeLrwvkufHt3.jpg",cast:["Tom Hiddleston","Owen Wilson","Sophia Di Martino","Gugu Mbatha-Raw","Jonathan Majors"],creators:["Michael Waldron"],directors:[],endDate:"2023-11-09",episodes:12,genres:["Drama","Sci-Fi & Fantasy"],imdbID:"tt9140554",overview:"After stealing the Tesseract during the events of \u201cAvengers: Endgame,\u201d an alternate version of Loki is brought to the mysterious Time Variance Authority, a bureaucratic organization that exists outside of time and space and monitors the timeline. They give Loki a choice: face being erased from existence due to being a \u201ctime variant\u201d or help fix the timeline and stop a greater threat.",posterPath:"/kEl2t3OhXc3Zb9FBh1AuYzRTgZp.jpg",rating:8.2,releaseDate:"2021-06-09",runtime:null,seasons:2,serverID:84958,status:"Ended",title:"Loki",type:de.TV},497698:{backdropPath:"/keIxh0wPr2Ymj0Btjh4gW7JJ89e.jpg",cast:["Scarlett Johansson","Florence Pugh","Rachel Weisz","Ray Winstone","Olga Kurylenko"],creators:[],directors:["Cate Shortland"],endDate:null,episodes:null,genres:["Action","Adventure","Sci-Fiction"],imdbID:"tt3480822",overview:"Natasha Romanoff, also known as Black Widow, confronts the darker parts of her ledger when a dangerous conspiracy with ties to her past arises. Pursued by a force that will stop at nothing to bring her down, Natasha must deal with her history as a spy and the broken relationships left in her wake long before she became an Avenger.",posterPath:"/kwB7d51AIcyzPOBOHLCEZJkmPhQ.jpg",rating:7.4,releaseDate:"2021-07-07",runtime:134,seasons:null,serverID:497698,status:"Released",title:"Black Widow",type:de.Movie},91363:{backdropPath:"/4N6zEMfZ57zNEQcM8gWeERFupMv.jpg",cast:["Jeffrey Wright","Terri Douglas","Matthew Wood","Robin Atkin Downes","Fred Tatasciore"],creators:[],directors:[],endDate:null,episodes:18,genres:["Animation","Action & Adventure","Sci-Fi & Fantasy"],imdbID:"tt10168312",overview:"Taking inspiration from the comic books of the same name, each episode explores a pivotal moment from the Marvel Cinematic Universe and turns it on its head, leading the audience into uncharted territory.",posterPath:"/lztz5XBMG1x6Y5ubz7CxfPFsAcW.jpg",rating:8.2,releaseDate:"2021-08-11",runtime:null,seasons:2,serverID:91363,status:"Returning Series",title:"What If...?",type:de.TV},566525:{backdropPath:"/zxWAv1A34kdYslBi4ekMDtgIGUt.jpg",cast:["Simu Liu","Tony Leung Chiu-wai","Awkwafina","Zhang Meng'er","Fala Chen"],creators:[],directors:["Destin Daniel Cretton"],endDate:null,episodes:null,genres:["Action","Adventure","Fantasy"],imdbID:"tt9376612",overview:"Shang-Chi must confront the past he thought he left behind when he is drawn into the web of the mysterious Ten Rings organization.",posterPath:"/1BIoJGKbXjdFDAqUEiA2VHqkK1Z.jpg",rating:7.6,releaseDate:"2021-09-01",runtime:132,seasons:null,serverID:566525,status:"Released",title:"Shang-Chi and the Legend of the Ten Rings",type:de.Movie},524434:{backdropPath:"/c6H7Z4u73ir3cIoCteuhJh7UCAR.jpg",cast:["Gemma Chan","Richard Madden","Angelina Jolie","Kumail Nanjiani","Barry Keoghan"],creators:[],directors:["Chlo\xe9 Zhao"],endDate:null,episodes:null,genres:["Sci-Fi","Action","Adventure"],imdbID:"tt9032400",overview:"The Eternals are a team of ancient aliens who have been living on Earth in secret for thousands of years. When an unexpected tragedy forces them out of the shadows, they are forced to reunite against mankind\u2019s most ancient enemy, the Deviants.",posterPath:"/lFByFSLV5WDJEv3KabbdAF959F2.jpg",rating:7,releaseDate:"2021-11-03",runtime:156,seasons:null,serverID:524434,status:"Released",title:"Eternals",type:de.Movie},88329:{backdropPath:"/1R68vl3d5s86JsS2NPjl8UoMqIS.jpg",cast:["Jeremy Renner","Hailee Steinfeld","Tony Dalton","Alaqua Cox","Fra Fee"],creators:["Jonathan Igla"],directors:[],endDate:"2021-12-22",episodes:6,genres:["Drama","Comedy","Action & Adventure"],imdbID:"tt10160804",overview:"Former Avenger Clint Barton has a seemingly simple mission: get back to his family for Christmas. Possible? Maybe with the help of Kate Bishop, a 22-year-old archer with dreams of becoming a superhero. The two are forced to work together when a presence from Barton\u2019s past threatens to derail far more than the festive spirit.",posterPath:"/lztz5XBMG1x6Y5ubz7CxfPFsAcW.jpg",rating:8,releaseDate:"2021-11-24",runtime:null,seasons:1,serverID:88329,status:"Ended",title:"Hawkeye",type:de.TV},634649:{backdropPath:"/iQFcwSGbZXMkeyKrxbPnwnRo5fl.jpg",cast:["Tom Holland","Zendaya","Benedict Cumberbatch","Jacob Batalon","Jon Favreau"],creators:[],directors:["Jon Watts"],endDate:null,episodes:null,genres:["Action","Adventure","Sci-Fi"],imdbID:"tt10872600",overview:"Peter Parker is unmasked and no longer able to separate his normal life from the high-stakes of being a super-hero. When he asks for help from Doctor Strange the stakes become even more dangerous, forcing him to discover what it truly means to be Spider-Man.",posterPath:"/uJYYizSuA9Y3DCs0qS4qWvHfZg4.jpg",rating:7,serverID:634649,releaseDate:"2021-12-15",runtime:148,seasons:null,status:"Released",title:"Spider-Man: No Way Home",type:de.Movie},618529:{backdropPath:"/iKUwhA4DUxMcNKu5lLSbDFwwilk.jpg",cast:["Benedict Cumberbatch","Elizabeth Olsen","Chiwetel Ejiofor","Benedict Wong","Xochitl Gomez"],creators:[],directors:["Sam Raimi"],endDate:null,episodes:null,genres:["Action","Adventure","Fantasy"],imdbID:"tt9419884",overview:"Doctor Strange, with the help of mystical allies both old and new, traverses the mind-bending and dangerous alternate realities of the Multiverse to confront a mysterious new adversary.",posterPath:"/9Gtg2DzBhmYamXBS1hKAhiwbBKS.jpg",rating:7.363,serverID:618529,releaseDate:"2022-05-04",runtime:126,seasons:null,status:"Released",title:"Doctor Strange in the Multiverse of Madness",type:de.Movie},92749:{backdropPath:"/iux1vKPT7Vw1AzetZb4Jz6wfYsm.jpg",cast:["Oscar Isaac","Ethan Hawke","May Calamawy","Ann Akinjirin","David Ganly"],creators:["Jeremy Slater"],directors:[],endDate:"2022-05-04",episodes:6,genres:["Action & Adventure","Sci-Fi & Fantasy","Mystery"],imdbID:"tt10234724",overview:"When Steven Grant, a mild-mannered gift-shop employee, becomes plagued with blackouts and memories of another life, he discovers he has dissociative identity disorder and shares a body with mercenary Marc Spector. As Steven/Marc\u2019s enemies converge upon them, they must navigate their complex identities while thrust into a deadly mystery among the powerful gods of Egypt.",posterPath:"/vKDUmKO6F9bSKKyHhg7YGbgcEeF.jpg",rating:7.9,releaseDate:"2022-03-30",runtime:null,seasons:1,serverID:92749,status:"Ended",title:"Moon Knight",type:de.TV},92782:{backdropPath:"/rlCRM7U5g2hcU1O8ylGcqsMYHIP.jpg",cast:["Iman Vellani","Matt Lintz","Yasmeen Fletcher","Zenobia Shroff","Mohan Kapur"],creators:["Bisha K. Ali"],directors:[],endDate:"2022-07-13",episodes:6,genres:["Sci-Fi & Fantasy","Action & Adventure","Comedy"],imdbID:"tt10857164",overview:"A great student, avid gamer, and voracious fan-fic scribe, Kamala Khan has a special affinity for superheroes, particularly Captain Marvel. However, she struggles to fit in at home and at school \u2014 that is, until she gets superpowers like the heroes she\u2019s always looked up to. Life is easier with superpowers, right?",posterPath:"/ls2Hl8CXmqEHvkDqkN3fRtmDodK.jpg",rating:6.7,releaseDate:"2022-06-08",runtime:null,seasons:1,serverID:92782,status:"Ended",title:"Ms. Marvel",type:de.TV},616037:{backdropPath:"/jsoz1HlxczSuTx0mDl2h0lxy36l.jpg",cast:["Chris Hemsworth","Natalie Portman","Christian Bale","Tessa Thompson","Taika Waititi"],creators:[],directors:["Taika Waititi"],endDate:null,episodes:null,genres:["Fantasy","Action","Comedy"],imdbID:"tt10648342",overview:"After his retirement is interrupted by Gorr the God Butcher, a galactic killer who seeks the extinction of the gods, Thor Odinson enlists the help of King Valkyrie, Korg, and ex-girlfriend Jane Foster, who now wields Mjolnir as the Mighty Thor. Together they embark upon a harrowing cosmic adventure to uncover the mystery of the God Butcher\u2019s vengeance and stop him before it\u2019s too late.",posterPath:"/pIkRyD18kl4FhoCNQuWxWu5cBLM.jpg",rating:6.7,releaseDate:"2022-07-06",runtime:119,seasons:null,serverID:616037,status:"Released",title:"Thor: Love and Thunder",type:de.Movie},92783:{backdropPath:"/9GvhICFMiRQA82vS6ydkXxeEkrd.jpg",cast:["Tatiana Maslany","Ginger Gonzaga","Jameela Jamil","Ren\xe9e Elise Goldsberry","Josh Segarra"],creators:["Jessica Gao"],directors:[],endDate:"2022-10-13",episodes:9,genres:["Sci-Fi & Fantasy","Action & Adventure","Comedy"],imdbID:"tt10857160",overview:"Jennifer Walters navigates the complicated life of a single, 30-something attorney who also happens to be a green 6-foot-7-inch superpowered hulk.",posterPath:"/hJfI6AGrmr4uSHRccfJuSsapvOb.jpg",rating:6.6,releaseDate:"2022-08-18",runtime:null,seasons:1,serverID:92783,status:"Ended",title:"She-Hulk: Attorney at Law",type:de.TV},894205:{backdropPath:"/pfAZP7JvTTxqgq7n6A1OYgkAdEW.jpg",cast:["Gael Garc\xeda Bernal","Laura Donnelly","Harriet Sansom Harris","Kirk R. Thatcher","Eugenie Bondurant"],creators:[],directors:["Michael Giacchino"],endDate:null,episodes:null,genres:["Action","Fantasy","Horror"],imdbID:"tt15318872",overview:"On a dark and somber night, a secret cabal of monster hunters emerge from the shadows and gather at the foreboding Bloodstone Temple following the death of their leader. In a strange and macabre memorial to the leader\u2019s life, the attendees are thrust into a mysterious and deadly competition for a powerful relic\u2014a hunt that will ultimately bring them face to face with a dangerous monster.",posterPath:"/jmv7EbqBuEk4V1U7OoSBaxkwawO.jpg",rating:7.1,releaseDate:"2022-09-25",runtime:55,seasons:null,serverID:894205,status:"Released",title:"Werewolf by Night",type:de.Movie},505642:{backdropPath:"/yYrvN5WFeGYjJnRzhY0QXuo4Isw.jpg",cast:["Letitia Wright","Lupita Nyong'o","Danai Gurira","Winston Duke","Dominique Thorne"],creators:[],directors:["Ryan Coogler"],endDate:null,episodes:null,genres:["Action","Adventure","Science Fiction"],imdbID:"tt9114286",overview:"Queen Ramonda, Shuri, M\u2019Baku, Okoye and the Dora Milaje fight to protect their nation from intervening world powers in the wake of King T\u2019Challa\u2019s death. As the Wakandans strive to embrace their next chapter, the heroes must band together with the help of War Dog Nakia and Everett Ross and forge a new path for the kingdom of Wakanda.",posterPath:"/sv1xJUazXeYqALzczSZ3O6nkH75.jpg",rating:7.5,releaseDate:"2022-11-09",runtime:162,seasons:null,serverID:505642,status:"Released",title:"Black Panther: Wakanda Forever",type:de.Movie},640146:{backdropPath:"/8YFL5QQVPy3AgrEQxNYVSgiPEbe.jpg",cast:["Paul Rudd","Evangeline Lilly","Jonathan Majors","Michelle Pfeiffer","Michael Douglas"],creators:[],directors:["Peyton Reed"],endDate:null,episodes:null,genres:["Adventure","Science Fiction","Comedy"],imdbID:"tt10954600",overview:"Super-Hero partners Scott Lang and Hope van Dyne, along with with Hope's parents Janet van Dyne and Hank Pym, and Scott's daughter Cassie Lang, find themselves exploring the Quantum Realm, interacting with strange new creatures and embarking on an adventure that will push them beyond the limits of what they thought possible.",posterPath:"/ngl2FKBlU4fhbdsrtdom9LVLBXw.jpg",rating:6.5,releaseDate:"2023-02-15",runtime:125,seasons:null,serverID:640146,status:"Released",title:"Ant-Man and the Wasp: Quantumania",type:de.Movie},114472:{backdropPath:"/tMCM3NFILnmEDRi6zDNdD5TrFLk.jpg",cast:["Samuel L. Jackson","Ben Mendelsohn","Kingsley Ben-Adir","Emilia Clarke","Olivia Colman"],creators:["Kevin Feige","Brian Michael Bendis","Kyle Bradstreet"],directors:[],endDate:"2023-07-26",episodes:6,genres:["Drama","Sci-Fi & Fantasy","Action & Adventure"],imdbID:"tt13157618",overview:"Nick Fury and Talos discover a faction of shapeshifting Skrulls who have been infiltrating Earth for years.",posterPath:"/ySkya7tPCuT1a4gsewyNzRi9cli.jpg",rating:7.2,releaseDate:"2023-06-21",runtime:null,seasons:1,serverID:114472,status:"Ended",title:"Secret Invasion",type:de.TV},447365:{backdropPath:"/5YZbUmjbMa3ClvSW1Wj3D6XGolb.jpg",cast:["Chris Pratt","Zoe Salda\xf1a","Dave Bautista","Karen Gillan","Pom Klementieff","Vin Diesel"],creators:[],directors:["James Gunn"],endDate:null,episodes:null,genres:["Science Fiction","Adventure","Action"],imdbID:"tt6791350",overview:"Peter Quill, still reeling from the loss of Gamora, must rally his team around him to defend the universe along with protecting one of their own. A mission that, if not completed successfully, could quite possibly lead to the end of the Guardians as we know them.",posterPath:"/r2J02Z2OpNTctfOSN1Ydgii51I3.jpg",rating:8,releaseDate:"2023-05-05",runtime:150,seasons:null,serverID:447365,status:"Released",title:"Guardians of the Galaxy Vol. 3",type:de.Movie},122226:{backdropPath:"/sWm4ALjmW46c4ipNZmv6rjC2cd8.jpg",cast:["Alaqua Cox","Zahn McClarnon","Devery Jacobs","Chaske Spencer","Tantoo Cardinal"],creators:["Marion Dayre"],directors:[],endDate:"2024-01-09",episodes:5,genres:["Action & Adventure","Drama","Crime"],imdbID:"tt13966962",overview:"After her ruthless behavior in New York City catches up with her in her hometown, Maya Lopez must face her past, reconnect with her Native American roots and embrace the meaning of family and community if she ever hopes to move forward.",posterPath:"/3bv5Dv3YmQfzg5ckQMwzCUQ89hU.jpg",rating:6.3,releaseDate:"2024-01-09",runtime:null,seasons:1,serverID:122226,status:"Ended",title:"Echo",type:de.TV},609681:{backdropPath:"/zJrQR9g3hnpC8FY4xCXYVg3ztsA.jpg",cast:["Brie Larson","Teyonah Parris","Iman Vellani","Lashana Lynch","Samuel L. Jackson"],creators:[],directors:["Nia DaCosta"],endDate:null,episodes:null,genres:["Action","Adventure","Science Fiction"],imdbID:"tt10676048",overview:"Carol Danvers, aka Captain Marvel, has reclaimed her identity from the tyrannical Kree and taken revenge on the Supreme Intelligence. But unintended consequences see Carol shouldering the burden of a destabilized universe. When her duties send her to an anomalous wormhole linked to a Kree revolutionary, her powers become entangled with that of Jersey City super-fan Kamala Khan, aka Ms. Marvel, and Carol\u2019s estranged niece, now S.A.B.E.R. astronaut Captain Monica Rambeau. Together, this unlikely trio must team up and learn to work in concert to save the universe.",posterPath:"/mHiMmryCureDvoAOlGP6o3oXT8Y.jpg",rating:6.125,releaseDate:"2023-11-08",runtime:null,seasons:null,serverID:609681,status:"Released",title:"The Marvels",type:de.Movie},114471:{backdropPath:"/3Wh6RYyoqBHkjugcfVrypjH8qQv.jpg",cast:["Dominique Thorne","Anthony Ramos","Lyric Ross","Manny Montana","Harper Anthony"],creators:["Chinaka Hodge"],directors:[],endDate:null,episodes:null,genres:["Action & Adventure","Drama","Sci-Fi & Fantasy"],imdbID:"tt13623126",overview:"Genius inventor Riri Williams creates the most advanced suit of armor since Iron Man and becomes Ironheart.",posterPath:"/ha1kackPwP1BLtyibzuv5hABiDk.jpg",rating:null,releaseDate:null,runtime:null,seasons:1,serverID:114471,status:"In Production",title:"Ironheart",type:de.TV},822119:{backdropPath:"/qYvpc3qLb0LpGOBS7JOq5RxYt0x.jpg",cast:["Anthony Mackie","Tim Blake Nelson","Shira Haas","Danny Ramirez","Carl Lumbly"],creators:[],directors:["Julius Onah"],endDate:null,episodes:null,genres:["Action","Adventure"],imdbID:"tt14513804",overview:"A sequel to Marvel Studios' The Falcon and the Winter Soldier and follows Sam Wilson as the new Captain America.",posterPath:"/3DgdfIoJsGnEvSSvUs5hOAYbZlL.jpg",rating:null,releaseDate:"2024-05-01",runtime:null,seasons:null,serverID:822119,status:"Post Production",title:"Captain America: Brave New World",type:de.Movie},986056:{backdropPath:"/3Wh6RYyoqBHkjugcfVrypjH8qQv.jpg",cast:["Florence Pugh","Sebastian Stan","David Harbour","Julia Louis-Dreyfus","Wyatt Russell"],creators:[],directors:["Jake Schreier"],endDate:null,episodes:null,genres:["Action","Adventure"],imdbID:"tt20969586",overview:"A world without Avengers doesn't mean there's not a group of superheroes. There is a group and they're called the Thunderbolts.",posterPath:"/ha1kackPwP1BLtyibzuv5hABiDk.jpg",rating:null,releaseDate:"2024-07-24",runtime:null,seasons:null,serverID:986056,status:"Planned",title:"Thunderbolts",type:de.Movie},617127:{backdropPath:"/hFtJz4TvoiJJcw2ZOMdhK22aU9P.jpg",cast:["Mahershala Ali","Delroy Lindo","Aaron Pierre"],creators:[],directors:["Yann Demange"],endDate:null,episodes:null,genres:["Action","Fantasy"],imdbID:"tt10671440",overview:null,posterPath:"/fKqA4rgVJwrM7Gb3tQ9TGHnu8Tr.jpg",rating:null,releaseDate:"2024-09-04",runtime:null,seasons:null,serverID:617127,status:"Planned",title:"Blade",type:de.Movie},138501:{backdropPath:"/wPnapuJNdWe27IAE5z2Hieo4Yh.jpg",cast:["Kathryn Hahn","Emma Caulfield","Joe Locke","Aubrey Plaza","Ali Ahn"],creators:["Jac Schaeffer"],directors:[],endDate:null,episodes:null,genres:["Sci-Fi & Fantasy","Action & Adventure","Comedy"],imdbID:"tt15571732",overview:"Follow Agatha Harkness before and after her appearance in WandaVision.",posterPath:"/A4JyrpPCsw57E0JHcZK7TDPVPqP.jpg",rating:null,releaseDate:null,runtime:null,seasons:1,serverID:138501,status:"In Production",title:"Agatha: Coven of Chaos",type:de.TV},202555:{backdropPath:"/5NGuM3zv8KjFg7k0FBZ0UdeLFGv.jpg",cast:["Charlie Cox","Vincent D'Onofrio","Michael Gandolfini","Margarita Levieva","Sandrine Holt"],creators:[],directors:[],endDate:null,episodes:null,genres:[],imdbID:"tt20411934",overview:"An upcoming Disney+ series featuring Matt Murdock aka Daredevil in the Marvel Cinematic Universe.",posterPath:"/t2MKhbLkSlMduIukClOXFMK9LhP.jpg",rating:null,releaseDate:null,runtime:null,seasons:1,serverID:202555,status:"Planned",title:"Daredevil: Born Again",type:de.TV}},K$={keys:["title","cast","directors","creators"],threshold:.4};class Ni{constructor(t){this.TMDBService=t,this._cachedConfig={backdropSizes:{lg:"w1280",md:"w780",sm:"w300"},baseURL:"https://image.tmdb.org/t/p/",posterSizes:{lg:"w500",md:"w342",sm:"w154"}},this.lastSearch$=new Vr(null),this.apiKey=this.TMDBService.apiKey,this.fuse=new dy(Object.values(yA),K$)}_getImgSrc(t,n,r){const i=n.baseURL,o=r==Za.Backdrop?n.backdropSizes:n.posterSizes;return{src:`${i}${o.sm}${t}`,srcSet:`${i}${o.sm}${t} ${o.sm.slice(1)}w, ${i}${o.md}${t} ${o.md.slice(1)}w, ${i}${o.lg}${t} ${o.lg.slice(1)}w`}}getDetails(t,n){if(this.TMDBService.apiKey)return this.TMDBService.getDetails(t,n);const r=yA[t]||null;return ne([r,r?[429617==t?"Netflix":634649==t?"Amazon Prime Video":"Disney Plus"]:[]])}getImgSources(t){return this.TMDBService.getImageURLConfig().pipe(_e(n=>n||this._cachedConfig),_e(n=>({backdrop:this._getImgSrc(t,n,Za.Backdrop),poster:this._getImgSrc(t,n,Za.Poster)})))}search(t,n=1){if(this.TMDBService.apiKey)return this.TMDBService.search(t,n);const r=this.fuse?.search(t)?.map(i=>(({posterPath:e,releaseDate:t,serverID:n,title:r,type:i})=>({posterPath:e,releaseDate:t,serverID:n,title:r,type:i}))(i.item))||[];return ne({page:n,results:r,totalPages:1,totalResults:r.length})}}Ni.\u0275fac=function(t){return new(t||Ni)(le(Fs))},Ni.\u0275prov=he({token:Ni,factory:Ni.\u0275fac,providedIn:"root"});const dv="There's already a list with this name.";class fo{constructor(t){this.vds=t,this.videoLists$=jI(()=>Ht.videoLists.toArray())}_addVideoToDB(t){var n=this;return xt(function*(){if(!t.serverID)return;const r=yield n.getVideoUsingServerID(t);if(r)return r.id;const i=t.hasOwnProperty("rating");let o={};if(!i){const[a,l]=yield jS(n.vds.getDetails(t.serverID,t.type));if(!a)return;o=a}return Ht.videos.add({...o$(i?t:o),updated:new Date})})()}addList(t,n){return xt(function*(){const r=n&&n.length>0,i={created:new Date,name:t,updated:new Date,videoIDs:r?n:[]};try{const o=yield Ht.videoLists.add(i);return r&&(yield Ht.videos.bulkGet(n)).filter(a=>a).map(function(){var a=xt(function*(l){const c=[...new Set([...l.videoListIDs,o])];yield Ht.videos.update(l.id,{videoListIDs:c})});return function(l){return a.apply(this,arguments)}}()),o}catch(o){throw o.name===$t.errnames.Constraint?dv:o}})()}updateList(t,n){return xt(function*(){if(n.name||n.videoIDs){n.updated=new Date;try{return yield Ht.videoLists.update(t,n)}catch(r){throw r.message.includes($t.errnames.Constraint)?dv:r}}})()}deleteList(t){return xt(function*(){if(!t.id)return;const n=t.id;if(yield Ht.videoLists.delete(n),0==t.videoIDs.length)return;const r=yield Ht.videos.bulkGet(t.videoIDs),i=[];for(const o of r){if(!o||!o.id||!o.videoListIDs)continue;const s=new Set(o.videoListIDs);s.delete(n),i.push(0==s.size?Ht.videos.delete(o.id):Ht.videos.update(o.id,{videoListIDs:[...s]}))}yield Promise.all(i)})()}addVideoToLists(t,n){var r=this;return xt(function*(){if(0==n.length)return;if(!("id"in t)){const f=yield r._addVideoToDB(t);if(!f||!(t=yield r.getVideo(f)))return}const o=t,s=o.id,a=n.filter(f=>f&&f.id&&!f.videoIDs.includes(s)),l=a.map(f=>r.updateList(f.id,{videoIDs:[...f.videoIDs,s]})),c=a.map(f=>f.id),d=[...new Set([...o.videoListIDs,...c])];return l.push(Ht.videos.update(s,{videoListIDs:d})),o.videoListIDs=d,yield Promise.all(l),o})()}getVideo(t){return xt(function*(){return Ht.videos.get(t)})()}getVideos(t){return xt(function*(){return Ht.videos.bulkGet(t)})()}getVideoUsingServerID(t){return xt(function*(){const{serverID:n,type:r}=t;return n&&r&&(yield Ht.videos.where("serverID").equals(n).filter(o=>o.type==r).first())||null})()}removeVideoFromLists(t,n){var r=this;return xt(function*(){if(0==n.length)return;const i=t.id,o=n.filter(c=>c&&c.id&&c.videoIDs.includes(t.id)),s=o.map(c=>{const u=new Set(c.videoIDs);return u.delete(i),r.updateList(c.id,{videoIDs:[...u]})}),a=o.map(c=>c.id),l=t.videoListIDs.filter(c=>!a.includes(c));s.push(0==l.length?Ht.videos.delete(i):Ht.videos.update(i,{videoListIDs:l})),yield Promise.all(s)})()}updateVideo(t){return xt(function*(){if(!t||!t.id)return null;const n={...t,updated:new Date};return Ht.videos.update(t.id,n)})()}}fo.\u0275fac=function(t){return new(t||fo)(le(Ni))},fo.\u0275prov=he({token:fo,factory:fo.\u0275fac,providedIn:"root"});const W$=["listFormDialog"];function q$(e,t){1&e&&(Xt(0),L(1," Create a list "),Zt())}function Y$(e,t){1&e&&L(0," Edit list ")}function J$(e,t){if(1&e&&(I(0,"p",12),L(1),A()),2&e){const n=Y();T(1),Ke(" ",n.error," ")}}const Q$=`${zo}. ${Ko}.`;class Wo{set formList(t){this.list=t,this.resetForm()}set show(t){t&&(this.resetForm(),this.dialog?.nativeElement.showModal(),this.dialog?.nativeElement.focus())}constructor(t,n){this.ls=t,this.ts=n,this.formGroup=new dc({name:new bs("",[W2.required,this.nameChangedValidator()])}),this.list={name:""},this.submitting=!1,this.submitted=!1,this.hidden=new ht}get dialogElement(){return this.dialog.nativeElement}get name(){return this.formGroup.get("name")}nameChangedValidator(){return t=>t.value===this.list?.name?{unchanged:!0}:null}resetForm(){this.error="",this.name?.setValue(this.list.name||""),this.submitted=!1}submitHandler(){var t=this;return xt(function*(){if(!t.name)return;t.submitting=!0;const n=t.name.value;try{t.list.id||0===t.list.id?yield t.ls.updateList(t.list.id,{name:n}):yield t.ls.addList(n),t.submitted=!0,t.dialogElement.close()}catch(r){if(r===dv)return void(t.error=r);console.error(r),t.ts.addToast(Q$),t.dialogElement.close()}finally{t.submitting=!1}})()}}function X$(e,t){if(1&e){const n=_n();I(0,"button",6),ae("click",function(){return Rt(n),Nt(Y(2).listDialogVisible=!0)}),Oe(1,"span",7),A()}}function Z$(e,t){1&e&&(I(0,"div")(1,"p",10),L(2," To get started add a new list, then head on over to the search page to search for movies and TV shows to add to your list. "),A()())}function eH(e,t){if(1&e){const n=_n();Xt(0),I(1,"div",8),W(2,Z$,3,0,"div",0),I(3,"button",9),ae("click",function(){return Rt(n),Nt(Y(2).listDialogVisible=!0)}),Oe(4,"span",7),L(5," Create a list "),A()(),Zt()}if(2&e){const n=Y(2);T(2),R("ngIf",n.tutorial)}}function tH(e,t){if(1&e&&(I(0,"option",22),L(1),A()),2&e){const n=t.$implicit;R("ngValue",n.id),T(1),Ke(" ",n.label," ")}}function nH(e,t){1&e&&(I(0,"div",28),L(1," This list is empty "),A())}function rH(e,t){if(1&e&&Oe(0,"img",33),2&e){const n=t.ngIf;Zr("src",n.poster.src,us),Zr("srcset",n.poster.srcSet)}}function iH(e,t){if(1&e&&(Xt(0),W(1,rH,1,2,"img",32),Zt()),2&e){const n=t.$implicit,r=Y(5);T(1),R("ngIf",r.videoPosterSources[n])}}function oH(e,t){if(1&e&&(I(0,"div",29)(1,"p",30),L(2),qi(3,"i18nPlural"),A(),W(4,iH,2,1,"ng-container",31),A()),2&e){const n=Y().$implicit,r=Y(3);T(2),Ke(" ",Xl(3,2,n.videoIDs.length,r.videoCountPluralStringMap)," "),T(2),R("ngForOf",n.videoIDs)}}Wo.\u0275fac=function(t){return new(t||Wo)(F(fo),F(ki))},Wo.\u0275cmp=Vn({type:Wo,selectors:[["app-list-dialog"]],viewQuery:function(t,n){if(1&t&&Nr(W$,5),2&t){let r;br(r=wr())&&(n.dialog=r.first)}},inputs:{formList:"formList",show:"show"},outputs:{hidden:"hidden"},standalone:!0,features:[sg],decls:17,vars:6,consts:[[1,"dialog",3,"close"],["listFormDialog",""],[1,"dialog__heading"],[4,"ngIf","ngIfElse"],["formTitleElse",""],[1,"form",3,"formGroup","ngSubmit"],["aria-live","polite","class","form-error",4,"ngIf"],["for","edit-list-dialog-name-input",1,"label"],["autocomplete","off","id","edit-list-dialog-name-input","name","name","placeholder","Enter the list name...","type","text",1,"input",3,"formControlName"],[1,"form__actions"],["type","button",1,"btn","btn--flat",3,"click"],[1,"btn","btn--primary",3,"disabled"],["aria-live","polite",1,"form-error"]],template:function(t,n){if(1&t&&(I(0,"dialog",0,1),ae("close",function(){return n.hidden.emit(n.submitted)}),I(2,"p",2),W(3,q$,2,0,"ng-container",3),W(4,Y$,1,0,"ng-template",null,4,ms),A(),I(6,"form",5),ae("ngSubmit",function(){return n.submitHandler()}),W(7,J$,2,1,"p",6),I(8,"div")(9,"label",7),L(10," List name "),A(),Oe(11,"input",8),A(),I(12,"div",9)(13,"button",10),ae("click",function(){return n.dialogElement.close()}),L(14," Cancel "),A(),I(15,"button",11),L(16," Save "),A()()()()),2&t){const r=Wi(5);T(3),R("ngIf",!n.list.id&&0!==n.list.id)("ngIfElse",r),T(3),R("formGroup",n.formGroup),T(1),R("ngIf",n.error),T(4),R("formControlName","name"),T(4),R("disabled",n.formGroup.invalid)}},dependencies:[Si,EE,qd,xa,Pa,Vd,pc,Qd],encapsulation:2});const sH=function(e){return["/list",e]};function aH(e,t){if(1&e&&(I(0,"li",23)(1,"a",24)(2,"h2",25),L(3),A(),W(4,nH,2,0,"div",26),W(5,oH,5,5,"div",27),A()()),2&e){const n=t.$implicit;T(1),R("routerLink",Mo(4,sH,n.id)),T(2),Ke(" ",n.name," "),T(1),R("ngIf",n.videoIDs&&0===n.videoIDs.length),T(1),R("ngIf",n.videoIDs&&n.videoIDs.length>0)}}function lH(e,t){if(1&e&&(Xt(0),I(1,"div",11)(2,"div",12)(3,"label",13),L(4," Search your lists "),A(),Oe(5,"input",14),A(),I(6,"div",15)(7,"label",16),L(8," Sort lists "),A(),Oe(9,"span",17),I(10,"select",18),W(11,tH,2,2,"option",19),A()()(),I(12,"ul",20),W(13,aH,6,6,"li",21),A(),Zt()),2&e){const n=Y().ngIf,r=Y();T(5),R("formControl",r.listFilter),T(5),R("formControl",r.listSort),T(1),R("ngForOf",r.listSortOptions),T(2),R("ngForOf",n)("ngForTrackBy",r.identifyList)}}function cH(e,t){if(1&e&&(Xt(0),I(1,"div",2)(2,"h1",3),L(3," Lists "),A(),I(4,"div",4),W(5,X$,2,0,"button",5),A()(),W(6,eH,6,1,"ng-container",0),W(7,lH,14,5,"ng-container",0),Zt()),2&e){const n=Y();T(5),R("ngIf",n.listCount>0),T(1),R("ngIf",0===n.listCount),T(1),R("ngIf",n.listCount>0)}}const uH={keys:["name"],threshold:.4},fv="listSortOptionID",vA="listsNoTutorial";class tu{constructor(t,n){this.ls=t,this.vds=n,this.listDialogVisible=!1,this.listCount=0,this.listFilter=new bs(""),this.listFilter$=this.listFilter.valueChanges.pipe(xm("")),this.listSortOptions=[{id:1,direction:1,key:"name",label:"Name"},{id:2,direction:1,key:"created",label:"Created \u25b2"},{id:3,direction:-1,key:"created",label:"Created \u25bc"},{id:4,direction:1,key:"updated",label:"Updated \u25b2"},{id:5,direction:-1,key:"updated",label:"Updated \u25bc"},{id:7,direction:1,key:"videos",label:"Videos \u25b2"},{id:6,direction:-1,key:"videos",label:"Videos \u25bc"}],this.tutorial=!0,this.videoCountPluralStringMap={"=0":"No videos","=1":"1 video",other:"# videos"},this.videoPosterSources={}}ngOnInit(){var t=this;this.tutorial="true"!=(localStorage.getItem(vA)||"false");let n=1;const r=localStorage.getItem(fv);r?n=parseInt(r):localStorage.setItem(fv,`${n}`),this.listSortOptionID=n;const i=this.listSortOptions.find(o=>o.id==n);this.listSort=new bs(i.id),this.listSort$=this.listSort.valueChanges.pipe(xm(n)),this.sortedFilteredVideoLists$=Zd(this.ls.videoLists$,this.listSort$,this.listFilter$).pipe(_e(([o,s,a])=>{s!=this.listSortOptionID&&(localStorage.setItem(fv,`${s}`),this.listSortOptionID=s);const l=a&&this.fuse?.search(a)?.map(u=>u.item)||o,c=this.listSortOptions.find(u=>u.id==s);return l?.sort((u,d)=>{const f=c.key;let h,g;"videos"===f?(h=u.videoIDs.length,g=d.videoIDs.length):(h=u[f],g=d[f]);const m="string"==typeof h||h instanceof String?h.toLowerCase():h,D="string"==typeof g||g instanceof String?g.toLowerCase():g;return m<D?-1*c.direction:m>D?1*c.direction:0})})),this.videoListsSub=this.ls.videoLists$.subscribe(function(){var o=xt(function*(s){if(t.listCount=s.length||0,t.fuse=new dy(s,uH),!t.listCount)return;localStorage.setItem(vA,"true"),t.tutorial=!1;const a=Array.prototype.concat.apply([],s.map(c=>c.videoIDs)),l=new Set(a);(yield t.ls.getVideos([...l])).forEach(function(){var c=xt(function*(u){if(!u||!u.posterPath)return;const d=yield jS(t.vds.getImgSources(u.posterPath));t.videoPosterSources[u.id]=d});return function(u){return c.apply(this,arguments)}}())});return function(s){return o.apply(this,arguments)}}())}ngOnDestroy(){this.videoListsSub?.unsubscribe()}identifyList(t,n){return`${n.id}${n.name}`}}tu.\u0275fac=function(t){return new(t||tu)(F(fo),F(Ni))},tu.\u0275cmp=Vn({type:tu,selectors:[["app-lists-page"]],decls:4,vars:4,consts:[[4,"ngIf"],[3,"show","hidden"],[1,"title-bar"],[1,"title-bar__heading"],[1,"title-bar__actions"],["aria-label","Create a list","class","icon-btn",3,"click",4,"ngIf"],["aria-label","Create a list",1,"icon-btn",3,"click"],[1,"icon","icon--add"],[1,"u-tutorial"],[1,"btn","btn--primary",3,"click"],[1,"u-mb-24"],[1,"lists__actions"],[1,"search-wrapper","lists__filter"],["for","search-filter",1,"u-sr-only"],["autocomplete","off","id","search-filter","placeholder","Search your lists...","type","text",1,"input",3,"formControl"],[1,"select-wrapper"],["for","lists-sort",1,"u-sr-only"],[1,"icon","icon--chevron"],["id","lists-sort",1,"select",3,"formControl"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"list"],["class","lists__li",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngValue"],[1,"lists__li"],[1,"video-list","list",3,"routerLink"],[1,"video-list__name"],["class","u-text-center u-mb-16",4,"ngIf"],["class","video-list__posters",4,"ngIf"],[1,"u-text-center","u-mb-16"],[1,"video-list__posters"],[1,"u-sr-only"],[4,"ngFor","ngForOf"],["class","video-list__poster","role","presentation","sizes","100px",3,"src","srcset",4,"ngIf"],["role","presentation","sizes","100px",1,"video-list__poster",3,"src","srcset"]],template:function(t,n){1&t&&(I(0,"section"),W(1,cH,8,3,"ng-container",0),qi(2,"async"),A(),I(3,"app-list-dialog",1),ae("hidden",function(){return n.listDialogVisible=!1}),A()),2&t&&(T(1),R("ngIf",Ql(2,2,n.sortedFilteredVideoLists$)),T(2),R("show",n.listDialogVisible))},dependencies:[Is,vs,Si,uE,fE,xa,Xd,Pa,Wo,Yd,Td,Jg],styles:["[_ngcontent-%COMP%]:root{--color-danger: #ef5350;--color-interactive: #2196f3;--color-interacting: #64b5f6;--color-bg-1: #141416;--color-bg-2: #23262f;--color-grey-1: #575d71;--color-text: #fcfcfd;--color-text-inverted: #141416;--color-text-muted: #b1b5c3}.light-theme[_ngcontent-%COMP%]{--color-danger: #c62828;--color-interactive: #1565c0;--color-interacting: #42a5f5;--color-bg-1: #e6e8ec;--color-bg-2: #fcfcfd;--color-grey-1: #b1b5c3;--color-text: #141416;--color-text-inverted: #fcfcfd;--color-text-muted: #575d71}.lists__actions[_ngcontent-%COMP%]{display:flex;gap:32px;margin-bottom:40px}@media (width < 600px){.lists__actions[_ngcontent-%COMP%]{flex-direction:column}}.lists__filter[_ngcontent-%COMP%]{flex-grow:1}.video-list[_ngcontent-%COMP%]{background-color:var(--card-bg-color, var(--color-bg-2));border-radius:20px;box-shadow:0 64px 64px -48px #1414161a;padding:var(--card-padding, 24px);display:flex;flex-direction:column;gap:8px}@media (width < 600px){.video-list[_ngcontent-%COMP%]{--card-padding: 16px 24px}}.video-list__name[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-weight:700;letter-spacing:-.02em;line-height:1.167em;font-size:2rem}.video-list__posters[_ngcontent-%COMP%]{display:flex;gap:8px;overflow:auto}.video-list__poster[_ngcontent-%COMP%]{--fully-visible-posters: 3;border-radius:6px;flex-shrink:0;width:calc((100% - var(--fully-visible-posters) * 8px) / var(--fully-visible-posters) - 8px)}@media (width >= 500px){.video-list__poster[_ngcontent-%COMP%]{--fully-visible-posters: 5}}@media (width >= 600px){.video-list__poster[_ngcontent-%COMP%]{--fully-visible-posters: 7}}"]});class dH extends Jt{constructor(t,n){super()}schedule(t,n=0){return this}}const rh={setInterval(e,t,...n){const{delegate:r}=rh;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=rh;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class nu{constructor(t,n=nu.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}nu.now=iv.now;const hv=new class hH extends nu{constructor(t,n=nu.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class fH extends dH{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return rh.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&rh.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Jo(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),pH=hv;function yH(e,t){return e===t}const vH=["addListener","removeListener"],_H=["addEventListener","removeEventListener"],bH=["on","off"];function pv(e,t,n,r){if(Pe(n)&&(r=n,n=void 0),r)return pv(e,t,n).pipe(cm(r));const[i,o]=function CH(e){return Pe(e.addEventListener)&&Pe(e.removeEventListener)}(e)?_H.map(s=>a=>e[s](t,a,n)):function wH(e){return Pe(e.addListener)&&Pe(e.removeListener)}(e)?vH.map(_A(e,t)):function DH(e){return Pe(e.on)&&Pe(e.off)}(e)?bH.map(_A(e,t)):[];if(!i&&lh(e))return hn(s=>pv(s,t,n))(er(e));if(!i)throw new TypeError("Invalid event target");return new G(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function _A(e,t){return n=>r=>e[n](t,r)}const bA={leading:!0,trailing:!1};function AH(e,t=hv,n=bA){const r=function IH(e=0,t,n=pH){let r=-1;return null!=t&&(kv(t)?n=t:r=t),new G(i=>{let o=function SH(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(e,t);return function EH(e,t=bA){return ct((n,r)=>{const{leading:i,trailing:o}=t;let s=!1,a=null,l=null,c=!1;const u=()=>{l?.unsubscribe(),l=null,o&&(h(),c&&r.complete())},d=()=>{l=null,c&&r.complete()},f=g=>l=er(e(g)).subscribe(st(r,u,d)),h=()=>{if(s){s=!1;const g=a;a=null,r.next(g),!c&&f(g)}};n.subscribe(st(r,g=>{s=!0,a=g,(!l||l.closed)&&(i?h():f(g))},()=>{c=!0,(!(o&&s&&l)||l.closed)&&r.complete()}))})}(()=>r,n)}function MH(e,t,n,r){const i=window&&!!window.document&&window.document.documentElement;let o=i&&t?window:n;if(e&&(o=e&&i&&"string"==typeof e?function TH(e,t,n){return(n?window.document:t).querySelector(e)}(e,n.nativeElement,r):e,!o))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return o}function gv(e){return e&&!e.firstChange}const PH={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},OH={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class kH{constructor(t=!0){this.vertical=t,this.propsMap=t?PH:OH}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function LH(e){return["Window","global"].some(n=>Object.prototype.toString.call(e).includes(n))}function mv(e,t){return e?t.document.documentElement:null}function wA(e,t){const n=function BH({container:e,isWindow:t,axis:n}){const{offsetHeightKey:r,clientHeightKey:i}=DA(n);return CA(e,t,r,i)}(t);return t.isWindow?function VH(e,t,n){const{axis:r,container:i,isWindow:o}=n,{offsetHeightKey:s,clientHeightKey:a}=DA(r),l=e+EA(mv(o,i),r,o),c=CA(t.nativeElement,o,s,a),u=function UH(e,t,n){const r=t.topKey();if(e.getBoundingClientRect)return e.getBoundingClientRect()[r]+EA(e,t,n)}(t.nativeElement,r,o)+c;return{height:e,scrolled:l,totalToScroll:u,isWindow:o}}(n,e,t):function jH(e,t,n){const{axis:r,container:i}=n;return{height:e,scrolled:i[r.scrollTopKey()],totalToScroll:i[r.scrollHeightKey()],isWindow:!1}}(n,0,t)}function DA(e){return{offsetHeightKey:e.offsetHeightKey(),clientHeightKey:e.clientHeightKey()}}function CA(e,t,n,r){if(isNaN(e[n])){const i=mv(t,e);return i?i[r]:0}return e[n]}function EA(e,t,n){const r=t.pageYOffsetKey(),i=t.scrollTopKey(),o=t.offsetTopKey();return isNaN(window.pageYOffset)?mv(n,e)[i]:e.ownerDocument?e.ownerDocument.defaultView[r]:e[o]}function $H(e,t={down:0,up:0},n){let r,i;if(e.totalToScroll<=0)return!1;const o=e.isWindow?e.scrolled:e.height+e.scrolled;return n?(r=(e.totalToScroll-o)/e.totalToScroll,i=(t?.down?t.down:0)/10):(r=e.scrolled/(e.scrolled+(e.totalToScroll-o)),i=(t?.up?t.up:0)/10),r<=i}class WH{constructor({totalToScroll:t}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=t}updateScrollPosition(t){return this.lastScrollPosition=t}updateTotalToScroll(t){this.lastTotalToScroll!==t&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=t)}updateScroll(t,n){this.updateScrollPosition(t),this.updateTotalToScroll(n)}updateTriggeredFlag(t,n){n?this.triggered.down=t:this.triggered.up=t}isTriggeredScroll(t,n){return n?this.triggered.down===t:this.triggered.up===t}}function qH(e){const{scrollContainer:t,scrollWindow:n,element:r,fromRoot:i}=e,o=function NH({windowElement:e,axis:t}){return function FH(e,t){const n=e.isWindow||t&&!t.nativeElement?t:t.nativeElement;return{...e,container:n}}({axis:t,isWindow:LH(e)},e)}({axis:new kH(!e.horizontal),windowElement:MH(t,n,r,i)}),s=new WH({totalToScroll:wA(r,o)}),l={up:e.upDistance,down:e.downDistance};return function YH(e){let t=pv(e.container,"scroll");return e.throttle&&(t=t.pipe(AH(e.throttle,void 0,{leading:!0,trailing:!0}))),t}({container:o.container,throttle:e.throttle}).pipe(hn(()=>ne(wA(r,o))),_e(c=>function JH(e,t,n){const{scrollDown:r,fire:i}=function GH(e,t,n){const r=function HH(e,t){return e<t.scrolled}(e,t);return{fire:$H(t,n,r),scrollDown:r}}(e,t,n);return{scrollDown:r,fire:i,stats:t}}(s.lastScrollPosition,c,l)),Wt(({stats:c})=>s.updateScroll(c.scrolled,c.totalToScroll)),Ai(({fire:c,scrollDown:u,stats:{totalToScroll:d}})=>function RH(e,t,n){return!!(e&&t||!n&&t)}(e.alwaysCallback,c,s.isTriggeredScroll(d,u))),Wt(({scrollDown:c,stats:{totalToScroll:u}})=>{s.updateTriggeredFlag(u,c)}),_e(QH))}function QH(e){const{scrollDown:t,stats:{scrolled:n}}=e;return{type:t?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:n}}}let XH=(()=>{class e{constructor(n,r){this.element=n,this.zone=r,this.scrolled=new ht,this.scrolledUp=new ht,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:n,infiniteScrollDisabled:r,infiniteScrollDistance:i}){const o=gv(n),s=gv(r),a=gv(i),l=!s&&!this.infiniteScrollDisabled||s&&!r.currentValue||a;(o||s||a)&&(this.destroyScroller(),l&&this.setup())}setup(){(function xH(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=qH({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(n=>this.handleOnScroll(n))})}handleOnScroll({type:n,payload:r}){const i="[NGX_ISE] DOWN"===n?this.scrolled:this.scrolledUp;(function ZH(e){return e.observed??e.observers.length>0})(i)&&this.zone.run(()=>i.emit(r))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(F(or),F(en))},e.\u0275dir=Me({type:e,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[Un]}),e})(),e4=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=hr({type:e}),e.\u0275inj=tr({}),e})();const t4=["addToListDialog"];function n4(e,t){if(1&e&&(I(0,"li",16),Oe(1,"input",17),I(2,"label",18)(3,"div",19),Oe(4,"span",20)(5,"span",21),A(),L(6),A()()),2&e){const n=t.index,r=Y(3);R("formArrayName","listsArray"),T(1),wa("id","list-checkbox-",n,""),R("formControlName",n),T(1),wa("for","list-checkbox-",n,""),T(4),Ke(" ",null==r.lists||null==r.lists[n]?null:r.lists[n].name," ")}}function r4(e,t){if(1&e){const n=_n();I(0,"form",9),ae("ngSubmit",function(){return Rt(n),Nt(Y(2).submitHandler())}),I(1,"p",10),L(2," Select lists to add the video to "),A(),I(3,"ul",11),W(4,n4,7,5,"li",12),A(),I(5,"div",13)(6,"button",14),ae("click",function(){return Rt(n),Nt(Y(2).addToListDialogEl.close())}),L(7," Cancel "),A(),I(8,"button",15),L(9," Save "),A()()()}if(2&e){const n=Y(2);R("formGroup",n.addToListFormGroup),T(4),R("ngForOf",n.formListsArray.controls),T(4),R("disabled",!n.canSubmit)}}function i4(e,t){if(1&e){const n=_n();Xt(0),I(1,"h2",5),L(2," Add to lists "),A(),I(3,"button",6),ae("click",function(){return Rt(n),Nt(Y().showAddListDialog())}),Oe(4,"span",7),L(5," Create a list "),A(),W(6,r4,10,3,"form",8),Zt()}if(2&e){const n=Y(),r=Wi(4);T(6),R("ngIf",n._video)("ngIfElse",r)}}function o4(e,t){1&e&&L(0," Video not found ")}const SA="dialog--invisible",s4=`${zo}. ${Ko}.`;class Ls{set show(t){t&&(this.addToListDialogEl.showModal(),this.addToListDialogEl.focus())}constructor(t,n){this.ls=t,this.ts=n,this.addToListFormGroup=new dc({listsArray:new CE([])}),this.formListsArrayPrevVal=[],this.listDialogVisible=!1,this.submitting=!1,this.hidden=new ht}get canSubmit(){return this.formValuesChanged&&!this.submitting}get addToListDialogEl(){return this.addToListDialog.nativeElement}get formListsArray(){return this.addToListFormGroup.get("listsArray")}get formValuesChanged(){return!this.formListsArrayPrevVal.every((t,n)=>t===this.formListsArray.value[n])}ngOnInit(){this.videoListsSub=this.ls.videoLists$.subscribe(t=>{t.sort((n,r)=>n.name>r.name?1:-1),this.lists=[...t],this.updateCheckboxes()})}ngOnChanges(t){var n=this;return xt(function*(){const r=t.video;r&&r.currentValue&&(n._video=r.currentValue,"id"in n._video||(n._video=(yield n.ls.getVideoUsingServerID(n._video))||n._video)),n.updateCheckboxes()})()}ngOnDestroy(){this.videoListsSub?.unsubscribe()}updateCheckboxes(){!this._video||!this.lists||0==this.lists.length||(this.formListsArray.clear(),this.lists.forEach(t=>{this.formListsArray.push(new bs("id"in this._video&&t.videoIDs.includes(this._video.id)))}),this.formListsArrayPrevVal=[...this.formListsArray.value])}showAddListDialog(){this.addToListDialogEl.classList.add(SA),this.listDialogVisible=!0}addListDialogHidden(){this.addToListDialogEl.classList.remove(SA),this.listDialogVisible=!1}submitHandler(){var t=this;return xt(function*(){if(!t._video)return;t.submitting=!0;const n=[],r=[],i=t.formListsArray.value;t.lists?.forEach((o,s)=>{const l=i[s];t.formListsArrayPrevVal[s]!==l&&(l?r.push(o):n.push(o))});try{const o=yield t.ls.addVideoToLists(t._video,r);t._video=o||t._video,yield t.ls.removeVideoFromLists(t._video,n),t.formListsArrayPrevVal=[...t.formListsArray.value]}catch(o){t.ts.addToast(s4),console.error(o)}t.submitting=!1,t.addToListDialogEl.close()})()}}function a4(e,t){1&e&&(Xt(0),Oe(1,"span",9),I(2,"span",10),L(3,"movie"),A(),Zt())}function l4(e,t){1&e&&(Xt(0),Oe(1,"span",11),I(2,"span",10),L(3,"TV show"),A(),Zt())}function c4(e,t){if(1&e&&(I(0,"div",6)(1,"span",7),W(2,a4,4,0,"ng-container",8),W(3,l4,4,0,"ng-container",8),A()()),2&e){const n=Y(2);T(2),R("ngIf",n.isMovie),T(1),R("ngIf",!n.isMovie)}}function u4(e,t){if(1&e&&(I(0,"span"),L(1),A()),2&e){const n=Y(3);T(1),Ke("\xa0-\xa0",n.endYear,"")}}function d4(e,t){if(1&e&&(I(0,"div",6),L(1),W(2,u4,2,1,"span",8),A()),2&e){const n=Y(2);T(1),Ke(" ",n.releaseYear,""),T(1),R("ngIf",n.endYear&&n.endYear!==n.releaseYear)}}function f4(e,t){if(1&e&&(I(0,"div",6),L(1),A()),2&e){const n=Y(2);T(1),Ke(" ",n.video.status," ")}}function h4(e,t){if(1&e&&(I(0,"div",6)(1,"span",12),L(2),A(),I(3,"span",10),L(4),A()()),2&e){const n=Y(3);T(2),Ke(" ",null==n.runtime?null:n.runtime[0]," "),T(2),Ke(" ",null==n.runtime?null:n.runtime[1]," ")}}function p4(e,t){if(1&e&&(I(0,"div",6),L(1),qi(2,"i18nPlural"),A()),2&e){const n=Y(3);T(1),Ke(" ",Xl(2,1,n.video.seasons,n.seasonCountPluralStringMap)," ")}}function g4(e,t){if(1&e&&(I(0,"div",6),L(1),qi(2,"i18nPlural"),A()),2&e){const n=Y(3);T(1),Ke(" ",Xl(2,1,n.video.episodes,n.episodeCountPluralStringMap)," ")}}function m4(e,t){if(1&e&&(I(0,"div",2),W(1,h4,5,2,"div",3),W(2,p4,3,4,"div",3),W(3,g4,3,4,"div",3),A()),2&e){const n=Y(2);T(1),R("ngIf",""!==(null==n.runtime?null:n.runtime[0])),T(1),R("ngIf",n.inline&&n.video.seasons),T(1),R("ngIf",n.inline&&n.video.episodes)}}function y4(e,t){if(1&e&&(I(0,"div",13)(1,"span",10),L(2,"Rated"),A(),Oe(3,"span",14),L(4),qi(5,"number"),A()),2&e){const n=Y(2);T(4),Ke(" ",Xl(5,1,n.video.rating,"1.0-1")," ")}}function v4(e,t){if(1&e&&(I(0,"div",1)(1,"div",2),W(2,c4,4,2,"div",3),W(3,d4,3,2,"div",3),W(4,f4,2,1,"div",3),A(),W(5,m4,4,3,"div",4),W(6,y4,6,4,"div",5),A()),2&e){const n=Y();Ca("video-details--inline",!0===n.inline),T(2),R("ngIf",n.video.type||n.video.releaseYear||"Released"!==n.video.status),T(1),R("ngIf",n.releaseYear),T(1),R("ngIf",n.inline&&n.video.status),T(1),R("ngIf",""!==(null==n.runtime?null:n.runtime[0])||n.video.seasons||n.video.episodes),T(1),R("ngIf",n.video.rating)}}Ls.\u0275fac=function(t){return new(t||Ls)(F(fo),F(ki))},Ls.\u0275cmp=Vn({type:Ls,selectors:[["app-add-to-list"]],viewQuery:function(t,n){if(1&t&&Nr(t4,5),2&t){let r;br(r=wr())&&(n.addToListDialog=r.first)}},inputs:{video:"video",show:"show"},outputs:{hidden:"hidden"},features:[Un],decls:6,vars:3,consts:[[1,"dialog","u-text-center",3,"close"],["addToListDialog",""],[4,"ngIf","ngIfElse"],["noVideo",""],[3,"show","hidden"],[1,"dialog__heading"],[1,"add-to-list__new-list-btn","btn","btn--secondary","u-mb-24",3,"click"],[1,"icon","icon--add"],[3,"formGroup","ngSubmit",4,"ngIf","ngIfElse"],[3,"formGroup","ngSubmit"],[1,"u-sr-only"],["aria-label","Your lists",1,"add-to-list__checkbox-list","checkbox-list"],["class","checkbox",3,"formArrayName",4,"ngFor","ngForOf"],[1,"form__actions"],["type","button",1,"btn","btn--flat",3,"click"],[1,"btn","btn--primary",3,"disabled"],[1,"checkbox",3,"formArrayName"],["type","checkbox",1,"checkbox__input",3,"formControlName","id"],[1,"checkbox__label",3,"for"],[1,"checkbox__icon-wrapper"],[1,"icon","icon--checked"],[1,"icon","icon--unchecked"]],template:function(t,n){if(1&t&&(I(0,"dialog",0,1),ae("close",function(){return n.hidden.emit()}),W(2,i4,7,2,"ng-container",2),W(3,o4,1,0,"ng-template",null,3,ms),A(),I(5,"app-list-dialog",4),ae("hidden",function(){return n.addListDialogHidden()}),A()),2&t){const r=Wi(4);T(2),R("ngIf",n._video)("ngIfElse",r),T(3),R("show",n.listDialogVisible)}},dependencies:[vs,Si,qd,Nd,Pa,Vd,Wo,pc,Qd,Jd],styles:["[_ngcontent-%COMP%]:root{--color-danger: #ef5350;--color-interactive: #2196f3;--color-interacting: #64b5f6;--color-bg-1: #141416;--color-bg-2: #23262f;--color-grey-1: #575d71;--color-text: #fcfcfd;--color-text-inverted: #141416;--color-text-muted: #b1b5c3}.light-theme[_ngcontent-%COMP%]{--color-danger: #c62828;--color-interactive: #1565c0;--color-interacting: #42a5f5;--color-bg-1: #e6e8ec;--color-bg-2: #fcfcfd;--color-grey-1: #b1b5c3;--color-text: #141416;--color-text-inverted: #fcfcfd;--color-text-muted: #575d71}@media (height >= 500px){.add-to-list__checkbox-list[_ngcontent-%COMP%]{max-height:40vh;overflow-y:auto}}"]});class nl{constructor(){this.episodeCountPluralStringMap={"=1":"1 episode",other:"# episodes"},this.seasonCountPluralStringMap={"=1":"1 season",other:"# seasons"}}ngOnChanges(t){if(!t||!t.video)return;const n=t.video.currentValue;if(!n)return;this.isMovie=n.type==de.Movie,this.releaseYear=n.releaseDate?.split("-")[0];const r=n.endDate?.split("-")[0];this.endYear=this.releaseYear!=this.endYear?r:null,this.runtime=this.formatRuntime(n.runtime)}formatRuntime(t){const n=["",""];if(!t)return n;const r=parseInt(t);if(!r)return n;const i=Math.floor(r/60),o=r%60;return[`${i}h ${o}m`,`${i} hour${1==i?"":"s"} and ${o} minute${1==o?"":"s"}`]}}nl.\u0275fac=function(t){return new(t||nl)},nl.\u0275cmp=Vn({type:nl,selectors:[["app-video-details"]],inputs:{inline:"inline",video:"video"},features:[Un],decls:1,vars:1,consts:[["class","video-details",3,"video-details--inline",4,"ngIf"],[1,"video-details"],[1,"video-details__block"],["class","video-details__detail",4,"ngIf"],["class","video-details__block",4,"ngIf"],["class","video-details__rating",4,"ngIf"],[1,"video-details__detail"],[1,"video-details__icon","video-details__icon--type"],[4,"ngIf"],[1,"icon","icon--movie"],[1,"u-sr-only"],[1,"icon","icon--tv"],["aria-hidden","true"],[1,"video-details__rating"],["role","presentation",1,"video-details__icon","video-details__icon--star","icon","icon--star"]],template:function(t,n){1&t&&W(0,v4,7,7,"div",0),2&t&&R("ngIf",n.video)},dependencies:[Si,Y0,Jg],styles:['[_ngcontent-%COMP%]:root{--color-danger: #ef5350;--color-interactive: #2196f3;--color-interacting: #64b5f6;--color-bg-1: #141416;--color-bg-2: #23262f;--color-grey-1: #575d71;--color-text: #fcfcfd;--color-text-inverted: #141416;--color-text-muted: #b1b5c3}.light-theme[_ngcontent-%COMP%]{--color-danger: #c62828;--color-interactive: #1565c0;--color-interacting: #42a5f5;--color-bg-1: #e6e8ec;--color-bg-2: #fcfcfd;--color-grey-1: #b1b5c3;--color-text: #141416;--color-text-inverted: #fcfcfd;--color-text-muted: #575d71}.video-details[_ngcontent-%COMP%]{display:flex;font-size:2.5em}.video-details[_ngcontent-%COMP%]:not(.video-details--inline){flex-direction:column;gap:12px}@media (width < 600px){.video-details[_ngcontent-%COMP%]{flex-direction:column;gap:12px}}.video-details__block[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap}.video-details__detail[_ngcontent-%COMP%]{align-items:center;display:flex}.video-details__detail[_ngcontent-%COMP%]:not(:last-child):after{background-color:#777e90;border-radius:50%;content:"";height:.35em;margin:0 var(--video-detail-before-side-margin, .5em);width:.35em}.video-details__rating[_ngcontent-%COMP%]{align-items:center;display:flex;gap:.5em}.video-details__icon[_ngcontent-%COMP%]{margin-top:-.2em}.video-details__icon--type[_ngcontent-%COMP%]{--icon-size: 1.75em}.video-details__icon--star[_ngcontent-%COMP%]{--icon-size: 1em;--icon-color: #fbc02d}@media (width >= 600px){.video-details--inline[_ngcontent-%COMP%]   .video-details__block[_ngcontent-%COMP%]:not(:last-child):after{background-color:#777e90;border-radius:50%;content:"";height:.35em;margin:0 var(--video-detail-before-side-margin, .5em);width:.35em}}']});const IA=function(e){return{type:e}},AA=function(e){return["/video",e]},MA=function(e){return{video:e}};function _4(e,t){if(1&e&&(I(0,"a",16),ed(1,17),A()),2&e){const n=Y(3),r=Wi(4);R("queryParams",Mo(5,IA,n.video.type))("routerLink",Mo(7,AA,n.video.serverID)),Gn("aria-label",n.video.title),T(1),R("ngTemplateOutlet",r)("ngTemplateOutletContext",Mo(9,MA,n.video))}}function b4(e,t){if(1&e&&(I(0,"div",14),W(1,_4,2,11,"a",15),A()),2&e){const n=Y(2),r=Wi(2);T(1),R("ngIf",n.video.serverID)("ngIfElse",r)}}function w4(e,t){if(1&e&&(I(0,"h2",19),L(1),A()),2&e){const n=Y(3);T(1),Ke(" ",n.video.title," ")}}function D4(e,t){if(1&e&&(I(0,"a",18),W(1,w4,2,1,"h2",8),A()),2&e){const n=Y(2);R("queryParams",Mo(4,IA,n.video.type))("routerLink",Mo(6,AA,n.video.serverID)),Gn("aria-label",n.video.title),T(1),R("ngIf",n.video.title)}}function C4(e,t){if(1&e&&(I(0,"h2",19),L(1),A()),2&e){const n=Y(2);T(1),Ke(" ",n.video.title," ")}}function E4(e,t){if(1&e){const n=_n();I(0,"button",23),ae("click",function(){return Rt(n),Nt(Y(3).remove.emit())}),Oe(1,"span",24),A()}}function S4(e,t){if(1&e){const n=_n();I(0,"button",25),ae("click",function(){return Rt(n),Nt(Y(3).moveUp.emit())}),Oe(1,"span",26),A()}}function I4(e,t){if(1&e){const n=_n();I(0,"button",27),ae("click",function(){return Rt(n),Nt(Y(3).moveDown.emit())}),Oe(1,"span",26),A()}}function A4(e,t){if(1&e&&(Xt(0),W(1,E4,2,0,"button",20),W(2,S4,2,0,"button",21),W(3,I4,2,0,"button",22),Zt()),2&e){const n=Y(2);T(1),R("ngIf",n.onListPage),T(1),R("ngIf",n.onListPage&&!n.isFirst),T(1),R("ngIf",n.onListPage&&!n.isLast)}}function M4(e,t){if(1&e){const n=_n();I(0,"div",3),W(1,b4,2,2,"div",4),I(2,"div",5)(3,"div",6),W(4,D4,2,8,"a",7),W(5,C4,2,1,"h2",8),Oe(6,"app-video-details",9),A(),I(7,"div",10),W(8,A4,4,3,"ng-container",11),I(9,"button",12),ae("click",function(){return Rt(n),Nt(Y().add.emit())}),Oe(10,"span",13),A()()()()}if(2&e){const n=Y();T(1),R("ngIf",n.video.posterPath),T(3),R("ngIf",n.video.serverID),T(1),R("ngIf",!n.video.serverID&&n.video.title),T(1),R("video",n.video),T(2),R("ngIf",n.onListPage)}}function T4(e,t){if(1&e&&(I(0,"div"),ed(1,17),A()),2&e){const n=Y(),r=Wi(4);T(1),R("ngTemplateOutlet",r)("ngTemplateOutletContext",Mo(2,MA,n.video))}}function x4(e,t){if(1&e&&Oe(0,"img",29),2&e){const n=t.ngIf;Zr("src",n.poster.src,us),Zr("srcset",n.poster.srcSet)}}function P4(e,t){if(1&e&&(W(0,x4,1,2,"img",28),qi(1,"async")),2&e){const n=t.video,r=Y();R("ngIf",n.posterPath&&Ql(1,1,r.vds.getImgSources(n.posterPath)))}}class rl{constructor(t){this.vds=t,this.add=new ht,this.remove=new ht,this.moveUp=new ht,this.moveDown=new ht}get onListPage(){return!!this.video&&"id"in this.video}}rl.\u0275fac=function(t){return new(t||rl)(F(Ni))},rl.\u0275cmp=Vn({type:rl,selectors:[["app-video-card"]],inputs:{isFirst:"isFirst",isLast:"isLast",video:"video"},outputs:{add:"add",remove:"remove",moveUp:"moveUp",moveDown:"moveDown"},decls:5,vars:1,consts:[["class","video-card",4,"ngIf"],["videoCardImageDiv",""],["videoCardImage",""],[1,"video-card"],["class","video-card__img-wrapper",4,"ngIf"],[1,"video-card__bottom"],[1,"video-card__content"],[3,"queryParams","routerLink",4,"ngIf"],["class","video-card__name",4,"ngIf"],[3,"video"],[1,"video-card__actions"],[4,"ngIf"],["aria-label","Add to another list",1,"icon-btn",3,"click"],[1,"icon","icon--add-to-list"],[1,"video-card__img-wrapper"],["class","video-card__a",3,"queryParams","routerLink",4,"ngIf","ngIfElse"],[1,"video-card__a",3,"queryParams","routerLink"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"queryParams","routerLink"],[1,"video-card__name"],["aria-label","Remove from this list","class","icon-btn",3,"click",4,"ngIf"],["aria-label","Move video up in list","class","icon-btn video-card__move-up-btn",3,"click",4,"ngIf"],["aria-label","Move video down in list","class","icon-btn video-card__move-down-btn",3,"click",4,"ngIf"],["aria-label","Remove from this list",1,"icon-btn",3,"click"],[1,"icon","icon--remove"],["aria-label","Move video up in list",1,"icon-btn","video-card__move-up-btn",3,"click"],[1,"icon","icon--caret"],["aria-label","Move video down in list",1,"icon-btn","video-card__move-down-btn",3,"click"],["class","video-card__img","role","presentation","sizes","154px",3,"src","srcset",4,"ngIf"],["role","presentation","sizes","154px",1,"video-card__img",3,"src","srcset"]],template:function(t,n){1&t&&(W(0,M4,11,5,"div",0),W(1,T4,2,4,"ng-template",null,1,ms),W(3,P4,2,3,"ng-template",null,2,ms)),2&t&&R("ngIf",n.video)},dependencies:[Is,Si,W0,nl,Td],styles:["[_ngcontent-%COMP%]:root{--color-danger: #ef5350;--color-interactive: #2196f3;--color-interacting: #64b5f6;--color-bg-1: #141416;--color-bg-2: #23262f;--color-grey-1: #575d71;--color-text: #fcfcfd;--color-text-inverted: #141416;--color-text-muted: #b1b5c3}.light-theme[_ngcontent-%COMP%]{--color-danger: #c62828;--color-interactive: #1565c0;--color-interacting: #42a5f5;--color-bg-1: #e6e8ec;--color-bg-2: #fcfcfd;--color-grey-1: #b1b5c3;--color-text: #141416;--color-text-inverted: #fcfcfd;--color-text-muted: #575d71}.video-card[_ngcontent-%COMP%]{--icon-btn-size: 24px;--icon-size: 2em;background-color:var(--card-bg-color, var(--color-bg-2));border-radius:20px;box-shadow:0 64px 64px -48px #1414161a;padding:var(--card-padding, 24px);display:flex;gap:var(--video-card-gap, 16px)}@media (width < 350px){.video-card[_ngcontent-%COMP%]{align-items:center;flex-direction:column}}@media (width >= 600px){.video-card[_ngcontent-%COMP%]{--icon-size: 2em;--video-card-gap: 24px}}@media (width < 600px){.video-card[_ngcontent-%COMP%]{--card-padding: 16px}}.video-card__a[_ngcontent-%COMP%]{border:2px solid var(--video-card-link-border-color, transparent);border-radius:6px;display:block;transition:border .25s ease-in-out}.video-card__a[_ngcontent-%COMP%]:focus-visible, .video-card__a[_ngcontent-%COMP%]:hover{--video-card-link-border-color: var(--color-interacting)}.video-card__img-wrapper[_ngcontent-%COMP%]{aspect-ratio:2/3;max-width:120px}@media (width >= 350px){.video-card__img-wrapper[_ngcontent-%COMP%]{width:50%}}.video-card__img[_ngcontent-%COMP%]{border-radius:6px;display:block;width:100%}.video-card__bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--video-card-bottom-gap, 16px);justify-content:space-between;width:100%}.video-card__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:var(--video-card-content-font-size, 5px);gap:var(--video-card-content-gap, 16px)}@media (width < 350px){.video-card__content[_ngcontent-%COMP%]{align-items:center}}@media (width >= 600px){.video-card__content[_ngcontent-%COMP%]{--video-card-content-font-size: 6px}}.video-card__name[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-weight:700;letter-spacing:-.02em;line-height:1.167em;font-size:3em}@media (width < 350px){.video-card__name[_ngcontent-%COMP%]{text-align:center}}.video-card__actions[_ngcontent-%COMP%]{align-items:flex-end;display:flex;flex-wrap:wrap;gap:24px;justify-content:var(--video-card-actions-justify-content, flex-end)}@media (width >= 350px){.video-card__actions[_ngcontent-%COMP%]{--video-card-actions-justify-content: flex-end}}.video-card__move-up-btn[_ngcontent-%COMP%]{transform:scaleY(-1)}"]});const O4=["resultsFeed"];function k4(e,t){if(1&e){const n=_n();I(0,"div",14),Oe(1,"p",15),I(2,"div",16)(3,"button",17),ae("click",function(){return Rt(n),Nt(Y().dismissBanner())}),Oe(4,"span",18),A()()()}if(2&e){const n=Y();T(1),R("innerHTML",n.apiKeyMsg,yp)}}function R4(e,t){1&e&&(I(0,"p",19),L(1," No results found. "),A())}function N4(e,t){if(1&e&&(I(0,"p",20),L(1),A()),2&e){const n=Y();T(1),Ke(" ",n.error," ")}}function F4(e,t){if(1&e){const n=_n();I(0,"div",21)(1,"app-video-card",22),ae("add",function(){const o=Rt(n).$implicit;return Nt(Y().addVideoToList(o))}),A()()}if(2&e){const n=t.$implicit,r=t.index,i=Y();Gn("aria-label",n.title)("aria-posinset",r+1)("aria-setsize",i.results.length),T(1),R("video",n)}}const TA="Search for movies & tv shows to add to your lists.",xA="hideSearchPageBanner";class ru{constructor(t,n,r){this.cdRef=t,this.router=n,this.vds=r,this.apiKeyMsg=hA,this.ariaBusy=!1,this.noResults=!1,this.query$=new yt,this.scrollEnd$=new yt,this.searchMsg=TA,this.showAddToListDialog=!1,this.showBanner="true"!=(localStorage.getItem(xA)||"false")&&!this.vds.apiKey}dismissBanner(){this.showBanner=!1,localStorage.setItem(xA,"true")}ngOnInit(){this.initialise(),this.mainSub=Vv(this.query$.pipe(function gH(e,t=hv){return ct((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function l(){const c=s+e,u=t.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}n.subscribe(st(r,c=>{o=c,s=t.now(),i||(i=t.schedule(l,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(500),function mH(e,t=Kr){return e=e??yH,ct((n,r)=>{let i,o=!0;n.subscribe(st(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),Wt(t=>{this.page=1,this.results=[],this.noResults=!1,this.error=""})),this.scrollEnd$).pipe(jr(t=>this.query?this.vds.search(this.query,this.page).pipe(Yn(n=>(n==iA&&(this.error=n),ne(null)))):ne(null)),Wt(t=>{this.ariaBusy=!0,t?(this.results=[...this.results,...t.results],this.totalPages=t.totalPages||0):(this.results=[],this.totalPages=0),0==this.results.length&&this.query&&(this.noResults=!0)})).subscribe(),this.routerEventSub=this.router.events.subscribe(t=>{t instanceof Sc&&this.vds.lastSearch$?.next({page:this.page,query:this.query,results:this.results,totalPages:this.totalPages})})}ngOnDestroy(){this.mainSub?.unsubscribe(),this.routerEventSub?.unsubscribe()}ngAfterViewChecked(){this.resultsFeed&&this.ariaBusy&&(this.ariaBusy=!1,this.cdRef.detectChanges())}addVideoToList(t){this.videoToAdd=t,this.showAddToListDialog=!0}infiniteScrollHandler(){this.page>=this.totalPages||(this.page=this.page+1,this.scrollEnd$.next(null))}initialise(){const{page:t,query:n,results:r,totalPages:i}=this.vds.lastSearch$?.getValue()||{};this.page=t||1,this.results=r||[],this.totalPages=i||this.totalPages,this.query=n||"",this.inputFormControl=new bs(this.query)}inputHandler(t){this.query=t.target.value?.trim(),this.query$.next(this.query)}}ru.\u0275fac=function(t){return new(t||ru)(F(nc),F(kn),F(Ni))},ru.\u0275cmp=Vn({type:ru,selectors:[["app-search-page"]],viewQuery:function(t,n){if(1&t&&Nr(O4,5),2&t){let r;br(r=wr())&&(n.resultsFeed=r.first)}},decls:18,vars:9,consts:[[1,"heading-1"],[1,"u-mb-32"],["class","banner u-mb-24",4,"ngIf"],["for","video-search-input",1,"u-sr-only"],[1,"container","container--narrow"],[1,"search-wrapper","u-mb-24"],[1,"icon","icon--search"],["aria-description","Search results will appear below","autocomplete","off","id","video-search-input","placeholder","Search movies & TV shows...","type","search",1,"search",3,"formControl","input"],["aria-live","polite","class","u-text-center",4,"ngIf"],["aria-live","polite","class","u-text-center u-error",4,"ngIf"],["infiniteScroll","","aria-label","Search results","role","feed",1,"list",3,"scrolled"],["resultsFeed",""],["role","article","tabindex","0",4,"ngFor","ngForOf"],[3,"show","video","hidden"],[1,"banner","u-mb-24"],[3,"innerHTML"],[1,"banner__actions"],["aria-label","Dismiss banner",1,"icon-btn",3,"click"],[1,"icon","icon--close"],["aria-live","polite",1,"u-text-center"],["aria-live","polite",1,"u-text-center","u-error"],["role","article","tabindex","0"],[3,"video","add"]],template:function(t,n){1&t&&(I(0,"section")(1,"h1",0),L(2," Search "),A(),I(3,"p",1),L(4),A(),W(5,k4,5,1,"div",2),I(6,"label",3),L(7," Search "),A(),I(8,"div",4)(9,"div",5),Oe(10,"span",6),I(11,"input",7),ae("input",function(i){return n.inputHandler(i)}),A()(),W(12,R4,2,0,"p",8),W(13,N4,2,1,"p",9),I(14,"div",10,11),ae("scrolled",function(){return n.infiniteScrollHandler()}),W(16,F4,2,4,"div",12),A()()(),I(17,"app-add-to-list",13),ae("hidden",function(){return n.showAddToListDialog=!1}),A()),2&t&&(T(4),Ke(" ",n.searchMsg," You can search by name, actor or director. "),T(1),R("ngIf",n.showBanner),T(6),R("formControl",n.inputFormControl),T(1),R("ngIf",n.noResults&&!n.error),T(1),R("ngIf",n.error),T(1),Gn("aria-busy",n.ariaBusy),T(2),R("ngForOf",n.results),T(1),R("show",n.showAddToListDialog)("video",n.videoToAdd))},dependencies:[vs,Si,xa,Pa,XH,Yd,Ls,rl],encapsulation:2});const L4=["deleteDialog"];function V4(e,t){if(1&e){const n=_n();I(0,"li",25)(1,"app-video-card",26),ae("add",function(){const o=Rt(n).$implicit;return Nt(Y(3).addVideoToList(o))})("remove",function(){const o=Rt(n).$implicit;return Nt(Y(3).prepareVideoForRemoval(o))})("moveUp",function(){const o=Rt(n).index;return Nt(Y(3).moveVideo(o,-1))})("moveDown",function(){const o=Rt(n).index;return Nt(Y(3).moveVideo(o,1))}),A()()}if(2&e){const n=t.$implicit,r=t.index,i=Y(3);T(1),R("isFirst",0===r)("isLast",r===i.videos.length-1)("video",n)}}function j4(e,t){if(1&e&&(I(0,"ul",23),W(1,V4,2,3,"li",24),A()),2&e){const n=Y(2);T(1),R("ngForOf",n.videos)}}function B4(e,t){if(1&e){const n=_n();Xt(0),I(1,"div",12)(2,"h1",13),L(3),A(),I(4,"div",14)(5,"button",15),ae("click",function(){return Rt(n),Nt(Y().formVisible=!0)}),Oe(6,"span",16),A(),I(7,"button",17),ae("click",function(){return Rt(n),Nt(Y().showDeleteDialog(!0))}),Oe(8,"span",18),A()()(),I(9,"div",19)(10,"p"),L(11),A(),I(12,"a",20),Oe(13,"span",21),L(14," Search "),A()(),W(15,j4,2,1,"ul",22),Zt()}if(2&e){const n=Y();T(3),Ke(" ",n.list.name," "),T(8),Ke(" ",n.searchMsg," "),T(1),R("routerLink","/search"),T(3),R("ngIf",n.videos&&n.videos.length>0)}}function U4(e,t){1&e&&(I(0,"div",28),L(1," Sorry, couldn't find this list. "),A())}function $4(e,t){1&e&&W(0,U4,2,0,"div",27),2&e&&R("ngIf",!Y().loading)}function H4(e,t){1&e&&(Xt(0),L(1," Delete list? "),Zt())}function G4(e,t){1&e&&(Xt(0),L(1," Remove video? "),Zt())}function z4(e,t){1&e&&(I(0,"span"),L(1," Are you sure you want to delete this list? "),A())}function K4(e,t){1&e&&(I(0,"span"),L(1," Are you sure you want to remove this video from the list? "),A())}function W4(e,t){if(1&e){const n=_n();I(0,"button",29),ae("click",function(){return Rt(n),Nt(Y().deleteList())}),L(1," Delete "),A()}2&e&&R("disabled",Y().deletingList)}function q4(e,t){if(1&e){const n=_n();I(0,"button",29),ae("click",function(){return Rt(n),Nt(Y().removeVideo())}),L(1," Remove "),A()}2&e&&R("disabled",Y().removingVideo)}function Y4(e,t){if(1&e){const n=_n();I(0,"app-list-dialog",30),ae("hidden",function(){return Rt(n),Nt(Y().formVisible=!1)}),A()}if(2&e){const n=Y();R("formList",n.formList)("show",n.formVisible)}}const J4=`${zo} deleting this list. ${Ko}.`,Q4=`${zo} removing this video. ${Ko}.`;class iu{constructor(t,n,r,i,o){this.ls=t,this.route=n,this.router=r,this.title=i,this.ts=o,this.aboutToDeleteList=!1,this.deletingList=!1,this.formVisible=!1,this.loading=!0,this.removingVideo=!1,this.showAddToListDialog=!1,this.searchMsg=TA}get dialogEl(){return this.dialog.nativeElement}ngOnInit(){var t=this;const n=this.route.snapshot.paramMap.get("id");this.id=parseInt(n),this.id&&(this.listSubscription=this.ls.videoLists$.subscribe(function(){var r=xt(function*(i){if(t.list=i.filter(s=>s.id==t.id)[0],t.loading=!1,!t.list)return;t.title.setTitle(`${Ri} | ${t.list.name}`),t.formList={name:t.list.name,id:t.id};const o=yield t.ls.getVideos(t.list.videoIDs||[]);t.videos=o.filter(s=>s)});return function(i){return r.apply(this,arguments)}}()))}ngOnDestroy(){this.listSubscription?.unsubscribe()}addVideoToList(t){t&&(this.video=t,this.showAddToListDialog=!0)}deleteList(){var t=this;return xt(function*(){t.deletingList=!0;try{yield t.ls.deleteList(t.list),t.router.navigate(["/lists"])}catch(n){console.error(n),t.dialogEl.close(),t.ts.addToast(J4)}t.deletingList=!1})()}moveVideo(t,n){var r=this;return xt(function*(){if(!r.videos||0==r.videos.length||!r.list?.id)return;const i=r.videos[t];r.videos.splice(t,1),r.videos.splice(t+n,0,i);const o=r.videos.map(s=>s.id);try{yield r.ls.updateList(r.list?.id,{videoIDs:o})}catch(s){console.log(s)}})()}prepareVideoForRemoval(t){this.video=t,this.showDeleteDialog(!1)}removeVideo(){var t=this;return xt(function*(){if(t.video&&t.list){t.removingVideo=!0;try{yield t.ls.removeVideoFromLists(t.video,[t.list])}catch(n){console.error(n),t.ts.addToast(Q4)}t.dialogEl.close(),t.removingVideo=!1}})()}showDeleteDialog(t){this.aboutToDeleteList=t,this.dialogEl.showModal(),this.dialogEl.focus()}}function X4(e,t){if(1&e&&(Xt(0),Oe(1,"img",17),Zt()),2&e){const n=t.ngIf;T(1),Zr("src",n.backdrop.src,us),Zr("srcset",n.backdrop.srcSet)}}function Z4(e,t){if(1&e&&(Xt(0),Oe(1,"img",18),Zt()),2&e){const n=t.ngIf;T(1),Zr("src",n.poster.src,us),Zr("srcset",n.poster.srcSet)}}function e5(e,t){1&e&&(I(0,"a",19),Oe(1,"span",20),A()),2&e&&wa("href","https://www.imdb.com/title/",Y(2).video.imdbID,"",us)}function t5(e,t){if(1&e&&(I(0,"p",21),L(1),A()),2&e){const n=Y(2);T(1),Ke(" ",n.video.overview," ")}}function n5(e,t){if(1&e&&(I(0,"li"),L(1),A()),2&e){const n=t.$implicit;T(1),Ke(" ",n," ")}}function r5(e,t){if(1&e&&(I(0,"div",22)(1,"div",23),L(2," Cast "),A(),I(3,"ul",24),W(4,n5,2,1,"li",25),A()()),2&e){const n=Y(2);T(4),R("ngForOf",n.video.cast)}}function i5(e,t){if(1&e&&(I(0,"li"),L(1),A()),2&e){const n=t.$implicit;T(1),Ke(" ",n," ")}}function o5(e,t){if(1&e&&(I(0,"div",22)(1,"div",26),L(2," Directed by "),A(),I(3,"ul",27),W(4,i5,2,1,"li",25),A()()),2&e){const n=Y(2);T(4),R("ngForOf",n.video.directors)}}function s5(e,t){if(1&e&&(I(0,"li"),L(1),A()),2&e){const n=t.$implicit;T(1),Ke(" ",n," ")}}function a5(e,t){if(1&e&&(I(0,"div",22)(1,"div",28),L(2," Created by "),A(),I(3,"ul",29),W(4,s5,2,1,"li",25),A()()),2&e){const n=Y(2);T(4),R("ngForOf",n.video.creators)}}function l5(e,t){if(1&e&&(I(0,"li"),L(1),A()),2&e){const n=t.$implicit;T(1),Ke(" ",n," ")}}function c5(e,t){if(1&e&&(I(0,"div",22)(1,"div",30),L(2," Genres "),A(),I(3,"ul",31),W(4,l5,2,1,"li",25),A()()),2&e){const n=Y(2);T(4),R("ngForOf",n.video.genres)}}function u5(e,t){if(1&e&&Oe(0,"span"),2&e){const n=Y().$implicit;DD("video-page__streamer-icon icon icon--",Y(3).getStreamerLogoName(n),"")}}function d5(e,t){if(1&e&&(I(0,"li",35),W(1,u5,1,3,"span",36),L(2),A()),2&e){const n=t.$implicit,r=Y(3);T(1),R("ngIf",r.getStreamerLogoName(n)),T(1),Ke(" ",n," ")}}function f5(e,t){if(1&e&&(Xt(0),I(1,"div",32),L(2," Watch on "),A(),I(3,"ul",33),W(4,d5,3,2,"li",34),A(),Zt()),2&e){const n=Y(2);T(4),R("ngForOf",n.streamers)}}function h5(e,t){if(1&e){const n=_n();Xt(0),I(1,"div",3),W(2,X4,2,2,"ng-container",4),qi(3,"async"),W(4,Z4,2,2,"ng-container",4),qi(5,"async"),A(),I(6,"div",5)(7,"h1",6),L(8),A(),I(9,"div",7),W(10,e5,2,1,"a",8),I(11,"button",9),ae("click",function(){return Rt(n),Nt(Y().showAddToListDialog=!0)}),Oe(12,"span",10),A()()(),I(13,"div",11),Oe(14,"app-video-details",12),A(),W(15,t5,2,1,"p",13),I(16,"div",14),W(17,r5,5,1,"div",15),W(18,o5,5,1,"div",15),W(19,a5,5,1,"div",15),W(20,c5,5,1,"div",15),A(),W(21,f5,5,1,"ng-container",4),I(22,"app-add-to-list",16),ae("hidden",function(){return Rt(n),Nt(Y().showAddToListDialog=!1)}),A(),Zt()}if(2&e){const n=Y();T(2),R("ngIf",n.video.backdropPath&&Ql(3,14,n.vds.getImgSources(n.video.backdropPath))),T(2),R("ngIf",!n.video.backdropPath&&Ql(5,16,n.vds.getImgSources(n.video.posterPath))),T(4),Ke(" ",n.video.title," "),T(2),R("ngIf",n.video.imdbID),T(4),R("inline",!0)("video",n.video),T(1),R("ngIf",n.video.overview),T(2),R("ngIf",n.video.cast&&n.video.cast.length>0),T(1),R("ngIf",n.video.directors&&n.video.directors.length>0),T(1),R("ngIf",n.video.creators&&n.video.creators.length>0),T(1),R("ngIf",n.video.genres&&n.video.genres.length>0),T(1),R("ngIf",n.streamers&&n.streamers.length>0),T(1),R("show",n.showAddToListDialog)("video",n.video)}}function p5(e,t){1&e&&(I(0,"div",38),L(1," Sorry, couldn't find this video. "),A())}function g5(e,t){1&e&&W(0,p5,2,0,"div",37),2&e&&R("ngIf",!Y().loading)}iu.\u0275fac=function(t){return new(t||iu)(F(fo),F(Vo),F(kn),F(Rd),F(ki))},iu.\u0275cmp=Vn({type:iu,selectors:[["app-list-page"]],viewQuery:function(t,n){if(1&t&&Nr(L4,5),2&t){let r;br(r=wr())&&(n.dialog=r.first)}},decls:19,vars:11,consts:[[4,"ngIf","ngIfElse"],["listNotFound",""],[1,"dialog","u-text-center"],["deleteDialog",""],[1,"dialog__heading"],[4,"ngIf"],[1,"u-mb-32"],[1,"form__actions"],[1,"btn","btn--flat",3,"click"],["class","btn btn--danger",3,"disabled","click",4,"ngIf"],[3,"formList","show","hidden",4,"ngIf"],[3,"show","video","hidden"],[1,"title-bar"],[1,"title-bar__heading"],[1,"title-bar__actions"],["aria-label","Edit list",1,"icon-btn",3,"click"],[1,"icon","icon--edit"],["aria-label","Delete list",1,"icon-btn",3,"click"],[1,"icon","icon--delete"],[1,"u-tutorial","u-mb-24"],["aria-label","Search for videos",1,"btn","btn--primary",3,"routerLink"],[1,"icon","icon--search"],["aria-label","Videos","class","list container container--narrow",4,"ngIf"],["aria-label","Videos",1,"list","container","container--narrow"],["class","list__item",4,"ngFor","ngForOf"],[1,"list__item"],[3,"isFirst","isLast","video","add","remove","moveUp","moveDown"],["class","u-zero-state",4,"ngIf"],[1,"u-zero-state"],[1,"btn","btn--danger",3,"disabled","click"],[3,"formList","show","hidden"]],template:function(t,n){if(1&t&&(I(0,"section"),W(1,B4,16,4,"ng-container",0),A(),W(2,$4,1,1,"ng-template",null,1,ms),I(4,"dialog",2,3)(6,"h2",4),W(7,H4,2,0,"ng-container",5),W(8,G4,2,0,"ng-container",5),A(),I(9,"p",6),W(10,z4,2,0,"span",5),W(11,K4,2,0,"span",5),A(),I(12,"div",7)(13,"button",8),ae("click",function(){return n.dialogEl.close()}),L(14," Cancel "),A(),W(15,W4,2,1,"button",9),W(16,q4,2,1,"button",9),A()(),W(17,Y4,1,2,"app-list-dialog",10),I(18,"app-add-to-list",11),ae("hidden",function(){return n.showAddToListDialog=!1}),A()),2&t){const r=Wi(3);T(1),R("ngIf",n.list)("ngIfElse",r),T(6),R("ngIf",n.aboutToDeleteList),T(1),R("ngIf",!n.aboutToDeleteList),T(2),R("ngIf",n.aboutToDeleteList),T(1),R("ngIf",!n.aboutToDeleteList),T(4),R("ngIf",n.aboutToDeleteList),T(1),R("ngIf",!n.aboutToDeleteList),T(1),R("ngIf",n.list&&n.formList),T(1),R("show",n.showAddToListDialog)("video",n.video)}},dependencies:[Is,vs,Si,Wo,Ls,rl],encapsulation:2});class ou{constructor(t,n,r){this.route=t,this.ts=n,this.vds=r,this.loading=!0,this.showAddToListDialog=!1}ngOnInit(){const t=this.route.snapshot.paramMap.get("id"),n=parseInt(t||"0");if(!n)return;const r=this.route.snapshot.queryParamMap.get("type");this.videoDetailsSubscription=this.vds.getDetails(n,r).subscribe(([i,o])=>{this.loading=!1,i&&(this.video=i,this.streamers=this.removeDuplicateStreamers(o),this.ts.setTitle(`${Ri} | ${i.title}`))})}ngOnDestroy(){this.videoDetailsSubscription?.unsubscribe()}getStreamerLogoName(t){return t?t.includes("CBS")?"cbs":t.includes("Comedy Central")?"comedy-central":t.includes("DIRECTV")?"direct-tv":t.includes("Disney")?"disney":t.includes("fuboTV")?"fubotv":t.includes("FXNow")?"fxnow":t.includes("Fox")?"fox":t.includes("Hulu")?"hulu":t.includes("NBC")?"nbc":t.includes("Max")?"hbo-max":t.includes("MGM Plus")?"mgm":t.includes("Netflix")?"netflix":t.includes("Paramount")?"paramount":t.includes("Peacock")?"peacock":t.includes("Showtime")?"showtime":t.includes("Starz")?"starz":t.includes("USA Network")?"usa-network":t.includes("Prime Video")?"prime-video":t.includes("Apple TV Plus")?"apple-tv":"streamer":null}removeDuplicateStreamers(t){return t?.filter(n=>!n.includes(" Channel"))}}ou.\u0275fac=function(t){return new(t||ou)(F(Vo),F(Rd),F(Ni))},ou.\u0275cmp=Vn({type:ou,selectors:[["app-video-page"]],decls:4,vars:2,consts:[[1,"video-page"],[4,"ngIf","ngIfElse"],["videoNotFound",""],[1,"video-page__hero"],[4,"ngIf"],[1,"video-page__title","title-bar"],[1,"title-bar__heading"],[1,"title-bar__actions"],["aria-label","See more details at IMDB","class","icon-btn","target","_blank",3,"href",4,"ngIf"],["aria-label","Add to a list",1,"icon-btn",3,"click"],[1,"icon","icon--add-to-list"],[1,"video-page__details"],[3,"inline","video"],["class","video-page__overview",4,"ngIf"],[1,"video-page__lists"],["class","video-page__list-wrapper",4,"ngIf"],[3,"show","video","hidden"],["role","presentation","sizes","(max-width: 800px) 100w, 800px",1,"video-page__backdrop",3,"src","srcset"],["role","presentation","sizes","(max-width: 800px) 38vw, 300px",1,"video-page__poster",3,"src","srcset"],["aria-label","See more details at IMDB","target","_blank",1,"icon-btn",3,"href"],[1,"icon","icon--imdb"],[1,"video-page__overview"],[1,"video-page__list-wrapper"],["aria-hidden","true","id","video-cast-label",1,"video-page__list-label"],["aria-labelledby","video-cast-label"],[4,"ngFor","ngForOf"],["aria-hidden","true","id","video-director-label",1,"video-page__list-label"],["aria-labelledby","video-director-label"],["aria-hidden","true","id","video-creator-label",1,"video-page__list-label"],["aria-labelledby","video-creator-label"],["aria-hidden","true","id","video-genres-label",1,"video-page__list-label"],["aria-labelledby","video-genres-label"],["aria-hidden","true","id","video-streamers-label",1,"video-page__list-label","video-page__list-label--streamers"],["aria-labelledby","video-streamers-label",1,"video-page__streamer-list"],["class","video-page__streamer",4,"ngFor","ngForOf"],[1,"video-page__streamer"],[3,"class",4,"ngIf"],["class","u-zero-state",4,"ngIf"],[1,"u-zero-state"]],template:function(t,n){if(1&t&&(I(0,"section",0),W(1,h5,23,18,"ng-container",1),A(),W(2,g5,1,1,"ng-template",null,2,ms)),2&t){const r=Wi(3);T(1),R("ngIf",n.video)("ngIfElse",r)}},dependencies:[vs,Si,Ls,nl,Td],styles:["[_ngcontent-%COMP%]:root{--color-danger: #ef5350;--color-interactive: #2196f3;--color-interacting: #64b5f6;--color-bg-1: #141416;--color-bg-2: #23262f;--color-grey-1: #575d71;--color-text: #fcfcfd;--color-text-inverted: #141416;--color-text-muted: #b1b5c3}.light-theme[_ngcontent-%COMP%]{--color-danger: #c62828;--color-interactive: #1565c0;--color-interacting: #42a5f5;--color-bg-1: #e6e8ec;--color-bg-2: #fcfcfd;--color-grey-1: #b1b5c3;--color-text: #141416;--color-text-inverted: #fcfcfd;--color-text-muted: #575d71}.video-page[_ngcontent-%COMP%]{--video-details-margin-bottom: 3.2rem;margin-top:-32px}.video-page__hero[_ngcontent-%COMP%]{aspect-ratio:16/9;background-color:#141416;margin:0 -24px 24px}.video-page__backdrop[_ngcontent-%COMP%]{display:block;height:100%;object-fit:cover;object-position:top;width:100%}.video-page__poster[_ngcontent-%COMP%]{display:block;height:100%;margin:0 auto}.video-page__details[_ngcontent-%COMP%]{font-size:7px;margin-bottom:32px}.video-page__overview[_ngcontent-%COMP%]{margin-bottom:var(--video-overview-margin-bottom, 24px)}@media (width >= 600px){.video-page__overview[_ngcontent-%COMP%]{--video-overview-margin-bottom: 48px}}.video-page__lists[_ngcontent-%COMP%]{display:grid;gap:24px;margin-bottom:48px}@media (width >= 600px){.video-page__lists[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.video-page__list-label[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-weight:700;letter-spacing:-.02em;line-height:1.167em;font-size:1.7rem;color:var(--color-text-muted);margin-bottom:8px}.video-page__list-label--streamers[_ngcontent-%COMP%]{margin-bottom:24px}.video-page__streamer[_ngcontent-%COMP%]{--icon-size: 6em;align-items:center;display:flex;flex-direction:column;font-size:var(--video-page-streamer-font-size, 12px);gap:4px;text-align:center}.video-page__streamer-list[_ngcontent-%COMP%]{display:grid;gap:16px;grid-template-columns:repeat(var(--video-page-streamer-grid-cols, 3),1fr)}@media (width >= 500px){.video-page__streamer-list[_ngcontent-%COMP%]{--video-page-streamer-grid-cols: 4}}@media (width >= 600px){.video-page__streamer-list[_ngcontent-%COMP%]{--video-page-streamer-grid-cols: 6}}@media (width >= 600px){.video-page__streamer[_ngcontent-%COMP%]{--video-page-streamer-font-size: 1.4rem}}.video-page__streamer-icon[_ngcontent-%COMP%]{width:75%}"]});const m5=[{component:tu,path:"lists",title:`${Ri} | Lists`},{component:ru,path:"search",title:`${Ri} | Search`},{component:iu,path:"list/:id",title:Ri},{component:ou,path:"video/:id",title:Ri},{component:eu,path:"settings",title:`${Ri} | Settings`},{path:"",pathMatch:"full",redirectTo:"/lists"},{path:"**",redirectTo:"/lists"}];class il{}il.\u0275fac=function(t){return new(t||il)},il.\u0275mod=hr({type:il}),il.\u0275inj=tr({imports:[FS.forRoot(m5,{scrollPositionRestoration:"enabled"}),FS]});const vv=function(){return["nav__li--active"]};class su{constructor(t){this.router=t,this.appName=Ri,this.menuVisible=!1}ngOnInit(){this.routerEventsSub=this.router.events.subscribe(t=>{this.menuVisible&&t instanceof Sc&&this.toggleMenu()})}ngOnDestroy(){this.routerEventsSub.unsubscribe()}toggleMenu(){this.menuVisible=!this.menuVisible}}function y5(e,t){if(1&e&&(I(0,"div",2),L(1),A()),2&e){const n=t.$implicit;T(1),Ke(" ",n.message," ")}}su.\u0275fac=function(t){return new(t||su)(F(kn))},su.\u0275cmp=Vn({type:su,selectors:[["app-header"]],decls:23,vars:14,consts:[[1,"header","container"],[1,"header__main"],[1,"lockup",3,"routerLink"],[1,"lockup__logo-container"],["alt","app logo","src","./assets/svgs/logo.svg",1,"lockup__logo"],[1,"lockup__name"],["aria-controls","nav-wrapper","aria-label","Toggle navigation menu",1,"header__nav-btn","btn","icon-btn",3,"click"],[1,"icon","icon--menu"],[1,"icon","icon--close"],[1,"header__divider"],["id","nav-wrapper",1,"nav-wrapper"],[1,"nav"],[1,"nav__ul"],[1,"nav__li",3,"routerLinkActive"],[1,"nav__a",3,"routerLink"]],template:function(t,n){1&t&&(I(0,"header",0)(1,"div",1)(2,"a",2)(3,"div",3),Oe(4,"img",4),A(),I(5,"div",5),L(6),A()(),I(7,"button",6),ae("click",function(){return n.toggleMenu()}),Oe(8,"span",7)(9,"span",8),A()(),Oe(10,"div",9),I(11,"div",10)(12,"nav",11)(13,"ul",12)(14,"li",13)(15,"a",14),L(16," Lists "),A()(),I(17,"li",13)(18,"a",14),L(19," Search "),A()(),I(20,"li",13)(21,"a",14),L(22," Settings "),A()()()()()()),2&t&&(T(2),R("routerLink","/"),T(4),Ke(" ",n.appName," "),T(1),Gn("aria-expanded",n.menuVisible),T(4),Ca("nav-wrapper--visible",n.menuVisible),T(3),R("routerLinkActive",ld(11,vv)),T(1),R("routerLink","/lists"),T(2),R("routerLinkActive",ld(12,vv)),T(1),R("routerLink","/search"),T(2),R("routerLinkActive",ld(13,vv)),T(1),R("routerLink","/settings"))},dependencies:[Is,MS],styles:["[_ngcontent-%COMP%]:root{--color-danger: #ef5350;--color-interactive: #2196f3;--color-interacting: #64b5f6;--color-bg-1: #141416;--color-bg-2: #23262f;--color-grey-1: #575d71;--color-text: #fcfcfd;--color-text-inverted: #141416;--color-text-muted: #b1b5c3}.light-theme[_ngcontent-%COMP%]{--color-danger: #c62828;--color-interactive: #1565c0;--color-interacting: #42a5f5;--color-bg-1: #e6e8ec;--color-bg-2: #fcfcfd;--color-grey-1: #b1b5c3;--color-text: #141416;--color-text-inverted: #fcfcfd;--color-text-muted: #575d71}.header[_ngcontent-%COMP%]{padding:var(--header-padding, 24px)}@media (width >= 600px){.header[_ngcontent-%COMP%]{--header-padding: 16px 24px;align-items:center;border-bottom:1px solid var(--color-grey-1);display:flex}}.header__main[_ngcontent-%COMP%]{align-items:center;display:flex}@media (width < 600px){.header__main[_ngcontent-%COMP%]{justify-content:space-between}}@media (width >= 600px){.header__nav-btn[_ngcontent-%COMP%]{display:none}}.header__nav-btn[aria-expanded=false][_ngcontent-%COMP%]   .icon--close[_ngcontent-%COMP%], .header__nav-btn[aria-expanded=true][_ngcontent-%COMP%]   .icon--menu[_ngcontent-%COMP%]{display:none}.header__divider[_ngcontent-%COMP%]{background-color:var(--color-grey-1);height:40px;margin:0 40px;width:1px}@media (width < 600px){.header__divider[_ngcontent-%COMP%]{display:none}}.lockup[_ngcontent-%COMP%]{align-items:center;display:flex;font-size:var(--lockup-name-font-size, 1.8rem);gap:12px}@media (width >= 600px){.lockup[_ngcontent-%COMP%]{--lockup-name-font-size: 2rem}}.lockup__logo[_ngcontent-%COMP%]{width:70%}.lockup__logo-container[_ngcontent-%COMP%]{background-color:var(--color-text);border-radius:50%;display:grid;height:1.8em;place-items:center center;width:1.8em}.lockup__name[_ngcontent-%COMP%]{font-weight:700;letter-spacing:-.02em}@media (width < 600px){.nav-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-rows:0fr;overflow:hidden;transition:grid-template-rows .3s ease-in-out}.nav-wrapper--visible[_ngcontent-%COMP%]{grid-template-rows:1fr}}@media (width < 600px){.nav[_ngcontent-%COMP%]{min-height:0;transition:visibility .25s ease-in-out;visibility:hidden}.nav-wrapper--visible[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{visibility:visible}}@media (width < 600px){.nav__ul[_ngcontent-%COMP%]{margin:8px 0 32px}}@media (width >= 600px){.nav__ul[_ngcontent-%COMP%]{display:flex;gap:16px}}.nav__li[_ngcontent-%COMP%]{border-color:var(--nav-li-active-border-color, transparent);border-style:solid;border-width:0;font-family:DM Sans,sans-serif}@media (width < 600px){.nav__li[_ngcontent-%COMP%]{border-inline-start-width:3px;font-size:2rem}}@media (width >= 600px){.nav__li[_ngcontent-%COMP%]{border-block-end-width:3px}}.nav__li--active[_ngcontent-%COMP%]{--nav-li-active-border-color: #1565c0;font-weight:700}.nav__a[_ngcontent-%COMP%]{display:block;padding:var(--nav-a-padding, 12px 32px);transition:color .25s ease-in-out}@media (width >= 600px){.nav__a[_ngcontent-%COMP%]{--nav-a-padding: 8px}}.nav__a[_ngcontent-%COMP%]:focus-visible, .nav__a[_ngcontent-%COMP%]:hover{color:var(--color-interacting)}.nav__a[_ngcontent-%COMP%]:focus-visible{outline:none}"]});class au{constructor(t){this.ts=t}get toasts(){return this.ts.getToasts()}}au.\u0275fac=function(t){return new(t||au)(F(ki))},au.\u0275cmp=Vn({type:au,selectors:[["app-toasts"]],decls:2,vars:1,consts:[[1,"toast-container"],["aria-live","polite","class","toast","role","status",4,"ngFor","ngForOf"],["aria-live","polite","role","status",1,"toast"]],template:function(t,n){1&t&&(I(0,"div",0),W(1,y5,2,1,"div",1),A()),2&t&&(T(1),R("ngForOf",n.toasts))},dependencies:[vs],styles:["[_ngcontent-%COMP%]:root{--color-danger: #ef5350;--color-interactive: #2196f3;--color-interacting: #64b5f6;--color-bg-1: #141416;--color-bg-2: #23262f;--color-grey-1: #575d71;--color-text: #fcfcfd;--color-text-inverted: #141416;--color-text-muted: #b1b5c3}.light-theme[_ngcontent-%COMP%]{--color-danger: #c62828;--color-interactive: #1565c0;--color-interacting: #42a5f5;--color-bg-1: #e6e8ec;--color-bg-2: #fcfcfd;--color-grey-1: #b1b5c3;--color-text: #141416;--color-text-inverted: #fcfcfd;--color-text-muted: #575d71}.toast[_ngcontent-%COMP%]{background:#23262f;border-radius:8px;color:#fcfcfd;font-size:14px;font-weight:500;padding:16px;width:300px}@media (min-width: 600px){.toast[_ngcontent-%COMP%]{width:500px}}.toast-container[_ngcontent-%COMP%]{bottom:24px;display:flex;flex-direction:column-reverse;gap:16px;left:50%;position:fixed;transform:translate(-50%);z-index:100}"]});class ol{}ol.\u0275fac=function(t){return new(t||ol)},ol.\u0275mod=hr({type:ol,bootstrap:[tl]}),ol.\u0275inj=tr({providers:[{provide:xo,useClass:T0}],imports:[il,C2,LV,n$,e4,Wo,EE]}),function qv(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>("function"==typeof t?t():t).map(Yv),r.pipeDefs=()=>("function"==typeof n?n():n).map(jn)}(tl,[zm,su,au],[]),D2().bootstrapModule(ol).catch(e=>console.error(e))},61:(Vt,go,mo)=>{var Pe=mo(698).default;function Yo(){"use strict";Vt.exports=Yo=function(){return Fn},Vt.exports.__esModule=!0,Vt.exports.default=Vt.exports;var Fn={},Jo=Object.prototype,Jt=Jo.hasOwnProperty,Qo=Object.defineProperty||function(te,z,G){te[z]=G.value},js="function"==typeof Symbol?Symbol:{},Xo=js.iterator||"@@iterator",Fi=js.asyncIterator||"@@asyncIterator",yo=js.toStringTag||"@@toStringTag";function dr(te,z,G){return Object.defineProperty(te,z,{value:G,enumerable:!0,configurable:!0,writable:!0}),te[z]}try{dr({},"")}catch{dr=function(G,ve,Re){return G[ve]=Re}}function al(te,z,G,ve){var Ae=Object.create((z&&z.prototype instanceof cl?z:cl).prototype),jt=new dl(ve||[]);return Qo(Ae,"_invoke",{value:Do(te,G,jt)}),Ae}function ll(te,z,G){try{return{type:"normal",arg:te.call(z,G)}}catch(ve){return{type:"throw",arg:ve}}}Fn.wrap=al;var Tr={};function cl(){}function vo(){}function Ln(){}var _o={};dr(_o,Xo,function(){return this});var ul=Object.getPrototypeOf,bo=ul&&ul(ul(ts([])));bo&&bo!==Jo&&Jt.call(bo,Xo)&&(_o=bo);var wo=Ln.prototype=cl.prototype=Object.create(_o);function Bs(te){["next","throw","return"].forEach(function(z){dr(te,z,function(G){return this._invoke(z,G)})})}function Us(te,z){function G(Re,Ae,jt,yt){var bn=ll(te[Re],te,Ae);if("throw"!==bn.type){var hi=bn.arg,ct=hi.value;return ct&&"object"==Pe(ct)&&Jt.call(ct,"__await")?z.resolve(ct.__await).then(function(st){G("next",st,jt,yt)},function(st){G("throw",st,jt,yt)}):z.resolve(ct).then(function(st){hi.value=st,jt(hi)},function(st){return G("throw",st,jt,yt)})}yt(bn.arg)}var ve;Qo(this,"_invoke",{value:function(Ae,jt){function yt(){return new z(function(bn,hi){G(Ae,jt,bn,hi)})}return ve=ve?ve.then(yt,yt):yt()}})}function Do(te,z,G){var ve="suspendedStart";return function(Re,Ae){if("executing"===ve)throw new Error("Generator is already running");if("completed"===ve){if("throw"===Re)throw Ae;return{value:void 0,done:!0}}for(G.method=Re,G.arg=Ae;;){var jt=G.delegate;if(jt){var yt=Zo(jt,G);if(yt){if(yt===Tr)continue;return yt}}if("next"===G.method)G.sent=G._sent=G.arg;else if("throw"===G.method){if("suspendedStart"===ve)throw ve="completed",G.arg;G.dispatchException(G.arg)}else"return"===G.method&&G.abrupt("return",G.arg);ve="executing";var bn=ll(te,z,G);if("normal"===bn.type){if(ve=G.done?"completed":"suspendedYield",bn.arg===Tr)continue;return{value:bn.arg,done:G.done}}"throw"===bn.type&&(ve="completed",G.method="throw",G.arg=bn.arg)}}}function Zo(te,z){var G=z.method,ve=te.iterator[G];if(void 0===ve)return z.delegate=null,"throw"===G&&te.iterator.return&&(z.method="return",z.arg=void 0,Zo(te,z),"throw"===z.method)||"return"!==G&&(z.method="throw",z.arg=new TypeError("The iterator does not provide a '"+G+"' method")),Tr;var Re=ll(ve,te.iterator,z.arg);if("throw"===Re.type)return z.method="throw",z.arg=Re.arg,z.delegate=null,Tr;var Ae=Re.arg;return Ae?Ae.done?(z[te.resultName]=Ae.value,z.next=te.nextLoc,"return"!==z.method&&(z.method="next",z.arg=void 0),z.delegate=null,Tr):Ae:(z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,Tr)}function sh(te){var z={tryLoc:te[0]};1 in te&&(z.catchLoc=te[1]),2 in te&&(z.finallyLoc=te[2],z.afterLoc=te[3]),this.tryEntries.push(z)}function es(te){var z=te.completion||{};z.type="normal",delete z.arg,te.completion=z}function dl(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(sh,this),this.reset(!0)}function ts(te){if(te){var z=te[Xo];if(z)return z.call(te);if("function"==typeof te.next)return te;if(!isNaN(te.length)){var G=-1,ve=function Re(){for(;++G<te.length;)if(Jt.call(te,G))return Re.value=te[G],Re.done=!1,Re;return Re.value=void 0,Re.done=!0,Re};return ve.next=ve}}return{next:Kr}}function Kr(){return{value:void 0,done:!0}}return vo.prototype=Ln,Qo(wo,"constructor",{value:Ln,configurable:!0}),Qo(Ln,"constructor",{value:vo,configurable:!0}),vo.displayName=dr(Ln,yo,"GeneratorFunction"),Fn.isGeneratorFunction=function(te){var z="function"==typeof te&&te.constructor;return!!z&&(z===vo||"GeneratorFunction"===(z.displayName||z.name))},Fn.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,Ln):(te.__proto__=Ln,dr(te,yo,"GeneratorFunction")),te.prototype=Object.create(wo),te},Fn.awrap=function(te){return{__await:te}},Bs(Us.prototype),dr(Us.prototype,Fi,function(){return this}),Fn.AsyncIterator=Us,Fn.async=function(te,z,G,ve,Re){void 0===Re&&(Re=Promise);var Ae=new Us(al(te,z,G,ve),Re);return Fn.isGeneratorFunction(z)?Ae:Ae.next().then(function(jt){return jt.done?jt.value:Ae.next()})},Bs(wo),dr(wo,yo,"Generator"),dr(wo,Xo,function(){return this}),dr(wo,"toString",function(){return"[object Generator]"}),Fn.keys=function(te){var z=Object(te),G=[];for(var ve in z)G.push(ve);return G.reverse(),function Re(){for(;G.length;){var Ae=G.pop();if(Ae in z)return Re.value=Ae,Re.done=!1,Re}return Re.done=!0,Re}},Fn.values=ts,dl.prototype={constructor:dl,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(es),!z)for(var G in this)"t"===G.charAt(0)&&Jt.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=void 0)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if("throw"===z.type)throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var G=this;function ve(hi,ct){return jt.type="throw",jt.arg=z,G.next=hi,ct&&(G.method="next",G.arg=void 0),!!ct}for(var Re=this.tryEntries.length-1;Re>=0;--Re){var Ae=this.tryEntries[Re],jt=Ae.completion;if("root"===Ae.tryLoc)return ve("end");if(Ae.tryLoc<=this.prev){var yt=Jt.call(Ae,"catchLoc"),bn=Jt.call(Ae,"finallyLoc");if(yt&&bn){if(this.prev<Ae.catchLoc)return ve(Ae.catchLoc,!0);if(this.prev<Ae.finallyLoc)return ve(Ae.finallyLoc)}else if(yt){if(this.prev<Ae.catchLoc)return ve(Ae.catchLoc,!0)}else{if(!bn)throw new Error("try statement without catch or finally");if(this.prev<Ae.finallyLoc)return ve(Ae.finallyLoc)}}}},abrupt:function(z,G){for(var ve=this.tryEntries.length-1;ve>=0;--ve){var Re=this.tryEntries[ve];if(Re.tryLoc<=this.prev&&Jt.call(Re,"finallyLoc")&&this.prev<Re.finallyLoc){var Ae=Re;break}}Ae&&("break"===z||"continue"===z)&&Ae.tryLoc<=G&&G<=Ae.finallyLoc&&(Ae=null);var jt=Ae?Ae.completion:{};return jt.type=z,jt.arg=G,Ae?(this.method="next",this.next=Ae.finallyLoc,Tr):this.complete(jt)},complete:function(z,G){if("throw"===z.type)throw z.arg;return"break"===z.type||"continue"===z.type?this.next=z.arg:"return"===z.type?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):"normal"===z.type&&G&&(this.next=G),Tr},finish:function(z){for(var G=this.tryEntries.length-1;G>=0;--G){var ve=this.tryEntries[G];if(ve.finallyLoc===z)return this.complete(ve.completion,ve.afterLoc),es(ve),Tr}},catch:function(z){for(var G=this.tryEntries.length-1;G>=0;--G){var ve=this.tryEntries[G];if(ve.tryLoc===z){var Re=ve.completion;if("throw"===Re.type){var Ae=Re.arg;es(ve)}return Ae}}throw new Error("illegal catch attempt")},delegateYield:function(z,G,ve){return this.delegate={iterator:ts(z),resultName:G,nextLoc:ve},"next"===this.method&&(this.arg=void 0),Tr}},Fn}Vt.exports=Yo,Vt.exports.__esModule=!0,Vt.exports.default=Vt.exports},698:Vt=>{function go(mo){return Vt.exports=go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Pe){return typeof Pe}:function(Pe){return Pe&&"function"==typeof Symbol&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},Vt.exports.__esModule=!0,Vt.exports.default=Vt.exports,go(mo)}Vt.exports=go,Vt.exports.__esModule=!0,Vt.exports.default=Vt.exports},687:(Vt,go,mo)=>{var Pe=mo(61)();Vt.exports=Pe;try{regeneratorRuntime=Pe}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=Pe:Function("r","regeneratorRuntime = r")(Pe)}}},Vt=>{Vt(Vt.s=971)}]);